{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mall\\trade\\order\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mall\\trade\\order\\index.vue","mtime":1704630437980},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvODk0MjUvSWRlYVByb2plY3RzL3FyLWNvZGUtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzLzg5NDI1L0lkZWFQcm9qZWN0cy9xci1jb2RlLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIikpOwp2YXIgX29yZGVyID0gcmVxdWlyZSgiQC9hcGkvbWFsbC90cmFkZS9vcmRlciIpOwp2YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoIkAvdXRpbHMvY29uc3RhbnRzIik7CnZhciBfZGljdCA9IHJlcXVpcmUoIkAvdXRpbHMvZGljdCIpOwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIlRyYWRlT3JkZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g5a+85Ye66YGu572p5bGCCiAgICAgIGV4cG9ydExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDkuqTmmJPllK7lkI7liJfooagKICAgICAgbGlzdDogW10sCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBzZWFyY2hUeXBlOiAnbm8nLAogICAgICAgIHNlYXJjaFZhbHVlOiAnJywKICAgICAgICB0eXBlOiBudWxsLAogICAgICAgIHN0YXR1czogbnVsbCwKICAgICAgICBwYXlDaGFubmVsQ29kZTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBbXQogICAgICB9LAogICAgICAvLyBUYWIg562b6YCJCiAgICAgIGFjdGl2ZVRhYjogJ2FsbCcsCiAgICAgIHN0YXR1c1RhYnM6IFt7CiAgICAgICAgbGFiZWw6ICflhajpg6gnLAogICAgICAgIHZhbHVlOiAnYWxsJwogICAgICB9XSwKICAgICAgLy8g6Z2Z5oCB5Y+Y6YePCiAgICAgIGRhdGVQaWNrZXJPcHRpb25zOiBfY29uc3RhbnRzLmRhdGVQaWNrZXJPcHRpb25zLAogICAgICBzZWFyY2hUeXBlczogW3sKICAgICAgICBsYWJlbDogJ+iuouWNleWPtycsCiAgICAgICAgdmFsdWU6ICdubycKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Lya5ZGY57yW5Y+3JywKICAgICAgICB2YWx1ZTogJ3VzZXJJZCcKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Lya5ZGY5pi156ewJywKICAgICAgICB2YWx1ZTogJ3VzZXJOaWNrbmFtZScKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Lya5ZGY5omL5py65Y+3JywKICAgICAgICB2YWx1ZTogJ3VzZXJNb2JpbGUnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aUtui0p+S6uuWnk+WQjScsCiAgICAgICAgdmFsdWU6ICdyZWNlaXZlck5hbWUnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aUtui0p+S6uuaJi+acuuWPt+eggScsCiAgICAgICAgdmFsdWU6ICdyZWNlaXZlck1vYmlsZScKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgICAvLyDorr7nva4gc3RhdHVzZXMg6L+H5rukCiAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSgoMCwgX2RpY3QuZ2V0RGljdERhdGFzKShfZGljdC5ESUNUX1RZUEUuVFJBREVfT1JERVJfU1RBVFVTKSksCiAgICAgIF9zdGVwOwogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgZGljdCA9IF9zdGVwLnZhbHVlOwogICAgICAgIHRoaXMuc3RhdHVzVGFicy5wdXNoKHsKICAgICAgICAgIGxhYmVsOiBkaWN0LmxhYmVsLAogICAgICAgICAgdmFsdWU6IGRpY3QudmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouWIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIC8vIOaJp+ihjOafpeivogogICAgICAoMCwgX29yZGVyLmdldE9yZGVyUGFnZSkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgdGhpcy5xdWVyeVBhcmFtcyksIHt9LCB7CiAgICAgICAgc2VhcmNoVHlwZTogdW5kZWZpbmVkLAogICAgICAgIHNlYXJjaFZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgbm86IHRoaXMucXVlcnlQYXJhbXMuc2VhcmNoVHlwZSA9PT0gJ25vJyA/IHRoaXMucXVlcnlQYXJhbXMuc2VhcmNoVmFsdWUgOiB1bmRlZmluZWQsCiAgICAgICAgdXNlcklkOiB0aGlzLnF1ZXJ5UGFyYW1zLnNlYXJjaFR5cGUgPT09ICd1c2VySWQnID8gdGhpcy5xdWVyeVBhcmFtcy5zZWFyY2hWYWx1ZSA6IHVuZGVmaW5lZCwKICAgICAgICB1c2VyTmlja25hbWU6IHRoaXMucXVlcnlQYXJhbXMuc2VhcmNoVHlwZSA9PT0gJ3VzZXJOaWNrbmFtZScgPyB0aGlzLnF1ZXJ5UGFyYW1zLnNlYXJjaFZhbHVlIDogdW5kZWZpbmVkLAogICAgICAgIHVzZXJNb2JpbGU6IHRoaXMucXVlcnlQYXJhbXMuc2VhcmNoVHlwZSA9PT0gJ3VzZXJNb2JpbGUnID8gdGhpcy5xdWVyeVBhcmFtcy5zZWFyY2hWYWx1ZSA6IHVuZGVmaW5lZCwKICAgICAgICByZWNlaXZlck5hbWU6IHRoaXMucXVlcnlQYXJhbXMuc2VhcmNoVHlwZSA9PT0gJ3JlY2VpdmVyTmFtZScgPyB0aGlzLnF1ZXJ5UGFyYW1zLnNlYXJjaFZhbHVlIDogdW5kZWZpbmVkLAogICAgICAgIHJlY2VpdmVyTW9iaWxlOiB0aGlzLnF1ZXJ5UGFyYW1zLnNlYXJjaFR5cGUgPT09ICdyZWNlaXZlck1vYmlsZScgPyB0aGlzLnF1ZXJ5UGFyYW1zLnNlYXJjaFZhbHVlIDogdW5kZWZpbmVkCiAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTm8gPSAxOwogICAgICB0aGlzLmFjdGl2ZVRhYiA9IHRoaXMucXVlcnlQYXJhbXMuc3RhdHVzID8gdGhpcy5xdWVyeVBhcmFtcy5zdGF0dXMgOiAnYWxsJzsgLy8g5aSE55CGIHRhYgogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLyoqIHRhYiDliIfmjaIgKi90YWJDbGljazogZnVuY3Rpb24gdGFiQ2xpY2sodGFiKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMuc3RhdHVzID0gdGFiLm5hbWUgPT09ICdhbGwnID8gdW5kZWZpbmVkIDogdGFiLm5hbWU7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGdvVG9EZXRhaWw6IGZ1bmN0aW9uIGdvVG9EZXRhaWwocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnVHJhZGVPcmRlckRldGFpbCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["_order","require","_constants","_dict","_default","exports","default","name","data","loading","exportLoading","showSearch","total","list","queryParams","pageNo","pageSize","searchType","searchValue","type","status","payChannelCode","createTime","activeTab","statusTabs","label","value","datePickerOptions","searchTypes","created","getList","_iterator","_createForOfIteratorHelper2","getDictDatas","DICT_TYPE","TRADE_ORDER_STATUS","_step","s","n","done","dict","push","err","e","f","methods","_this","getOrderPage","_objectSpread2","undefined","no","userId","userNickname","userMobile","receiverName","receiverMobile","then","response","handleQuery","resetQuery","resetForm","tabClick","tab","goToDetail","row","$router","query","id"],"sources":["src/views/mall/trade/order/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <doc-alert title=\"功能开启\" url=\"https://doc.iocoder.cn/mall/build/\" />\r\n\r\n    <!-- 搜索工作栏 -->\r\n    <!-- TODO: inline 看看是不是需要; v-show= 那块逻辑还是要的 -->\r\n    <el-row :gutter=\"20\">\r\n      <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n        <el-col :span=\"6\" :xs=\"24\">\r\n          <el-form-item label=\"搜索方式\" prop=\"searchValue\">\r\n            <el-input v-model=\"queryParams.searchValue\" style=\"width: 240px\">\r\n              <el-select v-model=\"queryParams.searchType\" slot=\"prepend\" style=\"width: 100px\">\r\n                <el-option v-for=\"dict in searchTypes\" :key=\"dict.value\" :label=\"dict.label\" :value=\"dict.value\"/>\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\" :xs=\"24\">\r\n          <el-form-item label=\"订单类型\" prop=\"type\">\r\n            <el-select v-model=\"queryParams.type\" clearable style=\"width: 240px\">\r\n              <el-option v-for=\"dict in this.getDictDatas(DICT_TYPE.TRADE_ORDER_TYPE)\"\r\n                         :key=\"dict.value\" :label=\"dict.label\" :value=\"dict.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\" :xs=\"24\">\r\n          <el-form-item label=\"订单状态\" prop=\"status\">\r\n            <el-select v-model=\"queryParams.status\" clearable style=\"width: 240px\">\r\n              <el-option v-for=\"dict in this.getDictDatas(DICT_TYPE.TRADE_ORDER_STATUS)\"\r\n                         :key=\"dict.value\" :label=\"dict.label\" :value=\"dict.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\" :xs=\"24\">\r\n          <el-form-item label=\"订单来源\" prop=\"terminal\">\r\n            <el-select v-model=\"queryParams.terminal\" clearable style=\"width: 240px\">\r\n              <el-option v-for=\"dict in this.getDictDatas(DICT_TYPE.TERMINAL)\"\r\n                         :key=\"dict.value\" :label=\"dict.label\" :value=\"dict.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\" :xs=\"24\">\r\n          <el-form-item label=\"支付方式\" prop=\"payChannelCode\">\r\n            <el-select v-model=\"queryParams.payChannelCode\" clearable style=\"width: 240px\">\r\n              <el-option v-for=\"dict in this.getDictDatas(DICT_TYPE.PAY_CHANNEL_CODE)\"\r\n                         :key=\"dict.value\" :label=\"dict.label\" :value=\"dict.value\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\" :xs=\"24\">\r\n          <el-form-item label=\"下单时间\" prop=\"createTime\">\r\n            <el-date-picker v-model=\"queryParams.createTime\" style=\"width: 240px\" value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"daterange\"\r\n                            range-separator=\"-\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"\r\n                            :picker-options=\"datePickerOptions\" :default-time=\"['00:00:00', '23:59:59']\" />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\" :xs=\"24\" style=\"line-height: 32px\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n        </el-col>\r\n      </el-form>\r\n    </el-row>\r\n\r\n    <!-- 操作工具栏 -->\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <!-- tab切换 -->\r\n    <!-- TODO @小程：看看能不能往上挪 -40px，和【隐藏搜索】【刷新】对齐 -->\r\n    <el-tabs v-model=\"activeTab\" type=\"card\" @tab-click=\"tabClick\">\r\n      <el-tab-pane v-for=\"tab in statusTabs\" :key=\"tab.value\" :label=\"tab.label\" :name=\"tab.value\">\r\n        <!-- 列表 -->\r\n        <el-table v-loading=\"loading\" :data=\"list\" :show-header=\"false\" class=\"order-table\">\r\n          <el-table-column>\r\n            <template v-slot=\"{ row }\">\r\n              <el-row type=\"flex\" align=\"middle\">\r\n                <el-col :span=\"5\">\r\n                  订单号：{{row.no}}\r\n                  <el-popover title=\"支付单号：\" :content=\"row.payOrderId + ''\" placement=\"right\" width=\"200\" trigger=\"click\">\r\n                    <el-button slot=\"reference\" type=\"text\">更多</el-button>\r\n                  </el-popover>\r\n                </el-col>\r\n                <el-col :span=\"5\">下单时间：{{ parseTime(row.createTime) }}</el-col>\r\n                <el-col :span=\"4\">订单来源：\r\n                  <dict-tag :type=\"DICT_TYPE.TERMINAL\" :value=\"row.terminal\" />\r\n                </el-col>\r\n                <el-col :span=\"4\">支付方式：\r\n                  <dict-tag v-if=\"row.payChannelCode\" :type=\"DICT_TYPE.PAY_CHANNEL_CODE\" :value=\"row.payChannelCode\" />\r\n                  <span v-else>未支付</span>\r\n                </el-col>\r\n                <el-col :span=\"6\" align=\"right\">\r\n                  <el-button type=\"text\" @click=\"goToDetail(row)\">详情</el-button>\r\n                </el-col>\r\n              </el-row>\r\n              <!-- 订单下的商品 -->\r\n              <el-table :data=\"row.items\" border :show-header=\"true\">\r\n                <el-table-column label=\"商品\" prop=\"goods\" header-align=\"center\" width=\"auto\" min-width=\"300\">\r\n                  <template v-slot=\"{ row, $index }\">\r\n                    <div class=\"goods-info\">\r\n                      <img :src=\"row.picUrl\"/>\r\n                      <span class=\"ellipsis-2\" :title=\"row.spuName\">{{row.spuName}}</span>\r\n                      <!-- TODO @小程：下面是商品属性，想当度一行，放在商品名下面 -->\r\n                      <el-tag size=\"medium\" v-for=\"property in row.properties\" :key=\"property.propertyId\">\r\n                        {{property.propertyName}}：{{property.valueName}}</el-tag>\r\n                    </div>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"单价(元)/数量\" prop=\"fee\" align=\"center\" width=\"115\">\r\n                  <template v-slot=\"{ row }\">\r\n                    <div>￥{{ (row.originalUnitPrice / 100.0).toFixed(2) }}</div>\r\n                    <div>{{row.count}} 件</div>\r\n                  </template>\r\n                </el-table-column>\r\n                <!-- TODO @小程：这里应该是一个订单下，多个商品，只展示订单上的总金额，就是 order.payPrice -->\r\n                <el-table-column label=\"实付金额(元)\" prop=\"price\" align=\"center\" width=\"100\"/>\r\n                <!-- TODO @小程：这里应该是一个订单下，多个商品，只展示订单上的收件信息；使用 order.receiverXXX 开头的字段 -->\r\n                <el-table-column label=\"买家/收货人\" prop=\"buyer\" header-align=\"center\" width=\"auto\" min-width=\"300\">\r\n                  <template v-slot=\"{ row }\">\r\n                    <!-- TODO @芋艿：以后增加一个会员详情界面 -->\r\n                    <div>{{row.buyer}}</div>\r\n                    <div>{{row.receiver}}{{row.tel}}</div>\r\n                    <div class=\"ellipsis-2\" :title=\"row.address\">{{row.address}}</div>\r\n                  </template>\r\n                </el-table-column>\r\n                <!-- TODO @小程：这里应该是一个订单下，多个商品，交易状态是统一的；使用 order.status 字段 -->\r\n                <el-table-column label=\"交易状态\" prop=\"status\" align=\"center\" width=\"100\"/>\r\n              </el-table>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <!-- 分页组件 -->\r\n    <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\"\r\n                @pagination=\"getList\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderPage } from \"@/api/mall/trade/order\";\r\nimport { datePickerOptions } from \"@/utils/constants\";\r\nimport { DICT_TYPE, getDictDatas } from \"@/utils/dict\";\r\n\r\nexport default {\r\n  name: \"TradeOrder\",\r\n  data () {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 导出遮罩层\r\n      exportLoading: false,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 交易售后列表\r\n      list: [],\r\n      queryParams: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        searchType: 'no',\r\n        searchValue: '',\r\n        type: null,\r\n        status: null,\r\n        payChannelCode: null,\r\n        createTime: [],\r\n      },\r\n      // Tab 筛选\r\n      activeTab: 'all',\r\n      statusTabs: [{\r\n        label: '全部',\r\n        value: 'all'\r\n      }],\r\n      // 静态变量\r\n      datePickerOptions: datePickerOptions,\r\n      searchTypes: [\r\n        { label: '订单号', value: 'no' },\r\n        { label: '会员编号', value: 'userId' },\r\n        { label: '会员昵称', value: 'userNickname' },\r\n        { label: '会员手机号', value: 'userMobile' },\r\n        { label: '收货人姓名', value: 'receiverName' },\r\n        { label: '收货人手机号码', value: 'receiverMobile' },\r\n      ],\r\n    }\r\n  },\r\n  created() {\r\n    this.getList();\r\n    // 设置 statuses 过滤\r\n    for (const dict of getDictDatas(DICT_TYPE.TRADE_ORDER_STATUS)) {\r\n      this.statusTabs.push({\r\n        label: dict.label,\r\n        value: dict.value\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    /** 查询列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      // 执行查询\r\n      getOrderPage({\r\n        ...this.queryParams,\r\n        searchType: undefined,\r\n        searchValue: undefined,\r\n        no: this.queryParams.searchType === 'no' ? this.queryParams.searchValue : undefined,\r\n        userId: this.queryParams.searchType === 'userId' ? this.queryParams.searchValue : undefined,\r\n        userNickname: this.queryParams.searchType === 'userNickname' ? this.queryParams.searchValue : undefined,\r\n        userMobile: this.queryParams.searchType === 'userMobile' ? this.queryParams.searchValue : undefined,\r\n        receiverName: this.queryParams.searchType === 'receiverName' ? this.queryParams.searchValue : undefined,\r\n        receiverMobile: this.queryParams.searchType === 'receiverMobile' ? this.queryParams.searchValue : undefined,\r\n      }).then(response => {\r\n        this.list = response.data.list;\r\n        this.total = response.data.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNo = 1;\r\n      this.activeTab = this.queryParams.status ? this.queryParams.status : 'all'; // 处理 tab\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    /** tab 切换 */\r\n    tabClick(tab) {\r\n      this.queryParams.status = tab.name === 'all' ? undefined : tab.name;\r\n      this.getList();\r\n    },\r\n    goToDetail (row) {\r\n      this.$router.push({ name: 'TradeOrderDetail', query: { id: row.id }})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .order-table{\r\n  border-bottom: none;\r\n  &::before{\r\n    height: 0;\r\n  }\r\n  .el-table__row{\r\n    .el-table__cell{\r\n      border-bottom: none;\r\n      .cell{\r\n        .el-table {\r\n          .el-table__row{\r\n            >.el-table__cell{\r\n              .goods-info{\r\n                display: flex;\r\n                img{\r\n                  margin-right: 10px;\r\n                  width: 60px;\r\n                  height: 60px;\r\n                  border: 1px solid #e2e2e2;\r\n                }\r\n              }\r\n              .ellipsis-2{\r\n                display: -webkit-box;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                white-space: normal;\r\n                -webkit-line-clamp: 2; /* 要显示的行数 */\r\n                -webkit-box-orient: vertical;\r\n                word-break: break-all;\r\n                line-height: 22px !important;\r\n                max-height: 44px !important;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}