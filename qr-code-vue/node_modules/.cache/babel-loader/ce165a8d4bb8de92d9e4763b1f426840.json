{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\account\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\account\\index.vue","mtime":1704630437997},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvODk0MjUvSWRlYVByb2plY3RzL3FyLWNvZGUtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnZhciBfYWNjb3VudCA9IHJlcXVpcmUoIkAvYXBpL21wL2FjY291bnQiKTsKdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICdNcEFjY291bnQnLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5YWs5LyX5Y+36LSm5Y+35YiX6KGoCiAgICAgIGxpc3Q6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICcnLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBhY2NvdW50OiBudWxsLAogICAgICAgIGFwcElkOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WQjeensOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBhY2NvdW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5YWs5LyX5Y+36LSm5Y+35LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGFwcElkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5YWs5LyX5Y+3IGFwcElkIOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBhcHBTZWNyZXQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflhazkvJflj7flr4bpkqXkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdG9rZW46IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflhazkvJflj7cgdG9rZW4g5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog5p+l6K+i5YiX6KGoICovZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgLy8g5aSE55CG5p+l6K+i5Y+C5pWwCiAgICAgIHZhciBwYXJhbXMgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHRoaXMucXVlcnlQYXJhbXMpOwogICAgICAvLyDmiafooYzmn6Xor6IKICAgICAgKDAsIF9hY2NvdW50LmdldEFjY291bnRQYWdlKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5Y+W5raI5oyJ6ZKuICovY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLyoqIOihqOWNlemHjee9riAqL3Jlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgbmFtZTogdW5kZWZpbmVkLAogICAgICAgIGFjY291bnQ6IHVuZGVmaW5lZCwKICAgICAgICBhcHBJZDogdW5kZWZpbmVkLAogICAgICAgIGFwcFNlY3JldDogdW5kZWZpbmVkLAogICAgICAgIHRva2VuOiB1bmRlZmluZWQsCiAgICAgICAgYWVzS2V5OiB1bmRlZmluZWQsCiAgICAgICAgcmVtYXJrOiB1bmRlZmluZWQKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VObyA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLmRhdGVSYW5nZUNyZWF0ZVRpbWUgPSBbXTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ3F1ZXJ5Rm9ybScpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqL2hhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAn5re75Yqg5YWs5LyX5Y+36LSm5Y+3JzsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciBpZCA9IHJvdy5pZDsKICAgICAgKDAsIF9hY2NvdW50LmdldEFjY291bnQpKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczIub3BlbiA9IHRydWU7CiAgICAgICAgX3RoaXMyLnRpdGxlID0gJ+S/ruaUueWFrOS8l+WPt+i0puWPtyc7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8g5L+u5pS555qE5o+Q5LqkCiAgICAgICAgaWYgKF90aGlzMy5mb3JtLmlkICE9IG51bGwpIHsKICAgICAgICAgICgwLCBfYWNjb3VudC51cGRhdGVBY2NvdW50KShfdGhpczMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMzLiRtb2RhbC5tc2dTdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgX3RoaXMzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyDmt7vliqDnmoTmj5DkuqQKICAgICAgICAoMCwgX2FjY291bnQuY3JlYXRlQWNjb3VudCkoX3RoaXMzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+aWsOWinuaIkOWKnycpOwogICAgICAgICAgX3RoaXMzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi9oYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciBpZCA9IHJvdy5pZDsKICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5YWs5LyX5Y+36LSm5Y+357yW5Y+35Li6IicgKyByb3cubmFtZSArICci55qE5pWw5o2u6aG5PycpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX2FjY291bnQuZGVsZXRlQWNjb3VudCkoaWQpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuZ2V0TGlzdCgpOwogICAgICAgIF90aGlzNC4kbW9kYWwubXNnU3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvKiog55Sf5oiQ5LqM57u056CB55qE5oyJ6ZKu5pON5L2cICovaGFuZGxlR2VuZXJhdGVRckNvZGU6IGZ1bmN0aW9uIGhhbmRsZUdlbmVyYXRlUXJDb2RlKHJvdykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIGlkID0gcm93LmlkOwogICAgICB0aGlzLiRtb2RhbC5jb25maXJtKCfmmK/lkKbnoa7orqTnlJ/miJDlhazkvJflj7fotKblj7fnvJblj7fkuLoiJyArIHJvdy5uYW1lICsgJyLnmoTkuoznu7TnoIE/JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfYWNjb3VudC5nZW5lcmF0ZUFjY291bnRRckNvZGUpKGlkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LmdldExpc3QoKTsKICAgICAgICBfdGhpczUuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+eUn+aIkOS6jOe7tOeggeaIkOWKnycpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLyoqIOa4heepuuS6jOe7tOeggSBBUEkg6YWN6aKd55qE5oyJ6ZKu5pON5L2cICovaGFuZGxlQ2xlYW5RdW90YTogZnVuY3Rpb24gaGFuZGxlQ2xlYW5RdW90YShyb3cpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciBpZCA9IHJvdy5pZDsKICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5riF56m655Sf5oiQ5YWs5LyX5Y+36LSm5Y+357yW5Y+35Li6IicgKyByb3cubmFtZSArICci55qEIEFQSSDphY3pop0/JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfYWNjb3VudC5jbGVhckFjY291bnRRdW90YSkoaWQpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+a4heepuiBBUEkg6YWN6aKd5oiQ5YqfJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_account","require","_default","exports","default","name","components","data","loading","showSearch","total","list","title","open","queryParams","pageNo","pageSize","account","appId","form","rules","required","message","trigger","appSecret","token","created","getList","methods","_this","params","_objectSpread2","getAccountPage","then","response","cancel","reset","id","undefined","aesKey","remark","resetForm","handleQuery","resetQuery","dateRangeCreateTime","handleAdd","handleUpdate","row","_this2","getAccount","submitForm","_this3","$refs","validate","valid","updateAccount","$modal","msgSuccess","createAccount","handleDelete","_this4","confirm","deleteAccount","catch","handleGenerateQrCode","_this5","generateAccountQrCode","handleCleanQuota","_this6","clearAccountQuota"],"sources":["src/views/mp/account/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <doc-alert title=\"公众号接入\" url=\"https://doc.iocoder.cn/mp/account/\" />\r\n\r\n    <!-- 搜索工作栏 -->\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"名称\" prop=\"name\">\r\n        <el-input v-model=\"queryParams.name\" placeholder=\"请输入名称\" clearable\r\n                  @keyup.enter.native=\"handleQuery\"/>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 操作工具栏 -->\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button type=\"primary\" plain icon=\"el-icon-plus\" size=\"mini\" @click=\"handleAdd\"\r\n                   v-hasPermi=\"['mp:account:create']\">新增\r\n        </el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <!-- 列表 -->\r\n    <el-table v-loading=\"loading\" :data=\"list\">\r\n      <el-table-column label=\"名称\" align=\"center\" prop=\"name\"/>\r\n      <el-table-column label=\"微信号\" align=\"center\" prop=\"account\" width=\"180\"/>\r\n      <el-table-column label=\"appId\" align=\"center\" prop=\"appId\" width=\"180\"/>\r\n<!--      <el-table-column label=\"appSecret\" align=\"center\" prop=\"appSecret\" width=\"180\"/>-->\r\n<!--      <el-table-column label=\"token\" align=\"center\" prop=\"token\"/>-->\r\n<!--      <el-table-column label=\"消息加解密密钥\" align=\"center\" prop=\"aesKey\"/>-->\r\n      <el-table-column label=\"服务器地址(URL)\" align=\"center\" prop=\"appId\" width=\"360\">\r\n        <template v-slot=\"scope\">\r\n          {{ 'http://服务端地址/mp/open/' + scope.row.appId }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"二维码\" align=\"center\" prop=\"qrCodeUrl\">\r\n        <template v-slot=\"scope\">\r\n          <img v-if=\"scope.row.qrCodeUrl\" :src=\"scope.row.qrCodeUrl\" alt=\"二维码\" style=\"height: 100px;\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\"/>\r\n<!--      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"180\">-->\r\n<!--        <template v-slot=\"scope\">-->\r\n<!--          <span>{{ parseTime(scope.row.createTime) }}</span>-->\r\n<!--        </template>-->\r\n<!--      </el-table-column>-->\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template v-slot=\"scope\">\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleUpdate(scope.row)\"\r\n                     v-hasPermi=\"['mp:account:update']\">修改\r\n          </el-button>\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-delete\" @click=\"handleDelete(scope.row)\"\r\n                     v-hasPermi=\"['mp:account:delete']\">删除\r\n          </el-button>\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-refresh\" @click=\"handleGenerateQrCode(scope.row)\"\r\n                     v-hasPermi=\"['mp:account:qr-code']\">生成二维码\r\n          </el-button>\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-share\" @click=\"handleCleanQuota(scope.row)\"\r\n                     v-hasPermi=\"['mp:account:clear-quota']\">清空 API 配额\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页组件 -->\r\n    <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\"\r\n                @pagination=\"getList\"/>\r\n\r\n    <!-- 对话框(添加 / 修改) -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\r\n        <el-form-item label=\"名称\" prop=\"name\">\r\n          <el-input v-model=\"form.name\" placeholder=\"请输入名称\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"微信号\" prop=\"account\">\r\n         <span slot=\"label\">\r\n           <el-tooltip content=\"在微信公众平台（mp.weixin.qq.com）的菜单 [设置与开发 - 公众号设置 - 账号详情] 中能找到「微信号」\" placement=\"top\">\r\n              <i class=\"el-icon-question\" />\r\n           </el-tooltip>\r\n           微信号\r\n          </span>\r\n          <el-input v-model=\"form.account\" placeholder=\"请输入微信号\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"appId\" prop=\"appId\">\r\n          <span slot=\"label\">\r\n            <el-tooltip content=\"在微信公众平台（mp.weixin.qq.com）的菜单 [设置与开发 - 公众号设置 - 基本设置] 中能找到「开发者ID(AppID)」\" placement=\"top\">\r\n              <i class=\"el-icon-question\" />\r\n            </el-tooltip>\r\n            appId\r\n          </span>\r\n          <el-input v-model=\"form.appId\" placeholder=\"请输入公众号 appId\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"appSecret\" prop=\"appSecret\">\r\n          <span slot=\"label\">\r\n            <el-tooltip content=\"在微信公众平台（mp.weixin.qq.com）的菜单 [设置与开发 - 公众号设置 - 基本设置] 中能找到「开发者密码(AppSecret)」\" placement=\"top\">\r\n              <i class=\"el-icon-question\" />\r\n            </el-tooltip>\r\n            appSecret\r\n          </span>\r\n          <el-input v-model=\"form.appSecret\" placeholder=\"请输入公众号 appSecret\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"token\" prop=\"token\">\r\n          <el-input v-model=\"form.token\" placeholder=\"请输入公众号token\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"消息加解密密钥\" prop=\"aesKey\">\r\n          <el-input v-model=\"form.aesKey\" placeholder=\"请输入消息加解密密钥\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input type=\"textarea\" v-model=\"form.remark\" placeholder=\"请输入备注\"/>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  clearAccountQuota,\r\n  createAccount,\r\n  deleteAccount,\r\n  generateAccountQrCode,\r\n  getAccount,\r\n  getAccountPage,\r\n  updateAccount\r\n} from '@/api/mp/account'\r\n\r\nexport default {\r\n  name: 'MpAccount',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 公众号账号列表\r\n      list: [],\r\n      // 弹出层标题\r\n      title: '',\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        name: null,\r\n        account: null,\r\n        appId: null,\r\n      },\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n        name: [{required: true, message: '名称不能为空', trigger: 'blur'}],\r\n        account: [{required: true, message: '公众号账号不能为空', trigger: 'blur'}],\r\n        appId: [{required: true, message: '公众号 appId 不能为空', trigger: 'blur'}],\r\n        appSecret: [{required: true, message: '公众号密钥不能为空', trigger: 'blur'}],\r\n        token: [{required: true, message: '公众号 token 不能为空', trigger: 'blur'}],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    /** 查询列表 */\r\n    getList() {\r\n      this.loading = true\r\n      // 处理查询参数\r\n      let params = {...this.queryParams}\r\n      // 执行查询\r\n      getAccountPage(params).then(response => {\r\n        this.list = response.data.list\r\n        this.total = response.data.total\r\n        this.loading = false\r\n      })\r\n    },\r\n    /** 取消按钮 */\r\n    cancel() {\r\n      this.open = false\r\n      this.reset()\r\n    },\r\n    /** 表单重置 */\r\n    reset() {\r\n      this.form = {\r\n        id: undefined,\r\n        name: undefined,\r\n        account: undefined,\r\n        appId: undefined,\r\n        appSecret: undefined,\r\n        token: undefined,\r\n        aesKey: undefined,\r\n        remark: undefined,\r\n      }\r\n      this.resetForm('form')\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNo = 1\r\n      this.getList()\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.dateRangeCreateTime = []\r\n      this.resetForm('queryForm')\r\n      this.handleQuery()\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      this.reset()\r\n      this.open = true\r\n      this.title = '添加公众号账号'\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.reset()\r\n      const id = row.id\r\n      getAccount(id).then(response => {\r\n        this.form = response.data\r\n        this.open = true\r\n        this.title = '修改公众号账号'\r\n      })\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm() {\r\n      this.$refs['form'].validate(valid => {\r\n        if (!valid) {\r\n          return\r\n        }\r\n        // 修改的提交\r\n        if (this.form.id != null) {\r\n          updateAccount(this.form).then(response => {\r\n            this.$modal.msgSuccess('修改成功')\r\n            this.open = false\r\n            this.getList()\r\n          })\r\n          return\r\n        }\r\n        // 添加的提交\r\n        createAccount(this.form).then(response => {\r\n          this.$modal.msgSuccess('新增成功')\r\n          this.open = false\r\n          this.getList()\r\n        })\r\n      })\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const id = row.id\r\n      this.$modal.confirm('是否确认删除公众号账号编号为\"' + row.name + '\"的数据项?').then(function () {\r\n        return deleteAccount(id)\r\n      }).then(() => {\r\n        this.getList()\r\n        this.$modal.msgSuccess('删除成功')\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    /** 生成二维码的按钮操作 */\r\n    handleGenerateQrCode(row) {\r\n      const id = row.id\r\n      this.$modal.confirm('是否确认生成公众号账号编号为\"' + row.name + '\"的二维码?').then(function () {\r\n        return generateAccountQrCode(id)\r\n      }).then(() => {\r\n        this.getList()\r\n        this.$modal.msgSuccess('生成二维码成功')\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    /** 清空二维码 API 配额的按钮操作 */\r\n    handleCleanQuota(row) {\r\n      const id = row.id\r\n      this.$modal.confirm('是否确认清空生成公众号账号编号为\"' + row.name + '\"的 API 配额?').then(function () {\r\n        return clearAccountQuota(id)\r\n      }).then(() => {\r\n        this.$modal.msgSuccess('清空 API 配额成功')\r\n      }).catch(() => {\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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"}]}