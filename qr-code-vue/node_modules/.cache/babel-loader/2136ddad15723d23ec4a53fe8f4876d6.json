{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\designer\\ProcessDesigner.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\designer\\ProcessDesigner.vue","mtime":1704630437686},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfcmVnZW5lcmF0b3JSdW50aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvODk0MjUvSWRlYVByb2plY3RzL3FyLWNvZGUtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3JlZ2VuZXJhdG9yUnVudGltZS5qcyIpKTsKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvODk0MjUvSWRlYVByb2plY3RzL3FyLWNvZGUtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiKSk7CnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5oYXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnZhciBfTW9kZWxlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYnBtbi1qcy9saWIvTW9kZWxlciIpKTsKdmFyIF9kZWZhdWx0RW1wdHkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGx1Z2lucy9kZWZhdWx0RW1wdHkiKSk7CnZhciBfY3VzdG9tVHJhbnNsYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3BsdWdpbnMvdHJhbnNsYXRlL2N1c3RvbVRyYW5zbGF0ZSIpKTsKdmFyIF96aCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9wbHVnaW5zL3RyYW5zbGF0ZS96aCIpKTsKdmFyIF9icG1uSnNUb2tlblNpbXVsYXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImJwbW4tanMtdG9rZW4tc2ltdWxhdGlvbiIpKTsKdmFyIF9jYW11bmRhRGVzY3JpcHRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9wbHVnaW5zL2Rlc2NyaXB0b3IvY2FtdW5kYURlc2NyaXB0b3IuanNvbiIpKTsKdmFyIF9hY3Rpdml0aURlc2NyaXB0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGx1Z2lucy9kZXNjcmlwdG9yL2FjdGl2aXRpRGVzY3JpcHRvci5qc29uIikpOwp2YXIgX2Zsb3dhYmxlRGVzY3JpcHRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9wbHVnaW5zL2Rlc2NyaXB0b3IvZmxvd2FibGVEZXNjcmlwdG9yLmpzb24iKSk7CnZhciBfY2FtdW5kYSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9wbHVnaW5zL2V4dGVuc2lvbi1tb2RkbGUvY2FtdW5kYSIpKTsKdmFyIF9hY3Rpdml0aSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9wbHVnaW5zL2V4dGVuc2lvbi1tb2RkbGUvYWN0aXZpdGkiKSk7CnZhciBfZmxvd2FibGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGx1Z2lucy9leHRlbnNpb24tbW9kZGxlL2Zsb3dhYmxlIikpOwp2YXIgX3htbEpzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ4bWwtanMiKSk7CnZhciBfaGlnaGxpZ2h0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJoaWdobGlnaHQuanMvbGliL2hpZ2hsaWdodCIpKTsKcmVxdWlyZSgiaGlnaGxpZ2h0LmpzL3N0eWxlcy9naXRodWItZ2lzdC5jc3MiKTsKLy8g57+76K+R5pa55rOVCgovLyDmqKHmi5/mtYHovazmtYHnqIsKCi8vIOagh+etvuino+aekOaehOW7uuWZqAovLyBpbXBvcnQgYnBtblByb3BlcnRpZXNQcm92aWRlciBmcm9tICJicG1uLWpzLXByb3BlcnRpZXMtcGFuZWwvbGliL3Byb3ZpZGVyL2JwbW4iOwovLyDmoIfnrb7op6PmnpAgTW9kZGxlCgovLyDmoIfnrb7op6PmnpAgRXh0ZW5zaW9uCgovLyDlvJXlhaVqc29u6L2s5o2i5LiO6auY5LquCgovLyDku6PnoIHpq5jkuq7mj5Lku7YKCl9oaWdobGlnaHQuZGVmYXVsdC5yZWdpc3Rlckxhbmd1YWdlKCJ4bWwiLCByZXF1aXJlKCJoaWdobGlnaHQuanMvbGliL2xhbmd1YWdlcy94bWwiKSk7Cl9oaWdobGlnaHQuZGVmYXVsdC5yZWdpc3Rlckxhbmd1YWdlKCJqc29uIiwgcmVxdWlyZSgiaGlnaGxpZ2h0LmpzL2xpYi9sYW5ndWFnZXMvanNvbiIpKTsKdmFyIF9kZWZhdWx0MiA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiTXlQcm9jZXNzRGVzaWduZXIiLAogIGNvbXBvbmVudE5hbWU6ICJNeVByb2Nlc3NEZXNpZ25lciIsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiBTdHJpbmcsCiAgICAvLyB4bWwg5a2X56ym5LiyCiAgICB2YWx1ZVdhdGNoOiB0cnVlLAogICAgLy8geG1sIOWtl+espuS4sueahCB3YXRjaCDnirbmgIEKICAgIHByb2Nlc3NJZDogU3RyaW5nLAogICAgLy8g5rWB56iLIGtleSDmoIfor4YKICAgIHByb2Nlc3NOYW1lOiBTdHJpbmcsCiAgICAvLyDmtYHnqIsgbmFtZSDlkI3lrZcKICAgIGZvcm1JZDogTnVtYmVyLAogICAgLy8g5rWB56iLIGZvcm0g6KGo5Y2V57yW5Y+3CiAgICB0cmFuc2xhdGlvbnM6IE9iamVjdCwKICAgIC8vIOiHquWumuS5ieeahOe/u+ivkeaWh+S7tgogICAgYWRkaXRpb25hbE1vZGVsOiBbT2JqZWN0LCBBcnJheV0sCiAgICAvLyDoh6rlrprkuYltb2RlbAogICAgbW9kZGxlRXh0ZW5zaW9uOiBPYmplY3QsCiAgICAvLyDoh6rlrprkuYltb2RkbGUKICAgIG9ubHlDdXN0b21pemVBZGRpOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgb25seUN1c3RvbWl6ZU1vZGRsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNpbXVsYXRpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGtleWJvYXJkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBwcmVmaXg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiY2FtdW5kYSIKICAgIH0sCiAgICBldmVudHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbImVsZW1lbnQuY2xpY2siXTsKICAgICAgfQogICAgfSwKICAgIGhlYWRlckJ1dHRvblNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAic21hbGwiLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiBbImRlZmF1bHQiLCAibWVkaXVtIiwgInNtYWxsIiwgIm1pbmkiXS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7CiAgICAgIH0KICAgIH0sCiAgICBoZWFkZXJCdXR0b25UeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogInByaW1hcnkiLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiBbImRlZmF1bHQiLCAicHJpbWFyeSIsICJzdWNjZXNzIiwgIndhcm5pbmciLCAiZGFuZ2VyIiwgImluZm8iXS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0Wm9vbTogMSwKICAgICAgcHJldmlld01vZGVsVmlzaWJsZTogZmFsc2UsCiAgICAgIHNpbXVsYXRpb25TdGF0dXM6IGZhbHNlLAogICAgICBwcmV2aWV3UmVzdWx0OiAiIiwKICAgICAgcHJldmlld1R5cGU6ICJ4bWwiLAogICAgICByZWNvdmVyYWJsZTogZmFsc2UsCiAgICAgIHJldm9jYWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYWRkaXRpb25hbE1vZHVsZXM6IGZ1bmN0aW9uIGFkZGl0aW9uYWxNb2R1bGVzKCkgewogICAgICB2YXIgTW9kdWxlcyA9IFtdOwogICAgICAvLyDku4Xkv53nlZnnlKjmiLfoh6rlrprkuYnmianlsZXmqKHlnZcKICAgICAgaWYgKHRoaXMub25seUN1c3RvbWl6ZUFkZGkpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMuYWRkaXRpb25hbE1vZGVsKSA9PT0gIltvYmplY3QgQXJyYXldIikgewogICAgICAgICAgcmV0dXJuIHRoaXMuYWRkaXRpb25hbE1vZGVsIHx8IFtdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gW3RoaXMuYWRkaXRpb25hbE1vZGVsXTsKICAgICAgfQoKICAgICAgLy8g5o+S5YWl55So5oi36Ieq5a6a5LmJ5omp5bGV5qih5Z2XCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcy5hZGRpdGlvbmFsTW9kZWwpID09PSAiW29iamVjdCBBcnJheV0iKSB7CiAgICAgICAgTW9kdWxlcy5wdXNoLmFwcGx5KE1vZHVsZXMsICgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKHRoaXMuYWRkaXRpb25hbE1vZGVsKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGRpdGlvbmFsTW9kZWwgJiYgTW9kdWxlcy5wdXNoKHRoaXMuYWRkaXRpb25hbE1vZGVsKTsKICAgICAgfQoKICAgICAgLy8g57+76K+R5qih5Z2XCiAgICAgIHZhciBUcmFuc2xhdGVNb2R1bGUgPSB7CiAgICAgICAgdHJhbnNsYXRlOiBbInZhbHVlIiwgKDAsIF9jdXN0b21UcmFuc2xhdGUuZGVmYXVsdCkodGhpcy50cmFuc2xhdGlvbnMgfHwgX3poLmRlZmF1bHQpXQogICAgICB9OwogICAgICBNb2R1bGVzLnB1c2goVHJhbnNsYXRlTW9kdWxlKTsKCiAgICAgIC8vIOaooeaLn+a1gei9rOaooeWdlwogICAgICBpZiAodGhpcy5zaW11bGF0aW9uKSB7CiAgICAgICAgTW9kdWxlcy5wdXNoKF9icG1uSnNUb2tlblNpbXVsYXRpb24uZGVmYXVsdCk7CiAgICAgIH0KCiAgICAgIC8vIOagueaNrumcgOimgeeahOa1geeoi+exu+Wei+iuvue9ruaJqeWxleWFg+e0oOaehOW7uuaooeWdlwogICAgICAvLyBpZiAodGhpcy5wcmVmaXggPT09ICJicG1uIikgewogICAgICAvLyAgIE1vZHVsZXMucHVzaChicG1uTW9kZGxlRXh0ZW5zaW9uKTsKICAgICAgLy8gfQogICAgICBpZiAodGhpcy5wcmVmaXggPT09ICJjYW11bmRhIikgewogICAgICAgIE1vZHVsZXMucHVzaChfY2FtdW5kYS5kZWZhdWx0KTsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmVmaXggPT09ICJmbG93YWJsZSIpIHsKICAgICAgICBNb2R1bGVzLnB1c2goX2Zsb3dhYmxlLmRlZmF1bHQpOwogICAgICB9CiAgICAgIGlmICh0aGlzLnByZWZpeCA9PT0gImFjdGl2aXRpIikgewogICAgICAgIE1vZHVsZXMucHVzaChfYWN0aXZpdGkuZGVmYXVsdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIE1vZHVsZXM7CiAgICB9LAogICAgbW9kZGxlRXh0ZW5zaW9uczogZnVuY3Rpb24gbW9kZGxlRXh0ZW5zaW9ucygpIHsKICAgICAgdmFyIEV4dGVuc2lvbnMgPSB7fTsKICAgICAgLy8g5LuF5L2/55So55So5oi36Ieq5a6a5LmJ5qih5Z2XCiAgICAgIGlmICh0aGlzLm9ubHlDdXN0b21pemVNb2RkbGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5tb2RkbGVFeHRlbnNpb24gfHwgbnVsbDsKICAgICAgfQoKICAgICAgLy8g5o+S5YWl55So5oi36Ieq5a6a5LmJ5qih5Z2XCiAgICAgIGlmICh0aGlzLm1vZGRsZUV4dGVuc2lvbikgewogICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLm1vZGRsZUV4dGVuc2lvbikgewogICAgICAgICAgRXh0ZW5zaW9uc1trZXldID0gdGhpcy5tb2RkbGVFeHRlbnNpb25ba2V5XTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIOagueaNrumcgOimgeeahCAi5rWB56iL57G75Z6LIiDorr7nva4g5a+55bqU55qE6Kej5p6Q5paH5Lu2CiAgICAgIGlmICh0aGlzLnByZWZpeCA9PT0gImFjdGl2aXRpIikgewogICAgICAgIEV4dGVuc2lvbnMuYWN0aXZpdGkgPSBfYWN0aXZpdGlEZXNjcmlwdG9yLmRlZmF1bHQ7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucHJlZml4ID09PSAiZmxvd2FibGUiKSB7CiAgICAgICAgRXh0ZW5zaW9ucy5mbG93YWJsZSA9IF9mbG93YWJsZURlc2NyaXB0b3IuZGVmYXVsdDsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmVmaXggPT09ICJjYW11bmRhIikgewogICAgICAgIEV4dGVuc2lvbnMuY2FtdW5kYSA9IF9jYW11bmRhRGVzY3JpcHRvci5kZWZhdWx0OwogICAgICB9CiAgICAgIHJldHVybiBFeHRlbnNpb25zOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgdGhpcy5pbml0QnBtbk1vZGVsZXIoKTsKICAgIHRoaXMuY3JlYXRlTmV3RGlhZ3JhbSh0aGlzLnZhbHVlKTsKICAgIHRoaXMuJG9uY2UoImhvb2s6YmVmb3JlRGVzdHJveSIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzMi5icG1uTW9kZWxlcikgX3RoaXMyLmJwbW5Nb2RlbGVyLmRlc3Ryb3koKTsKICAgICAgX3RoaXMyLiRlbWl0KCJkZXN0cm95IiwgX3RoaXMyLmJwbW5Nb2RlbGVyKTsKICAgICAgX3RoaXMyLmJwbW5Nb2RlbGVyID0gbnVsbDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdEJwbW5Nb2RlbGVyOiBmdW5jdGlvbiBpbml0QnBtbk1vZGVsZXIoKSB7CiAgICAgIGlmICh0aGlzLmJwbW5Nb2RlbGVyKSByZXR1cm47CiAgICAgIHRoaXMuYnBtbk1vZGVsZXIgPSBuZXcgX01vZGVsZXIuZGVmYXVsdCh7CiAgICAgICAgY29udGFpbmVyOiB0aGlzLiRyZWZzWyJicG1uLWNhbnZhcyJdLAogICAgICAgIGtleWJvYXJkOiB0aGlzLmtleWJvYXJkID8gewogICAgICAgICAgYmluZFRvOiBkb2N1bWVudAogICAgICAgIH0gOiBudWxsLAogICAgICAgIGFkZGl0aW9uYWxNb2R1bGVzOiB0aGlzLmFkZGl0aW9uYWxNb2R1bGVzLAogICAgICAgIG1vZGRsZUV4dGVuc2lvbnM6IHRoaXMubW9kZGxlRXh0ZW5zaW9ucwogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgiaW5pdC1maW5pc2hlZCIsIHRoaXMuYnBtbk1vZGVsZXIpOwogICAgICB0aGlzLmluaXRNb2RlbExpc3RlbmVycygpOwogICAgfSwKICAgIGluaXRNb2RlbExpc3RlbmVyczogZnVuY3Rpb24gaW5pdE1vZGVsTGlzdGVuZXJzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIEV2ZW50QnVzID0gdGhpcy5icG1uTW9kZWxlci5nZXQoImV2ZW50QnVzIik7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgLy8g5rOo5YaM6ZyA6KaB55qE55uR5ZCs5LqL5Lu2LCDlsIYuIOabv+aNouS4uiAtICwg6YG/5YWN6Kej5p6Q5byC5bi4CiAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgRXZlbnRCdXMub24oZXZlbnQsIGZ1bmN0aW9uIChldmVudE9iaikgewogICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50LnJlcGxhY2UoL1wuL2csICItIik7CiAgICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50T2JqID8gZXZlbnRPYmouZWxlbWVudCA6IG51bGw7CiAgICAgICAgICB0aGF0LiRlbWl0KGV2ZW50TmFtZSwgZWxlbWVudCwgZXZlbnRPYmopOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgLy8g55uR5ZCs5Zu+5b2i5pS55Y+Y6L+U5ZueeG1sCiAgICAgIEV2ZW50QnVzLm9uKCJjb21tYW5kU3RhY2suY2hhbmdlZCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKGV2ZW50KSB7CiAgICAgICAgICB2YXIgX3lpZWxkJF90aGlzMyRicG1uTW9kLCB4bWw7CiAgICAgICAgICByZXR1cm4gKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX3RoaXMzLnJlY292ZXJhYmxlID0gX3RoaXMzLmJwbW5Nb2RlbGVyLmdldCgiY29tbWFuZFN0YWNrIikuY2FuUmVkbygpOwogICAgICAgICAgICAgICAgX3RoaXMzLnJldm9jYWJsZSA9IF90aGlzMy5icG1uTW9kZWxlci5nZXQoImNvbW1hbmRTdGFjayIpLmNhblVuZG8oKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5icG1uTW9kZWxlci5zYXZlWE1MKHsKICAgICAgICAgICAgICAgICAgZm9ybWF0OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMzJGJwbW5Nb2QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgeG1sID0gX3lpZWxkJF90aGlzMyRicG1uTW9kLnhtbDsKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgiY29tbWFuZFN0YWNrLWNoYW5nZWQiLCBldmVudCk7CiAgICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoImlucHV0IiwgeG1sKTsKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgiY2hhbmdlIiwgeG1sKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiW1Byb2Nlc3MgRGVzaWduZXIgV2Fybl06ICIuY29uY2F0KF9jb250ZXh0LnQwLm1lc3NhZ2UgfHwgX2NvbnRleHQudDApKTsKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEyXV0pOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICAgIC8vIOebkeWQrOinhuWbvue8qeaUvuWPmOWMlgogICAgICB0aGlzLmJwbW5Nb2RlbGVyLm9uKCJjYW52YXMudmlld2JveC5jaGFuZ2VkIiwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIHZpZXdib3ggPSBfcmVmMi52aWV3Ym94OwogICAgICAgIF90aGlzMy4kZW1pdCgiY2FudmFzLXZpZXdib3gtY2hhbmdlZCIsIHsKICAgICAgICAgIHZpZXdib3g6IHZpZXdib3gKICAgICAgICB9KTsKICAgICAgICB2YXIgc2NhbGUgPSB2aWV3Ym94LnNjYWxlOwogICAgICAgIF90aGlzMy5kZWZhdWx0Wm9vbSA9IE1hdGguZmxvb3Ioc2NhbGUgKiAxMDApIC8gMTAwOwogICAgICB9KTsKICAgIH0sCiAgICAvKiDliJvlu7rmlrDnmoTmtYHnqIvlm74gKi9jcmVhdGVOZXdEaWFncmFtOiBmdW5jdGlvbiBjcmVhdGVOZXdEaWFncmFtKHhtbCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi8oMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBuZXdJZCwgbmV3TmFtZSwgeG1sU3RyaW5nLCBfeWllbGQkX3RoaXM0JGJwbW5Nb2QsIHdhcm5pbmdzOwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIOWwhuWtl+espuS4sui9rOaNouaIkOWbvuaYvuekuuWHuuadpQogICAgICAgICAgICAgIG5ld0lkID0gX3RoaXM0LnByb2Nlc3NJZCB8fCAiUHJvY2Vzc18iLmNvbmNhdChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7CiAgICAgICAgICAgICAgbmV3TmFtZSA9IF90aGlzNC5wcm9jZXNzTmFtZSB8fCAiXHU0RTFBXHU1MkExXHU2RDQxXHU3QTBCXyIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsKICAgICAgICAgICAgICB4bWxTdHJpbmcgPSB4bWwgfHwgKDAsIF9kZWZhdWx0RW1wdHkuZGVmYXVsdCkobmV3SWQsIG5ld05hbWUsIF90aGlzNC5wcmVmaXgpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5icG1uTW9kZWxlci5pbXBvcnRYTUwoeG1sU3RyaW5nKTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF95aWVsZCRfdGhpczQkYnBtbk1vZCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHdhcm5pbmdzID0gX3lpZWxkJF90aGlzNCRicG1uTW9kLndhcm5pbmdzOwogICAgICAgICAgICAgIGlmICh3YXJuaW5ncyAmJiB3YXJuaW5ncy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKHdhcm4pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybih3YXJuKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIltQcm9jZXNzIERlc2lnbmVyIFdhcm5dOiAiLmNvbmNhdCgoX2NvbnRleHQyLnQwID09PSBudWxsIHx8IF9jb250ZXh0Mi50MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbnRleHQyLnQwLm1lc3NhZ2UpIHx8IF9jb250ZXh0Mi50MCkpOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIvovb3mtYHnqIvlm77liLDmnKzlnLAKICAgIGRvd25sb2FkUHJvY2VzczogZnVuY3Rpb24gZG93bmxvYWRQcm9jZXNzKHR5cGUsIG5hbWUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXMsIF95aWVsZCRfdGhpczUkYnBtbk1vZCwgZXJyLCB4bWwsIF90aGlzJHNldEVuY29kZWQsIGhyZWYsIGZpbGVuYW1lLCBfeWllbGQkX3RoaXM1JGJwbW5Nb2QyLCBfZXJyLCBzdmcsIF90aGlzJHNldEVuY29kZWQyLCBfaHJlZiwgX2ZpbGVuYW1lLCBkb3dubG9hZEZ1bmM7CiAgICAgICAgcmV0dXJuICgwLCBfcmVnZW5lcmF0b3JSdW50aW1lMi5kZWZhdWx0KSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZG93bmxvYWRGdW5jID0gZnVuY3Rpb24gX2Rvd25sb2FkRnVuYyhocmVmLCBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgaWYgKGhyZWYgJiYgZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZTsgLy/mjIflrprkuIvovb3nmoTmlofku7blkI0KICAgICAgICAgICAgICAgICAgYS5ocmVmID0gaHJlZjsgLy8gIFVSTOWvueixoQogICAgICAgICAgICAgICAgICBhLmNsaWNrKCk7IC8vIOaooeaLn+eCueWHuwogICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGEuaHJlZik7IC8vIOmHiuaUvlVSTCDlr7nosaEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICBfdGhpcyA9IF90aGlzNTsgLy8g5oyJ6ZyA6KaB57G75Z6L5Yib5bu65paH5Lu25bm25LiL6L29CiAgICAgICAgICAgICAgaWYgKCEodHlwZSA9PT0gInhtbCIgfHwgdHlwZSA9PT0gImJwbW4iKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5icG1uTW9kZWxlci5zYXZlWE1MKCk7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfeWllbGQkX3RoaXM1JGJwbW5Nb2QgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBlcnIgPSBfeWllbGQkX3RoaXM1JGJwbW5Nb2QuZXJyOwogICAgICAgICAgICAgIHhtbCA9IF95aWVsZCRfdGhpczUkYnBtbk1vZC54bWw7CiAgICAgICAgICAgICAgLy8g6K+75Y+W5byC5bi45pe25oqb5Ye65byC5bi4CiAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiW1Byb2Nlc3MgRGVzaWduZXIgV2FybiBdOiAiLmNvbmNhdChlcnIubWVzc2FnZSB8fCBlcnIpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMkc2V0RW5jb2RlZCA9IF90aGlzLnNldEVuY29kZWQodHlwZS50b1VwcGVyQ2FzZSgpLCBuYW1lLCB4bWwpLCBocmVmID0gX3RoaXMkc2V0RW5jb2RlZC5ocmVmLCBmaWxlbmFtZSA9IF90aGlzJHNldEVuY29kZWQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgZG93bmxvYWRGdW5jKGhyZWYsIGZpbGVuYW1lKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5icG1uTW9kZWxlci5zYXZlU1ZHKCk7CiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX3lpZWxkJF90aGlzNSRicG1uTW9kMiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIF9lcnIgPSBfeWllbGQkX3RoaXM1JGJwbW5Nb2QyLmVycjsKICAgICAgICAgICAgICBzdmcgPSBfeWllbGQkX3RoaXM1JGJwbW5Nb2QyLnN2ZzsKICAgICAgICAgICAgICBpZiAoIV9lcnIpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGNvbnNvbGUuZXJyb3IoX2VycikpOwogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF90aGlzJHNldEVuY29kZWQyID0gX3RoaXMuc2V0RW5jb2RlZCgiU1ZHIiwgbmFtZSwgc3ZnKSwgX2hyZWYgPSBfdGhpcyRzZXRFbmNvZGVkMi5ocmVmLCBfZmlsZW5hbWUgPSBfdGhpcyRzZXRFbmNvZGVkMi5maWxlbmFtZTsKICAgICAgICAgICAgICBkb3dubG9hZEZ1bmMoX2hyZWYsIF9maWxlbmFtZSk7CiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI1OwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJbUHJvY2VzcyBEZXNpZ25lciBXYXJuIF06ICIuY29uY2F0KF9jb250ZXh0My50MC5tZXNzYWdlIHx8IF9jb250ZXh0My50MCkpOwogICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDI1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmoLnmja7miYDpnIDnsbvlnovov5vooYzovaznoIHlubbov5Tlm57kuIvovb3lnLDlnYAKICAgIHNldEVuY29kZWQ6IGZ1bmN0aW9uIHNldEVuY29kZWQodHlwZSkgewogICAgICB2YXIgZmlsZW5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICJkaWFncmFtIjsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIGVuY29kZWREYXRhID0gZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpOwogICAgICByZXR1cm4gewogICAgICAgIGZpbGVuYW1lOiAiIi5jb25jYXQoZmlsZW5hbWUsICIuIikuY29uY2F0KHR5cGUpLAogICAgICAgIGhyZWY6ICJkYXRhOmFwcGxpY2F0aW9uLyIuY29uY2F0KHR5cGUgPT09ICJzdmciID8gInRleHQveG1sIiA6ICJicG1uMjAteG1sIiwgIjtjaGFyc2V0PVVURi04LCIpLmNvbmNhdChlbmNvZGVkRGF0YSksCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9OwogICAgfSwKICAgIC8vIOWKoOi9veacrOWcsOaWh+S7tgogICAgaW1wb3J0TG9jYWxGaWxlOiBmdW5jdGlvbiBpbXBvcnRMb2NhbEZpbGUoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIGZpbGUgPSB0aGlzLiRyZWZzLnJlZkZpbGUuZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgeG1sU3RyID0gdGhpcy5yZXN1bHQ7CiAgICAgICAgdGhhdC5jcmVhdGVOZXdEaWFncmFtKHhtbFN0cik7CiAgICAgIH07CiAgICB9LAogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHJlZnMgbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9kb3dubG9hZFByb2Nlc3NBc1htbDogZnVuY3Rpb24gZG93bmxvYWRQcm9jZXNzQXNYbWwoKSB7CiAgICAgIHRoaXMuZG93bmxvYWRQcm9jZXNzKCJ4bWwiKTsKICAgIH0sCiAgICBkb3dubG9hZFByb2Nlc3NBc0JwbW46IGZ1bmN0aW9uIGRvd25sb2FkUHJvY2Vzc0FzQnBtbigpIHsKICAgICAgdGhpcy5kb3dubG9hZFByb2Nlc3MoImJwbW4iKTsKICAgIH0sCiAgICBkb3dubG9hZFByb2Nlc3NBc1N2ZzogZnVuY3Rpb24gZG93bmxvYWRQcm9jZXNzQXNTdmcoKSB7CiAgICAgIHRoaXMuZG93bmxvYWRQcm9jZXNzKCJzdmciKTsKICAgIH0sCiAgICBwcm9jZXNzU2ltdWxhdGlvbjogZnVuY3Rpb24gcHJvY2Vzc1NpbXVsYXRpb24oKSB7CiAgICAgIHRoaXMuc2ltdWxhdGlvblN0YXR1cyA9ICF0aGlzLnNpbXVsYXRpb25TdGF0dXM7CiAgICAgIHRoaXMuc2ltdWxhdGlvbiAmJiB0aGlzLmJwbW5Nb2RlbGVyLmdldCgidG9nZ2xlTW9kZSIpLnRvZ2dsZU1vZGUoKTsKICAgIH0sCiAgICBwcm9jZXNzUmVkbzogZnVuY3Rpb24gcHJvY2Vzc1JlZG8oKSB7CiAgICAgIHRoaXMuYnBtbk1vZGVsZXIuZ2V0KCJjb21tYW5kU3RhY2siKS5yZWRvKCk7CiAgICB9LAogICAgcHJvY2Vzc1VuZG86IGZ1bmN0aW9uIHByb2Nlc3NVbmRvKCkgewogICAgICB0aGlzLmJwbW5Nb2RlbGVyLmdldCgiY29tbWFuZFN0YWNrIikudW5kbygpOwogICAgfSwKICAgIHByb2Nlc3Nab29tSW46IGZ1bmN0aW9uIHByb2Nlc3Nab29tSW4oKSB7CiAgICAgIHZhciB6b29tU3RlcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMC4xOwogICAgICB2YXIgbmV3Wm9vbSA9IE1hdGguZmxvb3IodGhpcy5kZWZhdWx0Wm9vbSAqIDEwMCArIHpvb21TdGVwICogMTAwKSAvIDEwMDsKICAgICAgaWYgKG5ld1pvb20gPiA0KSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJbUHJvY2VzcyBEZXNpZ25lciBXYXJuIF06IFRoZSB6b29tIHJhdGlvIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gNCIpOwogICAgICB9CiAgICAgIHRoaXMuZGVmYXVsdFpvb20gPSBuZXdab29tOwogICAgICB0aGlzLmJwbW5Nb2RlbGVyLmdldCgiY2FudmFzIikuem9vbSh0aGlzLmRlZmF1bHRab29tKTsKICAgIH0sCiAgICBwcm9jZXNzWm9vbU91dDogZnVuY3Rpb24gcHJvY2Vzc1pvb21PdXQoKSB7CiAgICAgIHZhciB6b29tU3RlcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMC4xOwogICAgICB2YXIgbmV3Wm9vbSA9IE1hdGguZmxvb3IodGhpcy5kZWZhdWx0Wm9vbSAqIDEwMCAtIHpvb21TdGVwICogMTAwKSAvIDEwMDsKICAgICAgaWYgKG5ld1pvb20gPCAwLjIpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIltQcm9jZXNzIERlc2lnbmVyIFdhcm4gXTogVGhlIHpvb20gcmF0aW8gY2Fubm90IGJlIGxlc3MgdGhhbiAwLjIiKTsKICAgICAgfQogICAgICB0aGlzLmRlZmF1bHRab29tID0gbmV3Wm9vbTsKICAgICAgdGhpcy5icG1uTW9kZWxlci5nZXQoImNhbnZhcyIpLnpvb20odGhpcy5kZWZhdWx0Wm9vbSk7CiAgICB9LAogICAgcHJvY2Vzc1pvb21UbzogZnVuY3Rpb24gcHJvY2Vzc1pvb21UbygpIHsKICAgICAgdmFyIG5ld1pvb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CiAgICAgIGlmIChuZXdab29tIDwgMC4yKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJbUHJvY2VzcyBEZXNpZ25lciBXYXJuIF06IFRoZSB6b29tIHJhdGlvIGNhbm5vdCBiZSBsZXNzIHRoYW4gMC4yIik7CiAgICAgIH0KICAgICAgaWYgKG5ld1pvb20gPiA0KSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJbUHJvY2VzcyBEZXNpZ25lciBXYXJuIF06IFRoZSB6b29tIHJhdGlvIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gNCIpOwogICAgICB9CiAgICAgIHRoaXMuZGVmYXVsdFpvb20gPSBuZXdab29tOwogICAgICB0aGlzLmJwbW5Nb2RlbGVyLmdldCgiY2FudmFzIikuem9vbShuZXdab29tKTsKICAgIH0sCiAgICBwcm9jZXNzUmVab29tOiBmdW5jdGlvbiBwcm9jZXNzUmVab29tKCkgewogICAgICB0aGlzLmRlZmF1bHRab29tID0gMTsKICAgICAgdGhpcy5icG1uTW9kZWxlci5nZXQoImNhbnZhcyIpLnpvb20oImZpdC12aWV3cG9ydCIsICJhdXRvIik7CiAgICB9LAogICAgcHJvY2Vzc1Jlc3RhcnQ6IGZ1bmN0aW9uIHByb2Nlc3NSZXN0YXJ0KCkgewogICAgICB0aGlzLnJlY292ZXJhYmxlID0gZmFsc2U7CiAgICAgIHRoaXMucmV2b2NhYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuY3JlYXRlTmV3RGlhZ3JhbShudWxsKTsKICAgIH0sCiAgICBlbGVtZW50c0FsaWduOiBmdW5jdGlvbiBlbGVtZW50c0FsaWduKGFsaWduKSB7CiAgICAgIHZhciBBbGlnbiA9IHRoaXMuYnBtbk1vZGVsZXIuZ2V0KCJhbGlnbkVsZW1lbnRzIik7CiAgICAgIHZhciBTZWxlY3Rpb24gPSB0aGlzLmJwbW5Nb2RlbGVyLmdldCgic2VsZWN0aW9uIik7CiAgICAgIHZhciBTZWxlY3RlZEVsZW1lbnRzID0gU2VsZWN0aW9uLmdldCgpOwogICAgICBpZiAoIVNlbGVjdGVkRWxlbWVudHMgfHwgU2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPD0gMSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+35oyJ5L2PIEN0cmwg6ZSu6YCJ5oup5aSa5Liq5YWD57Sg5a+56b2QIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJGNvbmZpcm0oIuiHquWKqOWvuem9kOWPr+iDvemAoOaIkOWbvuW9ouWPmOW9ou+8jOaYr+WQpue7p+e7re+8nyIsICLorablkYoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gQWxpZ24udHJpZ2dlcihTZWxlY3RlZEVsZW1lbnRzLCBhbGlnbik7CiAgICAgIH0pOwogICAgfSwKICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAg5pa55rOV57uT5p2fICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL3ByZXZpZXdQcm9jZXNzWE1MOiBmdW5jdGlvbiBwcmV2aWV3UHJvY2Vzc1hNTCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHRoaXMuYnBtbk1vZGVsZXIuc2F2ZVhNTCh7CiAgICAgICAgZm9ybWF0OiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIHhtbCA9IF9yZWYzLnhtbDsKICAgICAgICBfdGhpczYucHJldmlld1Jlc3VsdCA9IHhtbDsKICAgICAgICBfdGhpczYucHJldmlld1R5cGUgPSAieG1sIjsKICAgICAgICBfdGhpczYucHJldmlld01vZGVsVmlzaWJsZSA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIHByZXZpZXdQcm9jZXNzSnNvbjogZnVuY3Rpb24gcHJldmlld1Byb2Nlc3NKc29uKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgdGhpcy5icG1uTW9kZWxlci5zYXZlWE1MKHsKICAgICAgICBmb3JtYXQ6IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICB2YXIgeG1sID0gX3JlZjQueG1sOwogICAgICAgIF90aGlzNy5wcmV2aWV3UmVzdWx0ID0gX3htbEpzLmRlZmF1bHQueG1sMmpzb24oeG1sLCB7CiAgICAgICAgICBzcGFjZXM6IDIKICAgICAgICB9KTsKICAgICAgICBfdGhpczcucHJldmlld1R5cGUgPSAianNvbiI7CiAgICAgICAgX3RoaXM3LnByZXZpZXdNb2RlbFZpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g6IqL6YGT5rqQ56CBIG1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovcHJvY2Vzc1NhdmU6IGZ1bmN0aW9uIHByb2Nlc3NTYXZlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi8oMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXM4JGJwbW5Nb2QsIGVyciwgeG1sOwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmJwbW5Nb2RlbGVyLnNhdmVYTUwoKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF95aWVsZCRfdGhpczgkYnBtbk1vZCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIGVyciA9IF95aWVsZCRfdGhpczgkYnBtbk1vZC5lcnI7CiAgICAgICAgICAgICAgeG1sID0gX3lpZWxkJF90aGlzOCRicG1uTW9kLnhtbDsKICAgICAgICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzOC4kbW9kYWwubXNnRXJyb3IoJ+S/neWtmOaooeWei+Wksei0pe+8jOivt+mHjeivle+8gScpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIC8vIOinpuWPkSBzYXZlIOS6i+S7tgogICAgICAgICAgICAgIF90aGlzOC4kZW1pdCgnc2F2ZScsIHhtbCk7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8qKiDpq5jkuq7mmL7npLogKi9oaWdobGlnaHRlZENvZGU6IGZ1bmN0aW9uIGhpZ2hsaWdodGVkQ29kZShwcmV2aWV3VHlwZSwgcHJldmlld1Jlc3VsdCkgewogICAgICB2YXIgcmVzdWx0ID0gX2hpZ2hsaWdodC5kZWZhdWx0LmhpZ2hsaWdodChwcmV2aWV3VHlwZSwgcHJldmlld1Jlc3VsdCB8fCAiIiwgdHJ1ZSk7CiAgICAgIHJldHVybiByZXN1bHQudmFsdWUgfHwgJyZuYnNwOyc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_Modeler","_interopRequireDefault","require","_defaultEmpty","_customTranslate","_zh","_bpmnJsTokenSimulation","_camundaDescriptor","_activitiDescriptor","_flowableDescriptor","_camunda","_activiti","_flowable","_xmlJs","_highlight","hljs","registerLanguage","_default2","exports","default","name","componentName","props","value","String","valueWatch","processId","processName","formId","Number","translations","Object","additionalModel","Array","moddleExtension","onlyCustomizeAddi","type","Boolean","onlyCustomizeModdle","simulation","keyboard","prefix","events","_default","headerButtonSize","validator","indexOf","headerButtonType","data","defaultZoom","previewModelVisible","simulationStatus","previewResult","previewType","recoverable","revocable","computed","additionalModules","Modules","prototype","toString","call","push","apply","_toConsumableArray2","TranslateModule","translate","customTranslate","translationsCN","tokenSimulation","camundaModdleExtension","flowableModdleExtension","activitiModdleExtension","moddleExtensions","Extensions","key","activiti","activitiModdleDescriptor","flowable","flowableModdleDescriptor","camunda","camundaModdleDescriptor","mounted","_this2","initBpmnModeler","createNewDiagram","$once","bpmnModeler","destroy","$emit","methods","BpmnModeler","container","$refs","bindTo","document","initModelListeners","_this3","EventBus","get","that","forEach","event","on","eventObj","eventName","replace","element","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","_yield$_this3$bpmnMod","xml","wrap","_callee$","_context","prev","next","canRedo","canUndo","saveXML","format","sent","t0","console","error","concat","message","stop","_x","arguments","_ref2","viewbox","scale","Math","floor","_this4","_callee2","newId","newName","xmlString","_yield$_this4$bpmnMod","warnings","_callee2$","_context2","Date","getTime","DefaultEmptyXML","importXML","length","warn","downloadProcess","_this5","_callee3","_this","_yield$_this5$bpmnMod","err","_this$setEncoded","href","filename","_yield$_this5$bpmnMod2","_err","svg","_this$setEncoded2","_href","_filename","downloadFunc","_callee3$","_context3","_downloadFunc","a","createElement","download","click","URL","revokeObjectURL","setEncoded","toUpperCase","saveSVG","abrupt","undefined","encodedData","encodeURIComponent","importLocalFile","file","refFile","files","reader","FileReader","readAsText","onload","xmlStr","result","downloadProcessAsXml","downloadProcessAsBpmn","downloadProcessAsSvg","processSimulation","toggleMode","processRedo","redo","processUndo","undo","processZoomIn","zoomStep","newZoom","Error","zoom","processZoomOut","processZoomTo","processReZoom","processRestart","elementsAlign","align","Align","Selection","SelectedElements","$message","warning","$confirm","confirmButtonText","cancelButtonText","then","trigger","previewProcessXML","_this6","_ref3","previewProcessJson","_this7","_ref4","convert","xml2json","spaces","processSave","_this8","_callee4","_yield$_this8$bpmnMod","_callee4$","_context4","$modal","msgError","highlightedCode","highlight"],"sources":["src/components/bpmnProcessDesigner/package/designer/ProcessDesigner.vue"],"sourcesContent":["<template>\r\n  <div class=\"my-process-designer\">\r\n    <div class=\"my-process-designer__header\">\r\n      <slot name=\"control-header\"></slot>\r\n      <template v-if=\"!$slots['control-header']\">\r\n        <el-button-group key=\"file-control\">\r\n          <el-button :size=\"headerButtonSize\" icon=\"el-icon-folder-opened\" @click=\"$refs.refFile.click()\">打开文件</el-button>\r\n          <el-tooltip effect=\"light\">\r\n            <div slot=\"content\">\r\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsXml()\">下载为XML文件</el-button>\r\n              <br />\r\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsSvg()\">下载为SVG文件</el-button>\r\n              <br />\r\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsBpmn()\">下载为BPMN文件</el-button>\r\n            </div>\r\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-download\">下载文件</el-button>\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\">\r\n            <div slot=\"content\">\r\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"previewProcessXML\">预览XML</el-button>\r\n              <br />\r\n              <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"previewProcessJson\">预览JSON</el-button>\r\n            </div>\r\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-view\">预览</el-button>\r\n          </el-tooltip>\r\n          <el-tooltip v-if=\"simulation\" effect=\"light\" :content=\"this.simulationStatus ? '退出模拟' : '开启模拟'\">\r\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-cpu\" @click=\"processSimulation\">\r\n              模拟\r\n            </el-button>\r\n          </el-tooltip>\r\n        </el-button-group>\r\n        <el-button-group key=\"align-control\">\r\n          <el-tooltip effect=\"light\" content=\"向左对齐\">\r\n            <el-button :size=\"headerButtonSize\" class=\"align align-left\" icon=\"el-icon-s-data\" @click=\"elementsAlign('left')\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"向右对齐\">\r\n            <el-button :size=\"headerButtonSize\" class=\"align align-right\" icon=\"el-icon-s-data\" @click=\"elementsAlign('right')\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"向上对齐\">\r\n            <el-button :size=\"headerButtonSize\" class=\"align align-top\" icon=\"el-icon-s-data\" @click=\"elementsAlign('top')\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"向下对齐\">\r\n            <el-button :size=\"headerButtonSize\" class=\"align align-bottom\" icon=\"el-icon-s-data\" @click=\"elementsAlign('bottom')\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"水平居中\">\r\n            <el-button :size=\"headerButtonSize\" class=\"align align-center\" icon=\"el-icon-s-data\" @click=\"elementsAlign('center')\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"垂直居中\">\r\n            <el-button :size=\"headerButtonSize\" class=\"align align-middle\" icon=\"el-icon-s-data\" @click=\"elementsAlign('middle')\" />\r\n          </el-tooltip>\r\n        </el-button-group>\r\n        <el-button-group key=\"scale-control\">\r\n          <el-tooltip effect=\"light\" content=\"缩小视图\">\r\n            <el-button :size=\"headerButtonSize\" :disabled=\"defaultZoom < 0.2\" icon=\"el-icon-zoom-out\" @click=\"processZoomOut()\" />\r\n          </el-tooltip>\r\n          <el-button :size=\"headerButtonSize\">{{ Math.floor(this.defaultZoom * 10 * 10) + \"%\" }}</el-button>\r\n          <el-tooltip effect=\"light\" content=\"放大视图\">\r\n            <el-button :size=\"headerButtonSize\" :disabled=\"defaultZoom > 4\" icon=\"el-icon-zoom-in\" @click=\"processZoomIn()\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"重置视图并居中\">\r\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-c-scale-to-original\" @click=\"processReZoom()\" />\r\n          </el-tooltip>\r\n        </el-button-group>\r\n        <el-button-group key=\"stack-control\">\r\n          <el-tooltip effect=\"light\" content=\"撤销\">\r\n            <el-button :size=\"headerButtonSize\" :disabled=\"!revocable\" icon=\"el-icon-refresh-left\" @click=\"processUndo()\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"恢复\">\r\n            <el-button :size=\"headerButtonSize\" :disabled=\"!recoverable\" icon=\"el-icon-refresh-right\" @click=\"processRedo()\" />\r\n          </el-tooltip>\r\n          <el-tooltip effect=\"light\" content=\"重新绘制\">\r\n            <el-button :size=\"headerButtonSize\" icon=\"el-icon-refresh\" @click=\"processRestart\" />\r\n          </el-tooltip>\r\n        </el-button-group>\r\n        <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-plus\" @click=\"processSave\" :disabled = \"simulationStatus\">保存模型</el-button>\r\n      </template>\r\n      <!-- 用于打开本地文件-->\r\n      <input type=\"file\" id=\"files\" ref=\"refFile\" style=\"display: none\" accept=\".xml, .bpmn\" @change=\"importLocalFile\" />\r\n    </div>\r\n    <div class=\"my-process-designer__container\">\r\n      <div class=\"my-process-designer__canvas\" ref=\"bpmn-canvas\"></div>\r\n    </div>\r\n    <el-dialog title=\"预览\" width=\"80%\" :visible.sync=\"previewModelVisible\" append-to-body destroy-on-close>\r\n      <pre><code class=\"hljs\" v-html=\"highlightedCode(previewType, previewResult)\"></code></pre>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BpmnModeler from \"bpmn-js/lib/Modeler\";\r\nimport DefaultEmptyXML from \"./plugins/defaultEmpty\";\r\n// 翻译方法\r\nimport customTranslate from \"./plugins/translate/customTranslate\";\r\nimport translationsCN from \"./plugins/translate/zh\";\r\n// 模拟流转流程\r\nimport tokenSimulation from \"bpmn-js-token-simulation\";\r\n// 标签解析构建器\r\n// import bpmnPropertiesProvider from \"bpmn-js-properties-panel/lib/provider/bpmn\";\r\n// 标签解析 Moddle\r\nimport camundaModdleDescriptor from \"./plugins/descriptor/camundaDescriptor.json\";\r\nimport activitiModdleDescriptor from \"./plugins/descriptor/activitiDescriptor.json\";\r\nimport flowableModdleDescriptor from \"./plugins/descriptor/flowableDescriptor.json\";\r\n// 标签解析 Extension\r\nimport camundaModdleExtension from \"./plugins/extension-moddle/camunda\";\r\nimport activitiModdleExtension from \"./plugins/extension-moddle/activiti\";\r\nimport flowableModdleExtension from \"./plugins/extension-moddle/flowable\";\r\n// 引入json转换与高亮\r\nimport convert from \"xml-js\";\r\n\r\n// 代码高亮插件\r\nimport hljs from \"highlight.js/lib/highlight\";\r\nimport \"highlight.js/styles/github-gist.css\";\r\nhljs.registerLanguage(\"xml\", require(\"highlight.js/lib/languages/xml\"));\r\nhljs.registerLanguage(\"json\", require(\"highlight.js/lib/languages/json\"));\r\n\r\nexport default {\r\n  name: \"MyProcessDesigner\",\r\n  componentName: \"MyProcessDesigner\",\r\n  props: {\r\n    value: String, // xml 字符串\r\n    valueWatch: true, // xml 字符串的 watch 状态\r\n    processId: String, // 流程 key 标识\r\n    processName: String, // 流程 name 名字\r\n    formId: Number, // 流程 form 表单编号\r\n    translations: Object, // 自定义的翻译文件\r\n    additionalModel: [Object, Array], // 自定义model\r\n    moddleExtension: Object, // 自定义moddle\r\n    onlyCustomizeAddi: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    onlyCustomizeModdle: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    simulation: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    keyboard: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    prefix: {\r\n      type: String,\r\n      default: \"camunda\"\r\n    },\r\n    events: {\r\n      type: Array,\r\n      default: () => [\"element.click\"]\r\n    },\r\n    headerButtonSize: {\r\n      type: String,\r\n      default: \"small\",\r\n      validator: value => [\"default\", \"medium\", \"small\", \"mini\"].indexOf(value) !== -1\r\n    },\r\n    headerButtonType: {\r\n      type: String,\r\n      default: \"primary\",\r\n      validator: value => [\"default\", \"primary\", \"success\", \"warning\", \"danger\", \"info\"].indexOf(value) !== -1\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      defaultZoom: 1,\r\n      previewModelVisible: false,\r\n      simulationStatus: false,\r\n      previewResult: \"\",\r\n      previewType: \"xml\",\r\n      recoverable: false,\r\n      revocable: false\r\n    };\r\n  },\r\n  computed: {\r\n    additionalModules() {\r\n      const Modules = [];\r\n      // 仅保留用户自定义扩展模块\r\n      if (this.onlyCustomizeAddi) {\r\n        if (Object.prototype.toString.call(this.additionalModel) === \"[object Array]\") {\r\n          return this.additionalModel || [];\r\n        }\r\n        return [this.additionalModel];\r\n      }\r\n\r\n      // 插入用户自定义扩展模块\r\n      if (Object.prototype.toString.call(this.additionalModel) === \"[object Array]\") {\r\n        Modules.push(...this.additionalModel);\r\n      } else {\r\n        this.additionalModel && Modules.push(this.additionalModel);\r\n      }\r\n\r\n      // 翻译模块\r\n      const TranslateModule = {\r\n        translate: [\"value\", customTranslate(this.translations || translationsCN)]\r\n      };\r\n      Modules.push(TranslateModule);\r\n\r\n      // 模拟流转模块\r\n      if (this.simulation) {\r\n        Modules.push(tokenSimulation);\r\n      }\r\n\r\n      // 根据需要的流程类型设置扩展元素构建模块\r\n      // if (this.prefix === \"bpmn\") {\r\n      //   Modules.push(bpmnModdleExtension);\r\n      // }\r\n      if (this.prefix === \"camunda\") {\r\n        Modules.push(camundaModdleExtension);\r\n      }\r\n      if (this.prefix === \"flowable\") {\r\n        Modules.push(flowableModdleExtension);\r\n      }\r\n      if (this.prefix === \"activiti\") {\r\n        Modules.push(activitiModdleExtension);\r\n      }\r\n\r\n      return Modules;\r\n    },\r\n    moddleExtensions() {\r\n      const Extensions = {};\r\n      // 仅使用用户自定义模块\r\n      if (this.onlyCustomizeModdle) {\r\n        return this.moddleExtension || null;\r\n      }\r\n\r\n      // 插入用户自定义模块\r\n      if (this.moddleExtension) {\r\n        for (let key in this.moddleExtension) {\r\n          Extensions[key] = this.moddleExtension[key];\r\n        }\r\n      }\r\n\r\n      // 根据需要的 \"流程类型\" 设置 对应的解析文件\r\n      if (this.prefix === \"activiti\") {\r\n        Extensions.activiti = activitiModdleDescriptor;\r\n      }\r\n      if (this.prefix === \"flowable\") {\r\n        Extensions.flowable = flowableModdleDescriptor;\r\n      }\r\n      if (this.prefix === \"camunda\") {\r\n        Extensions.camunda = camundaModdleDescriptor;\r\n      }\r\n\r\n      return Extensions;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initBpmnModeler();\r\n    this.createNewDiagram(this.value);\r\n    this.$once(\"hook:beforeDestroy\", () => {\r\n      if (this.bpmnModeler) this.bpmnModeler.destroy();\r\n      this.$emit(\"destroy\", this.bpmnModeler);\r\n      this.bpmnModeler = null;\r\n    });\r\n  },\r\n  methods: {\r\n    initBpmnModeler() {\r\n      if (this.bpmnModeler) return;\r\n      this.bpmnModeler = new BpmnModeler({\r\n        container: this.$refs[\"bpmn-canvas\"],\r\n        keyboard: this.keyboard ? { bindTo: document } : null,\r\n        additionalModules: this.additionalModules,\r\n        moddleExtensions: this.moddleExtensions\r\n      });\r\n      this.$emit(\"init-finished\", this.bpmnModeler);\r\n      this.initModelListeners();\r\n    },\r\n    initModelListeners() {\r\n      const EventBus = this.bpmnModeler.get(\"eventBus\");\r\n      const that = this;\r\n      // 注册需要的监听事件, 将. 替换为 - , 避免解析异常\r\n      this.events.forEach(event => {\r\n        EventBus.on(event, function(eventObj) {\r\n          let eventName = event.replace(/\\./g, \"-\");\r\n          let element = eventObj ? eventObj.element : null;\r\n          that.$emit(eventName, element, eventObj);\r\n        });\r\n      });\r\n      // 监听图形改变返回xml\r\n      EventBus.on(\"commandStack.changed\", async event => {\r\n        try {\r\n          this.recoverable = this.bpmnModeler.get(\"commandStack\").canRedo();\r\n          this.revocable = this.bpmnModeler.get(\"commandStack\").canUndo();\r\n          let { xml } = await this.bpmnModeler.saveXML({ format: true });\r\n          this.$emit(\"commandStack-changed\", event);\r\n          this.$emit(\"input\", xml);\r\n          this.$emit(\"change\", xml);\r\n        } catch (e) {\r\n          console.error(`[Process Designer Warn]: ${e.message || e}`);\r\n        }\r\n      });\r\n      // 监听视图缩放变化\r\n      this.bpmnModeler.on(\"canvas.viewbox.changed\", ({ viewbox }) => {\r\n        this.$emit(\"canvas-viewbox-changed\", { viewbox });\r\n        const { scale } = viewbox;\r\n        this.defaultZoom = Math.floor(scale * 100) / 100;\r\n      });\r\n    },\r\n    /* 创建新的流程图 */\r\n    async createNewDiagram(xml) {\r\n      // 将字符串转换成图显示出来\r\n      let newId = this.processId || `Process_${new Date().getTime()}`;\r\n      let newName = this.processName || `业务流程_${new Date().getTime()}`;\r\n      let xmlString = xml || DefaultEmptyXML(newId, newName, this.prefix);\r\n      try {\r\n        // console.log(this.bpmnModeler.importXML);\r\n        let { warnings } = await this.bpmnModeler.importXML(xmlString);\r\n        if (warnings && warnings.length) {\r\n          warnings.forEach(warn => console.warn(warn));\r\n        }\r\n      } catch (e) {\r\n        console.error(`[Process Designer Warn]: ${e?.message || e}`);\r\n      }\r\n    },\r\n\r\n    // 下载流程图到本地\r\n    async downloadProcess(type, name) {\r\n      try {\r\n        const _this = this;\r\n        // 按需要类型创建文件并下载\r\n        if (type === \"xml\" || type === \"bpmn\") {\r\n          const { err, xml } = await this.bpmnModeler.saveXML();\r\n          // 读取异常时抛出异常\r\n          if (err) {\r\n            console.error(`[Process Designer Warn ]: ${err.message || err}`);\r\n          }\r\n          let { href, filename } = _this.setEncoded(type.toUpperCase(), name, xml);\r\n          downloadFunc(href, filename);\r\n        } else {\r\n          const { err, svg } = await this.bpmnModeler.saveSVG();\r\n          // 读取异常时抛出异常\r\n          if (err) {\r\n            return console.error(err);\r\n          }\r\n          let { href, filename } = _this.setEncoded(\"SVG\", name, svg);\r\n          downloadFunc(href, filename);\r\n        }\r\n      } catch (e) {\r\n        console.error(`[Process Designer Warn ]: ${e.message || e}`);\r\n      }\r\n      // 文件下载方法\r\n      function downloadFunc(href, filename) {\r\n        if (href && filename) {\r\n          let a = document.createElement(\"a\");\r\n          a.download = filename; //指定下载的文件名\r\n          a.href = href; //  URL对象\r\n          a.click(); // 模拟点击\r\n          URL.revokeObjectURL(a.href); // 释放URL 对象\r\n        }\r\n      }\r\n    },\r\n\r\n    // 根据所需类型进行转码并返回下载地址\r\n    setEncoded(type, filename = \"diagram\", data) {\r\n      const encodedData = encodeURIComponent(data);\r\n      return {\r\n        filename: `${filename}.${type}`,\r\n        href: `data:application/${type === \"svg\" ? \"text/xml\" : \"bpmn20-xml\"};charset=UTF-8,${encodedData}`,\r\n        data: data\r\n      };\r\n    },\r\n\r\n    // 加载本地文件\r\n    importLocalFile() {\r\n      const that = this;\r\n      const file = this.$refs.refFile.files[0];\r\n      const reader = new FileReader();\r\n      reader.readAsText(file);\r\n      reader.onload = function() {\r\n        let xmlStr = this.result;\r\n        that.createNewDiagram(xmlStr);\r\n      };\r\n    },\r\n    /* ------------------------------------------------ refs methods ------------------------------------------------------ */\r\n    downloadProcessAsXml() {\r\n      this.downloadProcess(\"xml\");\r\n    },\r\n    downloadProcessAsBpmn() {\r\n      this.downloadProcess(\"bpmn\");\r\n    },\r\n    downloadProcessAsSvg() {\r\n      this.downloadProcess(\"svg\");\r\n    },\r\n    processSimulation() {\r\n      this.simulationStatus = !this.simulationStatus;\r\n      this.simulation && this.bpmnModeler.get(\"toggleMode\").toggleMode();\r\n    },\r\n    processRedo() {\r\n      this.bpmnModeler.get(\"commandStack\").redo();\r\n    },\r\n    processUndo() {\r\n      this.bpmnModeler.get(\"commandStack\").undo();\r\n    },\r\n    processZoomIn(zoomStep = 0.1) {\r\n      let newZoom = Math.floor(this.defaultZoom * 100 + zoomStep * 100) / 100;\r\n      if (newZoom > 4) {\r\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be greater than 4\");\r\n      }\r\n      this.defaultZoom = newZoom;\r\n      this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\r\n    },\r\n    processZoomOut(zoomStep = 0.1) {\r\n      let newZoom = Math.floor(this.defaultZoom * 100 - zoomStep * 100) / 100;\r\n      if (newZoom < 0.2) {\r\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be less than 0.2\");\r\n      }\r\n      this.defaultZoom = newZoom;\r\n      this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\r\n    },\r\n    processZoomTo(newZoom = 1) {\r\n      if (newZoom < 0.2) {\r\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be less than 0.2\");\r\n      }\r\n      if (newZoom > 4) {\r\n        throw new Error(\"[Process Designer Warn ]: The zoom ratio cannot be greater than 4\");\r\n      }\r\n      this.defaultZoom = newZoom;\r\n      this.bpmnModeler.get(\"canvas\").zoom(newZoom);\r\n    },\r\n    processReZoom() {\r\n      this.defaultZoom = 1;\r\n      this.bpmnModeler.get(\"canvas\").zoom(\"fit-viewport\", \"auto\");\r\n    },\r\n    processRestart() {\r\n      this.recoverable = false;\r\n      this.revocable = false;\r\n      this.createNewDiagram(null);\r\n    },\r\n    elementsAlign(align) {\r\n      const Align = this.bpmnModeler.get(\"alignElements\");\r\n      const Selection = this.bpmnModeler.get(\"selection\");\r\n      const SelectedElements = Selection.get();\r\n      if (!SelectedElements || SelectedElements.length <= 1) {\r\n        this.$message.warning(\"请按住 Ctrl 键选择多个元素对齐\");\r\n        return;\r\n      }\r\n      this.$confirm(\"自动对齐可能造成图形变形，是否继续？\", \"警告\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => Align.trigger(SelectedElements, align));\r\n    },\r\n    /*-----------------------------    方法结束     ---------------------------------*/\r\n    previewProcessXML() {\r\n      this.bpmnModeler.saveXML({ format: true }).then(({ xml }) => {\r\n        this.previewResult = xml;\r\n        this.previewType = \"xml\";\r\n        this.previewModelVisible = true;\r\n      });\r\n    },\r\n    previewProcessJson() {\r\n      this.bpmnModeler.saveXML({ format: true }).then(({ xml }) => {\r\n        this.previewResult = convert.xml2json(xml, { spaces: 2 });\r\n        this.previewType = \"json\";\r\n        this.previewModelVisible = true;\r\n      });\r\n    },\r\n    /* ------------------------------------------------ 芋道源码 methods ------------------------------------------------------ */\r\n    async processSave() {\r\n      const { err, xml } = await this.bpmnModeler.saveXML();\r\n      // 读取异常时抛出异常\r\n      if (err) {\r\n        this.$modal.msgError('保存模型失败，请重试！')\r\n        return\r\n      }\r\n      // 触发 save 事件\r\n      this.$emit('save', xml)\r\n    },\r\n    /** 高亮显示 */\r\n    highlightedCode(previewType, previewResult) {\r\n      const result = hljs.highlight(previewType, previewResult || \"\", true);\r\n      return result.value || '&nbsp;';\r\n    },\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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"}]}