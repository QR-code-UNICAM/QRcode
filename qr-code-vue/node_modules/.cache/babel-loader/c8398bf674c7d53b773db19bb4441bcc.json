{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\designer\\plugins\\extension-moddle\\flowable\\flowableExtension.js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\designer\\plugins\\extension-moddle\\flowable\\flowableExtension.js","mtime":1704630437702},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpOwp2YXIgc29tZSA9IHJlcXVpcmUoJ21pbi1kYXNoJykuc29tZTsKdmFyIEFMTE9XRURfVFlQRVMgPSB7CiAgRmFpbGVkSm9iUmV0cnlUaW1lQ3ljbGU6IFsnYnBtbjpTdGFydEV2ZW50JywgJ2JwbW46Qm91bmRhcnlFdmVudCcsICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLCAnYnBtbjpBY3Rpdml0eSddLAogIENvbm5lY3RvcjogWydicG1uOkVuZEV2ZW50JywgJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCddLAogIEZpZWxkOiBbJ2JwbW46RW5kRXZlbnQnLCAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50J10KfTsKZnVuY3Rpb24gaXMoZWxlbWVudCwgdHlwZSkgewogIHJldHVybiBlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50LiRpbnN0YW5jZU9mID09PSAiZnVuY3Rpb24iICYmIGVsZW1lbnQuJGluc3RhbmNlT2YodHlwZSk7Cn0KZnVuY3Rpb24gZXhpc3RzKGVsZW1lbnQpIHsKICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50Lmxlbmd0aDsKfQpmdW5jdGlvbiBpbmNsdWRlc1R5cGUoY29sbGVjdGlvbiwgdHlwZSkgewogIHJldHVybiBleGlzdHMoY29sbGVjdGlvbikgJiYgc29tZShjb2xsZWN0aW9uLCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgcmV0dXJuIGlzKGVsZW1lbnQsIHR5cGUpOwogIH0pOwp9CmZ1bmN0aW9uIGFueVR5cGUoZWxlbWVudCwgdHlwZXMpIHsKICByZXR1cm4gc29tZSh0eXBlcywgZnVuY3Rpb24gKHR5cGUpIHsKICAgIHJldHVybiBpcyhlbGVtZW50LCB0eXBlKTsKICB9KTsKfQpmdW5jdGlvbiBpc0FsbG93ZWQocHJvcE5hbWUsIHByb3BEZXNjcmlwdG9yLCBuZXdFbGVtZW50KSB7CiAgdmFyIG5hbWUgPSBwcm9wRGVzY3JpcHRvci5uYW1lLAogICAgdHlwZXMgPSBBTExPV0VEX1RZUEVTW25hbWUucmVwbGFjZSgvZmxvd2FibGU6LywgJycpXTsKICByZXR1cm4gbmFtZSA9PT0gcHJvcE5hbWUgJiYgYW55VHlwZShuZXdFbGVtZW50LCB0eXBlcyk7Cn0KZnVuY3Rpb24gRmxvd2FibGVNb2RkbGVFeHRlbnNpb24oZXZlbnRCdXMpIHsKICBldmVudEJ1cy5vbigicHJvcGVydHkuY2xvbmUiLCBmdW5jdGlvbiAoY29udGV4dCkgewogICAgdmFyIG5ld0VsZW1lbnQgPSBjb250ZXh0Lm5ld0VsZW1lbnQsCiAgICAgIHByb3BEZXNjcmlwdG9yID0gY29udGV4dC5wcm9wZXJ0eURlc2NyaXB0b3I7CiAgICB0aGlzLmNhbkNsb25lUHJvcGVydHkobmV3RWxlbWVudCwgcHJvcERlc2NyaXB0b3IpOwogIH0sIHRoaXMpOwp9CkZsb3dhYmxlTW9kZGxlRXh0ZW5zaW9uLiRpbmplY3QgPSBbImV2ZW50QnVzIl07CkZsb3dhYmxlTW9kZGxlRXh0ZW5zaW9uLnByb3RvdHlwZS5jYW5DbG9uZVByb3BlcnR5ID0gZnVuY3Rpb24gKG5ld0VsZW1lbnQsIHByb3BEZXNjcmlwdG9yKSB7CiAgaWYgKGlzQWxsb3dlZCgiZmxvd2FibGU6RmFpbGVkSm9iUmV0cnlUaW1lQ3ljbGUiLCBwcm9wRGVzY3JpcHRvciwgbmV3RWxlbWVudCkpIHsKICAgIHJldHVybiBpbmNsdWRlc1R5cGUobmV3RWxlbWVudC5ldmVudERlZmluaXRpb25zLCAiYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbiIpIHx8IGluY2x1ZGVzVHlwZShuZXdFbGVtZW50LmV2ZW50RGVmaW5pdGlvbnMsICJicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbiIpIHx8IGlzKG5ld0VsZW1lbnQubG9vcENoYXJhY3RlcmlzdGljcywgImJwbW46TXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3MiKTsKICB9CiAgaWYgKGlzQWxsb3dlZCgiZmxvd2FibGU6Q29ubmVjdG9yIiwgcHJvcERlc2NyaXB0b3IsIG5ld0VsZW1lbnQpKSB7CiAgICByZXR1cm4gaW5jbHVkZXNUeXBlKG5ld0VsZW1lbnQuZXZlbnREZWZpbml0aW9ucywgImJwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbiIpOwogIH0KICBpZiAoaXNBbGxvd2VkKCJmbG93YWJsZTpGaWVsZCIsIHByb3BEZXNjcmlwdG9yLCBuZXdFbGVtZW50KSkgewogICAgcmV0dXJuIGluY2x1ZGVzVHlwZShuZXdFbGVtZW50LmV2ZW50RGVmaW5pdGlvbnMsICJicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24iKTsKICB9Cn07Cm1vZHVsZS5leHBvcnRzID0gRmxvd2FibGVNb2RkbGVFeHRlbnNpb247"},{"version":3,"names":["require","some","ALLOWED_TYPES","FailedJobRetryTimeCycle","Connector","Field","is","element","type","$instanceOf","exists","length","includesType","collection","anyType","types","isAllowed","propName","propDescriptor","newElement","name","replace","FlowableModdleExtension","eventBus","on","context","propertyDescriptor","canCloneProperty","$inject","prototype","eventDefinitions","loopCharacteristics","module","exports"],"sources":["C:/Users/89425/IdeaProjects/qr-code-vue/src/components/bpmnProcessDesigner/package/designer/plugins/extension-moddle/flowable/flowableExtension.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst some = require('min-dash').some\r\n\r\nconst ALLOWED_TYPES = {\r\n  FailedJobRetryTimeCycle: ['bpmn:StartEvent', 'bpmn:BoundaryEvent', 'bpmn:IntermediateCatchEvent', 'bpmn:Activity'],\r\n  Connector: ['bpmn:EndEvent', 'bpmn:IntermediateThrowEvent'],\r\n  Field: ['bpmn:EndEvent', 'bpmn:IntermediateThrowEvent']\r\n}\r\n\r\nfunction is(element, type) {\r\n  return element && typeof element.$instanceOf === \"function\" && element.$instanceOf(type);\r\n}\r\n\r\nfunction exists(element) {\r\n  return element && element.length;\r\n}\r\n\r\nfunction includesType(collection, type) {\r\n  return (\r\n    exists(collection) &&\r\n    some(collection, function(element) {\r\n      return is(element, type);\r\n    })\r\n  );\r\n}\r\n\r\nfunction anyType(element, types) {\r\n  return some(types, function(type) {\r\n    return is(element, type);\r\n  });\r\n}\r\n\r\nfunction isAllowed(propName, propDescriptor, newElement) {\r\n  const name = propDescriptor.name,\r\n    types = ALLOWED_TYPES[name.replace(/flowable:/, '')]\r\n\r\n  return name === propName && anyType(newElement, types);\r\n}\r\n\r\nfunction FlowableModdleExtension(eventBus) {\r\n  eventBus.on(\r\n    \"property.clone\",\r\n    function(context) {\r\n      const newElement = context.newElement,\r\n        propDescriptor = context.propertyDescriptor\r\n\r\n      this.canCloneProperty(newElement, propDescriptor);\r\n    },\r\n    this\r\n  );\r\n}\r\n\r\nFlowableModdleExtension.$inject = [\"eventBus\"];\r\n\r\nFlowableModdleExtension.prototype.canCloneProperty = function(newElement, propDescriptor) {\r\n  if (isAllowed(\"flowable:FailedJobRetryTimeCycle\", propDescriptor, newElement)) {\r\n    return (\r\n      includesType(newElement.eventDefinitions, \"bpmn:TimerEventDefinition\") ||\r\n      includesType(newElement.eventDefinitions, \"bpmn:SignalEventDefinition\") ||\r\n      is(newElement.loopCharacteristics, \"bpmn:MultiInstanceLoopCharacteristics\")\r\n    );\r\n  }\r\n\r\n  if (isAllowed(\"flowable:Connector\", propDescriptor, newElement)) {\r\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\r\n  }\r\n\r\n  if (isAllowed(\"flowable:Field\", propDescriptor, newElement)) {\r\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\r\n  }\r\n};\r\n\r\nmodule.exports = FlowableModdleExtension;\r\n"],"mappings":"AAAA,YAAY;;AAACA,OAAA;AAAAA,OAAA;AAAAA,OAAA;AAAAA,OAAA;AAEb,IAAMC,IAAI,GAAGD,OAAO,CAAC,UAAU,CAAC,CAACC,IAAI;AAErC,IAAMC,aAAa,GAAG;EACpBC,uBAAuB,EAAE,CAAC,iBAAiB,EAAE,oBAAoB,EAAE,6BAA6B,EAAE,eAAe,CAAC;EAClHC,SAAS,EAAE,CAAC,eAAe,EAAE,6BAA6B,CAAC;EAC3DC,KAAK,EAAE,CAAC,eAAe,EAAE,6BAA6B;AACxD,CAAC;AAED,SAASC,EAAEA,CAACC,OAAO,EAAEC,IAAI,EAAE;EACzB,OAAOD,OAAO,IAAI,OAAOA,OAAO,CAACE,WAAW,KAAK,UAAU,IAAIF,OAAO,CAACE,WAAW,CAACD,IAAI,CAAC;AAC1F;AAEA,SAASE,MAAMA,CAACH,OAAO,EAAE;EACvB,OAAOA,OAAO,IAAIA,OAAO,CAACI,MAAM;AAClC;AAEA,SAASC,YAAYA,CAACC,UAAU,EAAEL,IAAI,EAAE;EACtC,OACEE,MAAM,CAACG,UAAU,CAAC,IAClBZ,IAAI,CAACY,UAAU,EAAE,UAASN,OAAO,EAAE;IACjC,OAAOD,EAAE,CAACC,OAAO,EAAEC,IAAI,CAAC;EAC1B,CAAC,CAAC;AAEN;AAEA,SAASM,OAAOA,CAACP,OAAO,EAAEQ,KAAK,EAAE;EAC/B,OAAOd,IAAI,CAACc,KAAK,EAAE,UAASP,IAAI,EAAE;IAChC,OAAOF,EAAE,CAACC,OAAO,EAAEC,IAAI,CAAC;EAC1B,CAAC,CAAC;AACJ;AAEA,SAASQ,SAASA,CAACC,QAAQ,EAAEC,cAAc,EAAEC,UAAU,EAAE;EACvD,IAAMC,IAAI,GAAGF,cAAc,CAACE,IAAI;IAC9BL,KAAK,GAAGb,aAAa,CAACkB,IAAI,CAACC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;EAEtD,OAAOD,IAAI,KAAKH,QAAQ,IAAIH,OAAO,CAACK,UAAU,EAAEJ,KAAK,CAAC;AACxD;AAEA,SAASO,uBAAuBA,CAACC,QAAQ,EAAE;EACzCA,QAAQ,CAACC,EAAE,CACT,gBAAgB,EAChB,UAASC,OAAO,EAAE;IAChB,IAAMN,UAAU,GAAGM,OAAO,CAACN,UAAU;MACnCD,cAAc,GAAGO,OAAO,CAACC,kBAAkB;IAE7C,IAAI,CAACC,gBAAgB,CAACR,UAAU,EAAED,cAAc,CAAC;EACnD,CAAC,EACD,IACF,CAAC;AACH;AAEAI,uBAAuB,CAACM,OAAO,GAAG,CAAC,UAAU,CAAC;AAE9CN,uBAAuB,CAACO,SAAS,CAACF,gBAAgB,GAAG,UAASR,UAAU,EAAED,cAAc,EAAE;EACxF,IAAIF,SAAS,CAAC,kCAAkC,EAAEE,cAAc,EAAEC,UAAU,CAAC,EAAE;IAC7E,OACEP,YAAY,CAACO,UAAU,CAACW,gBAAgB,EAAE,2BAA2B,CAAC,IACtElB,YAAY,CAACO,UAAU,CAACW,gBAAgB,EAAE,4BAA4B,CAAC,IACvExB,EAAE,CAACa,UAAU,CAACY,mBAAmB,EAAE,uCAAuC,CAAC;EAE/E;EAEA,IAAIf,SAAS,CAAC,oBAAoB,EAAEE,cAAc,EAAEC,UAAU,CAAC,EAAE;IAC/D,OAAOP,YAAY,CAACO,UAAU,CAACW,gBAAgB,EAAE,6BAA6B,CAAC;EACjF;EAEA,IAAId,SAAS,CAAC,gBAAgB,EAAEE,cAAc,EAAEC,UAAU,CAAC,EAAE;IAC3D,OAAOP,YAAY,CAACO,UAAU,CAACW,gBAAgB,EAAE,6BAA6B,CAAC;EACjF;AACF,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAGX,uBAAuB"}]}