{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\components\\wx-video-play\\main.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\components\\wx-video-play\\main.vue","mtime":1704630438014},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfdnVlVmlkZW9QbGF5ZXIgPSByZXF1aXJlKCJ2dWUtdmlkZW8tcGxheWVyIik7Ci8vIOW8leWFpSB2aWRlb1BsYXllciDnm7jlhbPnu4Tku7bjgILmlZnnqIvvvJpodHRwczovL2p1ZWppbi5jbi9wb3N0LzY5MjMwNTY5NDIyODE2NTQyODUKCnJlcXVpcmUoJ3ZpZGVvLmpzL2Rpc3QvdmlkZW8tanMuY3NzJyk7CnJlcXVpcmUoJ3Z1ZS12aWRlby1wbGF5ZXIvc3JjL2N1c3RvbS10aGVtZS5jc3MnKTsKdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICJ3eFZpZGVvUGxheWVyIiwKICBwcm9wczogewogICAgdXJsOiB7CiAgICAgIC8vIOinhumikeWcsOWdgO+8jOS+i+WmguivtO+8mmh0dHBzOi8vd3d3LmlvY29kZXIuY24veHh4Lm1wNAogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICB2aWRlb1BsYXllcjogX3Z1ZVZpZGVvUGxheWVyLnZpZGVvUGxheWVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlkZW86IGZhbHNlLAogICAgICBwbGF5ZXJPcHRpb25zOiB7CiAgICAgICAgcGxheWJhY2tSYXRlczogWzAuNSwgMS4wLCAxLjUsIDIuMF0sCiAgICAgICAgLy8g5pKt5pS+6YCf5bqmCiAgICAgICAgYXV0b3BsYXk6IGZhbHNlLAogICAgICAgIC8vIOWmguaenCB0cnVlLOa1j+iniOWZqOWHhuWkh+WlveaXtuW8gOWni+WbnuaUvuOAggogICAgICAgIG11dGVkOiBmYWxzZSwKICAgICAgICAvLyDpu5jorqTmg4XlhrXkuIvlsIbkvJrmtojpmaTku7vkvZXpn7PpopHjgIIKICAgICAgICBsb29wOiBmYWxzZSwKICAgICAgICAvLyDlr7zoh7Top4bpopHkuIDnu5PmnZ/lsLHph43mlrDlvIDlp4vjgIIKICAgICAgICBwcmVsb2FkOiAnYXV0bycsCiAgICAgICAgLy8g5bu66K6u5rWP6KeI5Zmo5ZyoIDx2aWRlbz4g5Yqg6L295YWD57Sg5ZCO5piv5ZCm5bqU6K+l5byA5aeL5LiL6L296KeG6aKR5pWw5o2u44CCYXV0byDmtY/op4jlmajpgInmi6nmnIDkvbPooYzkuLos56uL5Y2z5byA5aeL5Yqg6L296KeG6aKR77yI5aaC5p6c5rWP6KeI5Zmo5pSv5oyB77yJCiAgICAgICAgbGFuZ3VhZ2U6ICd6aC1DTicsCiAgICAgICAgYXNwZWN0UmF0aW86ICcxNjo5JywKICAgICAgICAvLyDlsIbmkq3mlL7lmajnva7kuo7mtYHnlYXmqKHlvI/vvIzlubblnKjorqHnrpfmkq3mlL7lmajnmoTliqjmgIHlpKflsI/ml7bkvb/nlKjor6XlgLzjgILlgLzlupTor6Xku6PooajkuIDkuKrmr5TkvosgLSDnlKjlhpLlj7fliIbpmpTnmoTkuKTkuKrmlbDlrZfvvIjkvovlpoIiMTY6OSLmiJYiNDozIu+8iQogICAgICAgIGZsdWlkOiB0cnVlLAogICAgICAgIC8vIOW9k3RydWXml7bvvIxWaWRlby5qcyBwbGF5ZXIg5bCG5oul5pyJ5rWB5L2T5aSn5bCP44CC5o2i5Y+l6K+d6K+077yM5a6D5bCG5oyJ5q+U5L6L57yp5pS+5Lul6YCC5bqU5YW25a655Zmo44CCCiAgICAgICAgc291cmNlczogW3sKICAgICAgICAgIHR5cGU6ICJ2aWRlby9tcDQiLAogICAgICAgICAgc3JjOiAiIiAvLyDkvaDnmoTop4bpopHlnLDlnYDvvIjlv4XloavvvInjgJDph43opoHjgJEKICAgICAgICB9XSwKICAgICAgICBwb3N0ZXI6ICIiLAogICAgICAgIC8vIOS9oOeahOWwgemdouWcsOWdgAogICAgICAgIHdpZHRoOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsCiAgICAgICAgbm90U3VwcG9ydGVkTWVzc2FnZTogJ+atpOinhumikeaaguaXoOazleaSreaUvu+8jOivt+eojeWQjuWGjeivlScsCiAgICAgICAgLy/lhYHorrjopobnm5YgVmlkZW8uanMg5peg5rOV5pKt5pS+5aqS5L2T5rqQ5pe25pi+56S655qE6buY6K6k5L+h5oGv44CCCiAgICAgICAgY29udHJvbEJhcjogewogICAgICAgICAgdGltZURpdmlkZXI6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbkRpc3BsYXk6IHRydWUsCiAgICAgICAgICByZW1haW5pbmdUaW1lRGlzcGxheTogZmFsc2UsCiAgICAgICAgICBmdWxsc2NyZWVuVG9nZ2xlOiB0cnVlIC8v5YWo5bGP5oyJ6ZKuCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcGxheVZpZGVvOiBmdW5jdGlvbiBwbGF5VmlkZW8oKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlkZW8gPSB0cnVlOwogICAgICAvLyDorr7nva7lnLDlnYAKICAgICAgdGhpcy4kc2V0KHRoaXMucGxheWVyT3B0aW9ucy5zb3VyY2VzWzBdLCAnc3JjJywgdGhpcy51cmwpOwogICAgfSwKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgLy8g5pqC5YGc5pKt5pS+CiAgICAgIHRoaXMuJHJlZnMudmlkZW9QbGF5ZXIucGxheWVyLnBhdXNlKCk7CiAgICB9LAogICAgb25QbGF5ZXJQbGF5OiBmdW5jdGlvbiBvblBsYXllclBsYXkocGxheWVyKSB7fSwKICAgIG9uUGxheWVyUGF1c2U6IGZ1bmN0aW9uIG9uUGxheWVyUGF1c2UocGxheWVyKSB7fQogIH0KfTs="},{"version":3,"names":["_vueVideoPlayer","require","_default","exports","default","name","props","url","type","String","required","components","videoPlayer","data","dialogVideo","playerOptions","playbackRates","autoplay","muted","loop","preload","language","aspectRatio","fluid","sources","src","poster","width","document","documentElement","clientWidth","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","fullscreenToggle","methods","playVideo","$set","closeDialog","$refs","player","pause","onPlayerPlay","onPlayerPause"],"sources":["src/views/mp/components/wx-video-play/main.vue"],"sourcesContent":["<!--\r\n  - Copyright (C) 2018-2019\r\n  - All rights reserved, Designed By www.joolun.com\r\n  【微信消息 - 视频】\r\n  芋道源码：\r\n  ① bug 修复：\r\n    1）joolun 的做法：使用 mediaId 从微信公众号，下载对应的 mp4 素材，从而播放内容；\r\n      存在的问题：mediaId 有效期是 3 天，超过时间后无法播放\r\n    2）重构后的做法：后端接收到微信公众号的视频消息后，将视频消息的 media_id 的文件内容保存到文件服务器中，这样前端可以直接使用 URL 播放。\r\n  ② 体验优化：弹窗关闭后，自动暂停视频的播放\r\n-->\r\n<template>\r\n  <div>\r\n    <!-- 提示 -->\r\n    <div @click=\"playVideo()\">\r\n      <i class=\"el-icon-video-play\" style=\"font-size: 40px!important;\" ></i>\r\n      <p>点击播放视频</p>\r\n    </div>\r\n\r\n    <!-- 弹窗播放 -->\r\n    <el-dialog title=\"视频播放\" :visible.sync=\"dialogVideo\" width=\"40%\" append-to-body @close=\"closeDialog\">\r\n      <video-player v-if=\"playerOptions.sources[0].src\" class=\"video-player vjs-custom-skin\" ref=\"videoPlayer\"\r\n                    :playsinline=\"true\" :options=\"playerOptions\"\r\n                    @play=\"onPlayerPlay($event)\" @pause=\"onPlayerPause($event)\">\r\n      </video-player>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入 videoPlayer 相关组件。教程：https://juejin.cn/post/6923056942281654285\r\nimport { videoPlayer } from 'vue-video-player'\r\nrequire('video.js/dist/video-js.css')\r\nrequire('vue-video-player/src/custom-theme.css')\r\n\r\nexport default {\r\n  name: \"wxVideoPlayer\",\r\n  props: {\r\n    url: { // 视频地址，例如说：https://www.iocoder.cn/xxx.mp4\r\n      type: String,\r\n      required: true\r\n    },\r\n  },\r\n  components: {\r\n    videoPlayer\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVideo:false,\r\n      playerOptions: {\r\n        playbackRates: [0.5, 1.0, 1.5, 2.0], // 播放速度\r\n        autoplay: false, // 如果 true,浏览器准备好时开始回放。\r\n        muted: false, // 默认情况下将会消除任何音频。\r\n        loop: false, // 导致视频一结束就重新开始。\r\n        preload: 'auto', // 建议浏览器在 <video> 加载元素后是否应该开始下载视频数据。auto 浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\r\n        language: 'zh-CN',\r\n        aspectRatio: '16:9', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n        fluid: true, // 当true时，Video.js player 将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\r\n        sources: [{\r\n          type: \"video/mp4\",\r\n          src: \"\" // 你的视频地址（必填）【重要】\r\n        }],\r\n        poster: \"\", // 你的封面地址\r\n        width: document.documentElement.clientWidth,\r\n        notSupportedMessage: '此视频暂无法播放，请稍后再试', //允许覆盖 Video.js 无法播放媒体源时显示的默认信息。\r\n        controlBar: {\r\n          timeDivider: true,\r\n          durationDisplay: true,\r\n          remainingTimeDisplay: false,\r\n          fullscreenToggle: true  //全屏按钮\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    playVideo(){\r\n      this.dialogVideo = true\r\n      // 设置地址\r\n      this.$set(this.playerOptions.sources[0], 'src', this.url)\r\n    },\r\n    closeDialog(){\r\n      // 暂停播放\r\n      this.$refs.videoPlayer.player.pause()\r\n    },\r\n    onPlayerPlay(player) {\r\n    },\r\n    onPlayerPause(player) {\r\n    },\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;;;;;AA+BA,IAAAA,eAAA,GAAAC,OAAA;AADA;;AAEAA,OAAA;AACAA,OAAA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,IAAA;EACAC,KAAA;IACAC,GAAA;MAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,UAAA;IACAC,WAAA,EAAAA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MACAC,aAAA;QACAC,aAAA;QAAA;QACAC,QAAA;QAAA;QACAC,KAAA;QAAA;QACAC,IAAA;QAAA;QACAC,OAAA;QAAA;QACAC,QAAA;QACAC,WAAA;QAAA;QACAC,KAAA;QAAA;QACAC,OAAA;UACAhB,IAAA;UACAiB,GAAA;QACA;QACAC,MAAA;QAAA;QACAC,KAAA,EAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA;QACAC,mBAAA;QAAA;QACAC,UAAA;UACAC,WAAA;UACAC,eAAA;UACAC,oBAAA;UACAC,gBAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAxB,WAAA;MACA;MACA,KAAAyB,IAAA,MAAAxB,aAAA,CAAAS,OAAA,iBAAAjB,GAAA;IACA;IACAiC,WAAA,WAAAA,YAAA;MACA;MACA,KAAAC,KAAA,CAAA7B,WAAA,CAAA8B,MAAA,CAAAC,KAAA;IACA;IACAC,YAAA,WAAAA,aAAAF,MAAA,GACA;IACAG,aAAA,WAAAA,cAAAH,MAAA,GACA;EACA;AACA"}]}