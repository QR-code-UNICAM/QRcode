{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mall\\product\\spu\\save.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mall\\product\\spu\\save.vue","mtime":1704630437938},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzLzg5NDI1L0lkZWFQcm9qZWN0cy9xci1jb2RlLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIikpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5vZi5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LW1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdC1tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIik7CnZhciBfYnJhbmQgPSByZXF1aXJlKCJAL2FwaS9tYWxsL3Byb2R1Y3QvYnJhbmQiKTsKdmFyIF9jYXRlZ29yeSA9IHJlcXVpcmUoIkAvYXBpL21hbGwvcHJvZHVjdC9jYXRlZ29yeSIpOwp2YXIgX3NwdSA9IHJlcXVpcmUoIkAvYXBpL21hbGwvcHJvZHVjdC9zcHUiKTsKdmFyIF9wcm9wZXJ0eSA9IHJlcXVpcmUoIkAvYXBpL21hbGwvcHJvZHVjdC9wcm9wZXJ0eSIpOwp2YXIgX0VkaXRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL0VkaXRvciIpKTsKdmFyIF9JbWFnZVVwbG9hZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL0ltYWdlVXBsb2FkIikpOwp2YXIgX1ZpZGVvVXBsb2FkID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2NvbXBvbmVudHMvVmlkZW9VcGxvYWQiKSk7CnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiUHJvZHVjdFNhdmUiLAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvcjogX0VkaXRvci5kZWZhdWx0LAogICAgSW1hZ2VVcGxvYWQ6IF9JbWFnZVVwbG9hZC5kZWZhdWx0LAogICAgVmlkZW9VcGxvYWQ6IF9WaWRlb1VwbG9hZC5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3BlY1N3aXRjaDogZmFsc2UsCiAgICAgIGFjdGl2ZU5hbWU6ICJiYXNpYyIsCiAgICAgIHByb3BOYW1lOiB7CiAgICAgICAgY2hlY2tTdHJpY3RseTogdHJ1ZSwKICAgICAgICBsYWJlbDogIm5hbWUiLAogICAgICAgIHZhbHVlOiAiaWQiCiAgICAgIH0sCiAgICAgIC8vIOWfuuehgOiuvue9rgogICAgICBiYXNlRm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIG5hbWU6IG51bGwsCiAgICAgICAgc2VsbFBvaW50OiBudWxsLAogICAgICAgIGNhdGVnb3J5SWRzOiBudWxsLAogICAgICAgIHNvcnQ6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgcGljVXJsczogbnVsbCwKICAgICAgICB2aWRlb1VybDogbnVsbCwKICAgICAgICBzdGF0dXM6IDAsCiAgICAgICAgdmlydHVhbFNhbGVzQ291bnQ6IDAsCiAgICAgICAgc2hvd1N0b2NrOiB0cnVlLAogICAgICAgIGJyYW5kSWQ6IG51bGwKICAgICAgfSwKICAgICAgY2F0ZWdvcnlMaXN0OiBbXSwKICAgICAgLy8g5Lu35qC85bqT5a2YCiAgICAgIHJhdGVzRm9ybTogewogICAgICAgIHNwZWM6IDEsCiAgICAgICAgLy8g6KeE5qC85piO57uGCiAgICAgICAgcmF0ZXM6IFt7fV0KICAgICAgfSwKICAgICAgZHluYW1pY1NwZWM6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBzcGVjSWQ6IDg2LAogICAgICAgIC8vICAgc3BlY05hbWU6ICLpopzoibIiLAogICAgICAgIC8vICAgc3BlY1ZhbHVlOlt7CiAgICAgICAgLy8gICAgICBuYW1lOiAi57qi6ImyIiwKICAgICAgICAvLyAgICAgIGlkOiAyMjUsCiAgICAgICAgLy8gICB9XQogICAgICAgIC8vIH0sCiAgICAgIF0sCiAgICAgIHByb3BlcnR5UGFnZUxpc3Q6IFtdLAogICAgICBicmFuZExpc3Q6IFtdLAogICAgICBzcGVjVmFsdWU6IG51bGwsCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLllYblk4HlkI3np7DkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZGVzY3JpcHRpb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLmj4/ov7DkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY2F0ZWdvcnlJZHM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLliIbnsbtpZOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBzdGF0dXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLllYblk4HnirbmgIHkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgYnJhbmRJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWVhuWTgeWTgeeJjOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwaWNVcmxzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5ZWG5ZOB6L2u5pKt5Zu+5Zyw5Z2A5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0QnJhbmQoKTsKICAgIHRoaXMuZ2V0TGlzdENhdGVnb3J5KCk7CiAgICB0aGlzLmdldFByb3BlcnR5UGFnZUxpc3QoKTsKICAgIHZhciBzcHVJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuc3B1SWQ7CiAgICBpZiAoc3B1SWQgIT0gbnVsbCkgewogICAgICB0aGlzLnVwZGF0ZVR5cGUoc3B1SWQpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlU3BlYzogZnVuY3Rpb24gcmVtb3ZlU3BlYyhpbmRleCkgewogICAgICB0aGlzLmR5bmFtaWNTcGVjLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuY2hhbmdlU3BlY1N3aXRjaCgpOwogICAgfSwKICAgIC8vIOW/hemAieagh+ivhgogICAgYWRkUmVkU3RhcjogZnVuY3Rpb24gYWRkUmVkU3RhcihoLCBfcmVmKSB7CiAgICAgIHZhciBjb2x1bW4gPSBfcmVmLmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCdzcGFuJywgewogICAgICAgIHN0eWxlOiAnY29sb3I6ICNGNTZDNkMnCiAgICAgIH0sICcqJyksIGgoJ3NwYW4nLCAnICcgKyBjb2x1bW4ubGFiZWwpXTsKICAgIH0sCiAgICBjaGFuZ2VTcGVjU3dpdGNoOiBmdW5jdGlvbiBjaGFuZ2VTcGVjU3dpdGNoKCkgewogICAgICB0aGlzLnNwZWNTd2l0Y2ggPyB0aGlzLnJhdGVzRm9ybS5zcGVjID0gMiA6IHRoaXMucmF0ZXNGb3JtLnNwZWMgPSAxOwogICAgICB0aGlzLiRyZWZzLnJhdGVzVGFibGUuZG9MYXlvdXQoKTsKICAgICAgaWYgKHRoaXMucmF0ZXNGb3JtLnNwZWMgPT09IDEpIHsKICAgICAgICB0aGlzLnJhdGVzRm9ybS5yYXRlcyA9IFt7fV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yYXRlc0Zvcm0ucmF0ZXMgPSBbXTsKICAgICAgICBpZiAodGhpcy5keW5hbWljU3BlYy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmJ1aWxkUmF0ZXNGb3JtUmF0ZXMoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmnoTlu7rop4TmoLzmmI7nu4bnrJvljaHlsJTnp68KICAgIGJ1aWxkUmF0ZXNGb3JtUmF0ZXM6IGZ1bmN0aW9uIGJ1aWxkUmF0ZXNGb3JtUmF0ZXMoKSB7CiAgICAgIHZhciByYXRlcyA9IFtdOwogICAgICB0aGlzLmR5bmFtaWNTcGVjLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LnNwZWNWYWx1ZS5tYXAoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgIHJldHVybiBtLm5hbWU7CiAgICAgICAgfSk7CiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAobGFzdCwgY3VycmVudCkgewogICAgICAgIHZhciBhcnJheSA9IFtdOwogICAgICAgIGxhc3QuZm9yRWFjaChmdW5jdGlvbiAocGFyMSkgewogICAgICAgICAgY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIChwYXIyKSB7CiAgICAgICAgICAgIHZhciB2OwogICAgICAgICAgICAvLyDlvZPkuKTkuKrlr7nosaHlkIjlubbml7bvvIzpnIDkvb/nlKhbMSwyXeaWueW8j+eUn+aIkOaVsOe7hO+8jOiAjOW9k+aVsOe7hOWSjOWvueixoeWQiOW5tuaXtu+8jOmcgOS9v+eUqGNvbmNhdAogICAgICAgICAgICBpZiAocGFyMSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICAgICAgdiA9IHBhcjEuY29uY2F0KHBhcjIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHYgPSBbcGFyMSwgcGFyMl07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYXJyYXkucHVzaCh2KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBhcnJheTsKICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgIHZhciBzcGVjID0gdjsKICAgICAgICAvLyDlvZN25Li65Y2V5Liq6KeE5qC86aG55pe277yM5Lya5Y+Y5oiQ5a2X56ym5Liy44CC6YCg5oiQ6KGo5qC85Y+q5oiq5Y+W56ys5LiA5Liq5a2X56ym5Liy77yM6ICM5LiN5piv5pWw57uE55qE56ys5LiA5Liq5YWD57SgCiAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzcGVjID0gQXJyYXkub2Yodik7CiAgICAgICAgfQogICAgICAgIHJhdGVzLnB1c2goewogICAgICAgICAgc3BlYzogc3BlYywKICAgICAgICAgIHN0YXR1czogMCwKICAgICAgICAgIG5hbWU6IEFycmF5Lm9mKHYpLmpvaW4oKQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5yYXRlc0Zvcm0ucmF0ZXMgPSByYXRlczsKICAgIH0sCiAgICAvKiog5p+l6K+i5YiG57G7ICovZ2V0TGlzdENhdGVnb3J5OiBmdW5jdGlvbiBnZXRMaXN0Q2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOaJp+ihjOafpeivogogICAgICAoMCwgX2NhdGVnb3J5LmdldFByb2R1Y3RDYXRlZ29yeUxpc3QpKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5jYXRlZ29yeUxpc3QgPSBfdGhpcy5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICJpZCIsICJwYXJlbnRJZCIpOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5p+l6K+i5ZOB54mM5YiX6KGoICovZ2V0TGlzdEJyYW5kOiBmdW5jdGlvbiBnZXRMaXN0QnJhbmQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyDmiafooYzmn6Xor6IKICAgICAgKDAsIF9icmFuZC5nZXRCcmFuZExpc3QpKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuYnJhbmRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBjdXJyZW50VmlldyA9IHRoaXMuJHN0b3JlLnN0YXRlLnRhZ3NWaWV3LnZpc2l0ZWRWaWV3c1swXTsKICAgICAgdmFyIF9pdGVyYXRvciA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy4kc3RvcmUuc3RhdGUudGFnc1ZpZXcudmlzaXRlZFZpZXdzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgY3VycmVudFZpZXcgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGlmIChjdXJyZW50Vmlldy5wYXRoID09PSB0aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgY3VycmVudFZpZXcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goIi9wcm9kdWN0L3NwdSIpOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbdGhpcy5hY3RpdmVOYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciByYXRlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXM0LnJhdGVzRm9ybS5yYXRlcykpOwoKICAgICAgICAvLyDku7fmoLzlhYPovazliIYKICAgICAgICByYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByLm1hcmtldFByaWNlID0gci5tYXJrZXRQcmljZSAqIDEwMDsKICAgICAgICAgIHIucHJpY2UgPSByLnByaWNlICogMTAwOwogICAgICAgICAgci5jb3N0UHJpY2UgPSByLmNvc3RQcmljZSAqIDEwMDsKICAgICAgICB9KTsKCiAgICAgICAgLy8g5Yqo5oCB6KeE5qC86LCD5pW05a2X5q61CiAgICAgICAgaWYgKF90aGlzNC5zcGVjU3dpdGNoKSB7CiAgICAgICAgICByYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW107CiAgICAgICAgICAgIEFycmF5Lm9mKHIuc3BlYykuZm9yRWFjaChmdW5jdGlvbiAocykgewogICAgICAgICAgICAgIHZhciBvYmo7CiAgICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgICAgICAgb2JqID0gczsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb2JqID0gQXJyYXkub2Yocyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgICAgICAgICB2YXIgc3BlY1ZhbHVlID0gX3RoaXM0LmR5bmFtaWNTcGVjW2ldLnNwZWNWYWx1ZS5maW5kKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvLm5hbWUgPT09IHY7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWUgPSB7fTsKICAgICAgICAgICAgICAgIHByb3BlcnRpZS5wcm9wZXJ0eUlkID0gX3RoaXM0LmR5bmFtaWNTcGVjW2ldLnNwZWNJZDsKICAgICAgICAgICAgICAgIHByb3BlcnRpZS52YWx1ZUlkID0gc3BlY1ZhbHVlLmlkOwogICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnRpZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJhdGVzWzBdLm5hbWUgPSBfdGhpczQuYmFzZUZvcm0ubmFtZTsKICAgICAgICAgIHJhdGVzWzBdLnN0YXR1cyA9IF90aGlzNC5iYXNlRm9ybS5zdGF0dXM7CiAgICAgICAgfQogICAgICAgIHZhciBmb3JtID0gX3RoaXM0LmJhc2VGb3JtOwogICAgICAgIGlmIChmb3JtLnBpY1VybHMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgZm9ybS5waWNVcmxzID0gZm9ybS5waWNVcmxzLmZsYXRNYXAoZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgcmV0dXJuIG0uc3BsaXQoJywnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoZm9ybS5waWNVcmxzLnNwbGl0KCcsJykgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgZm9ybS5waWNVcmxzID0gZm9ybS5waWNVcmxzLnNwbGl0KCcsJykuZmxhdE1hcChmdW5jdGlvbiAobSkgewogICAgICAgICAgICByZXR1cm4gbS5zcGxpdCgnLCcpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvcm0ucGljVXJscyA9IEFycmF5Lm9mKGZvcm0ucGljVXJscyk7CiAgICAgICAgfQogICAgICAgIGZvcm0uc2t1cyA9IHJhdGVzOwogICAgICAgIGZvcm0uc3BlY1R5cGUgPSBfdGhpczQucmF0ZXNGb3JtLnNwZWM7CiAgICAgICAgdmFyIGNhdGVnb3J5ID0gZm9ybS5jYXRlZ29yeUlkcyBpbnN0YW5jZW9mIEFycmF5ID8gZm9ybS5jYXRlZ29yeUlkcyA6IEFycmF5Lm9mKGZvcm0uY2F0ZWdvcnlJZHMpOwogICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5KTsKICAgICAgICBmb3JtLmNhdGVnb3J5SWQgPSBjYXRlZ29yeVtjYXRlZ29yeS5sZW5ndGggLSAxXTsKICAgICAgICBpZiAoZm9ybS5pZCA9PSBudWxsKSB7CiAgICAgICAgICAoMCwgX3NwdS5jcmVhdGVTcHUpKGZvcm0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC5jYW5jZWwoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAoMCwgX3NwdS51cGRhdGVTcHUpKGZvcm0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC5jYW5jZWwoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivouinhOagvCAqL2dldFByb3BlcnR5UGFnZUxpc3Q6IGZ1bmN0aW9uIGdldFByb3BlcnR5UGFnZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICAvLyDmiafooYzmn6Xor6IKICAgICAgKDAsIF9wcm9wZXJ0eS5nZXRQcm9wZXJ0eUxpc3RBbmRWYWx1ZSkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNS5wcm9wZXJ0eVBhZ2VMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5re75Yqg6KeE5qC86aG555uuCiAgICBjaGFuZ2VTcGVjOiBmdW5jdGlvbiBjaGFuZ2VTcGVjKHZhbCkgewogICAgICB2YXIgb2JqID0gdGhpcy5wcm9wZXJ0eVBhZ2VMaXN0LmZpbmQoZnVuY3Rpb24gKG8pIHsKICAgICAgICByZXR1cm4gby5pZCA9PT0gdmFsOwogICAgICB9KTsKICAgICAgdmFyIHNwZWMgPSB0aGlzLmR5bmFtaWNTcGVjLmZpbmQoZnVuY3Rpb24gKG8pIHsKICAgICAgICByZXR1cm4gby5zcGVjSWQgPT09IHZhbDsKICAgICAgfSk7CiAgICAgIHNwZWMuc3BlY0lkID0gb2JqLmlkOwogICAgICBzcGVjLnNwZWNOYW1lID0gb2JqLm5hbWU7CiAgICAgIHNwZWMuc3BlY1ZhbHVlID0gb2JqLnZhbHVlczsKICAgICAgdGhpcy5idWlsZFJhdGVzRm9ybVJhdGVzKCk7CiAgICB9LAogICAgdXBkYXRlVHlwZTogZnVuY3Rpb24gdXBkYXRlVHlwZShpZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgKDAsIF9zcHUuZ2V0U3B1RGV0YWlsKShpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXM2LmJhc2VGb3JtLmlkID0gZGF0YS5pZDsKICAgICAgICBfdGhpczYuYmFzZUZvcm0ubmFtZSA9IGRhdGEubmFtZTsKICAgICAgICBfdGhpczYuYmFzZUZvcm0uc2VsbFBvaW50ID0gZGF0YS5zZWxsUG9pbnQ7CiAgICAgICAgX3RoaXM2LmJhc2VGb3JtLmNhdGVnb3J5SWRzID0gZGF0YS5jYXRlZ29yeUlkOwogICAgICAgIF90aGlzNi5iYXNlRm9ybS52aWRlb1VybCA9IGRhdGEudmlkZW9Vcmw7CiAgICAgICAgX3RoaXM2LmJhc2VGb3JtLnNvcnQgPSBkYXRhLnNvcnQ7CiAgICAgICAgX3RoaXM2LmJhc2VGb3JtLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjsKICAgICAgICBfdGhpczYuYmFzZUZvcm0ucGljVXJscyA9IGRhdGEucGljVXJsczsKICAgICAgICBfdGhpczYuYmFzZUZvcm0uc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgICAgX3RoaXM2LmJhc2VGb3JtLnZpcnR1YWxTYWxlc0NvdW50ID0gZGF0YS52aXJ0dWFsU2FsZXNDb3VudDsKICAgICAgICBfdGhpczYuYmFzZUZvcm0uc2hvd1N0b2NrID0gZGF0YS5zaG93U3RvY2s7CiAgICAgICAgX3RoaXM2LmJhc2VGb3JtLmJyYW5kSWQgPSBkYXRhLmJyYW5kSWQ7CiAgICAgICAgX3RoaXM2LnJhdGVzRm9ybS5zcGVjID0gZGF0YS5zcGVjVHlwZTsKICAgICAgICBkYXRhLnNrdXMuZm9yRWFjaChmdW5jdGlvbiAocikgewogICAgICAgICAgci5tYXJrZXRQcmljZSA9IF90aGlzNi5kaXZpZGUoci5tYXJrZXRQcmljZSwgMTAwKTsKICAgICAgICAgIHIucHJpY2UgPSBfdGhpczYuZGl2aWRlKHIucHJpY2UsIDEwMCk7CiAgICAgICAgICByLmNvc3RQcmljZSA9IF90aGlzNi5kaXZpZGUoci5jb3N0UHJpY2UsIDEwMCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKF90aGlzNi5yYXRlc0Zvcm0uc3BlYyA9PT0gMikgewogICAgICAgICAgX3RoaXM2LnNwZWNTd2l0Y2ggPSB0cnVlOwogICAgICAgICAgZGF0YS5wcm9kdWN0UHJvcGVydHlWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgICAgb2JqLnNwZWNJZCA9IHAucHJvcGVydHlJZDsKICAgICAgICAgICAgb2JqLnNwZWNOYW1lID0gcC5uYW1lOwogICAgICAgICAgICBvYmouc3BlY1ZhbHVlID0gcC5wcm9wZXJ0eVZhbHVlczsKICAgICAgICAgICAgX3RoaXM2LmR5bmFtaWNTcGVjLnB1c2gob2JqKTsKICAgICAgICAgIH0pOwogICAgICAgICAgZGF0YS5za3VzLmZvckVhY2goZnVuY3Rpb24gKHMpIHsKICAgICAgICAgICAgcy5zcGVjID0gW107CiAgICAgICAgICAgIHMucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChzcCkgewogICAgICAgICAgICAgIHZhciBzcGVjID0gZGF0YS5wcm9kdWN0UHJvcGVydHlWaWV3cy5maW5kKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gby5wcm9wZXJ0eUlkID09PSBzcC5wcm9wZXJ0eUlkOwogICAgICAgICAgICAgIH0pLnByb3BlcnR5VmFsdWVzLmZpbmQoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgIHJldHVybiB2LmlkID09PSBzcC52YWx1ZUlkOwogICAgICAgICAgICAgIH0pLm5hbWU7CiAgICAgICAgICAgICAgcy5zcGVjLnB1c2goc3BlYyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIF90aGlzNi5yYXRlc0Zvcm0ucmF0ZXMgPSBkYXRhLnNrdXM7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["_brand","require","_category","_spu","_property","_Editor","_interopRequireDefault","_ImageUpload","_VideoUpload","_default","exports","default","name","components","Editor","ImageUpload","VideoUpload","data","specSwitch","activeName","propName","checkStrictly","label","value","baseForm","id","sellPoint","categoryIds","sort","description","picUrls","videoUrl","status","virtualSalesCount","showStock","brandId","categoryList","ratesForm","spec","rates","dynamicSpec","propertyPageList","brandList","specValue","rules","required","message","trigger","created","getListBrand","getListCategory","getPropertyPageList","spuId","$route","params","updateType","methods","removeSpec","index","splice","changeSpecSwitch","addRedStar","h","_ref","column","style","$refs","ratesTable","doLayout","length","buildRatesFormRates","map","v","m","reduce","last","current","array","forEach","par1","par2","Array","concat","push","of","join","_this","getProductCategoryList","then","response","handleTree","_this2","getBrandList","cancel","_this3","currentView","$store","state","tagsView","visitedViews","_iterator","_createForOfIteratorHelper2","_step","s","n","done","path","err","e","f","dispatch","$router","submit","_this4","validate","valid","JSON","parse","stringify","r","marketPrice","price","costPrice","properties","obj","i","find","o","propertie","propertyId","specId","valueId","form","flatMap","split","skus","specType","category","console","log","categoryId","createSpu","$modal","msgSuccess","updateSpu","_this5","getPropertyListAndValue","changeSpec","val","specName","values","_this6","getSpuDetail","divide","productPropertyViews","p","propertyValues","sp"],"sources":["src/views/mall/product/spu/save.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- TODO 样式优化：表单宽度、表单项对齐、hr 粗细； -->\r\n    <el-tabs v-model=\"activeName\" class=\"tabs\">\r\n      <!-- 基础设置 -->\r\n      <!-- TODO @luowenfeng：基础设置，分成基础信息、配送信息 -->\r\n      <el-tab-pane label=\"基础设置\" name=\"basic\">\r\n        <el-form ref=\"basic\" :model=\"baseForm\" :rules=\"rules\" label-width=\"100px\" style=\"width: 95%\">\r\n          <el-form-item label=\"商品名称\" prop=\"name\">\r\n            <el-input v-model=\"baseForm.name\" placeholder=\"请输入商品名称\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"促销语\">\r\n            <el-input type=\"textarea\" v-model=\"baseForm.sellPoint\" placeholder=\"请输入促销语\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品主图\" prop=\"picUrls\">\r\n            <ImageUpload v-model=\"baseForm.picUrls\" :value=\"baseForm.picUrls\" :limit=\"10\" class=\"mall-image\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品视频\" prop=\"videoUrl\">\r\n            <VideoUpload v-model=\"baseForm.videoUrl\" :value=\"baseForm.videoUrl\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品品牌\" prop=\"brandId\">\r\n            <el-select v-model=\"baseForm.brandId\" placeholder=\"请选择商品品牌\">\r\n              <el-option v-for=\"item in brandList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品分类\" prop=\"categoryIds\">\r\n            <el-cascader v-model=\"baseForm.categoryIds\" placeholder=\"商品分类\" style=\"width: 100%\"\r\n                         :options=\"categoryList\" :props=\"propName\" clearable/>\r\n          </el-form-item>\r\n          <el-form-item label=\"是否上架\" prop=\"status\">\r\n            <el-radio-group v-model=\"baseForm.status\">\r\n              <el-radio :label=\"1\">立即上架</el-radio>\r\n              <el-radio :label=\"0\">放入仓库</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-tab-pane>\r\n\r\n      <!-- 价格库存 -->\r\n      <!-- TODO @luowenfeng：rates=》priceStack 会更好哈 -->\r\n      <el-tab-pane label=\"价格库存\" name=\"rates\" class=\"rates\">\r\n        <el-form ref=\"rates\" :model=\"ratesForm\" :rules=\"rules\">\r\n          <el-form-item label=\"启用多规格\">\r\n            <el-switch v-model=\"specSwitch\" @change=\"changeSpecSwitch\"/>\r\n          </el-form-item>\r\n          <!-- 动态添加规格属性 -->\r\n          <div v-show=\"ratesForm.spec === 2\">\r\n            <div v-for=\"(specs, index) in dynamicSpec\" :key=\"index\" class=\"dynamic-spec\">\r\n              <!-- 删除按钮 -->\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" circle class=\"spec-delete\" @click=\"removeSpec(index)\"/>\r\n              <div class=\"spec-header\">\r\n                规格项：\r\n                <el-select v-model=\"specs.specId\" filterable placeholder=\"请选择\" @change=\"changeSpec\">\r\n                  <el-option v-for=\"item in propertyPageList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"/>\r\n                </el-select>\r\n              </div>\r\n              <div class=\"spec-values\">\r\n                <template v-for=\"(v, i) in specs.specValue\">\r\n                  <el-input v-model=\"v.name\" class=\"spec-value\" :key=\"i\" disabled/>\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <el-button type=\"primary\" @click=\"dynamicSpec.push({specValue: []}); ratesForm.rates = []\">添加规格项目</el-button>\r\n          </div>\r\n\r\n          <!-- 规格明细 -->\r\n          <el-form-item label=\"规格明细\">\r\n            <el-table :data=\"ratesForm.rates\" border style=\"width: 100%\" ref=\"ratesTable\">\r\n              <template v-if=\"this.specSwitch\">\r\n                <el-table-column :key=\"index\" v-for=\"(item, index) in dynamicSpec.filter(v => v.specName !== undefined)\"\r\n                                 :label=\"item.specName\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-input v-if=\"scope.row.spec\" v-model=\"scope.row.spec[index]\" disabled/>\r\n                  </template>\r\n                </el-table-column>\r\n              </template>\r\n              <el-table-column label=\"规格图片\" width=\"120px\" :render-header=\"addRedStar\" key=\"90\">\r\n                <template v-slot=\"scope\">\r\n                  <ImageUpload v-model=\"scope.row.picUrl\" :limit=\"1\" :isShowTip=\"false\" style=\"width: 100px; height: 50px\"/>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"市场价(元)\" :render-header=\"addRedStar\" key=\"92\">\r\n                <template v-slot=\"scope\">\r\n                  <el-form-item :prop=\"'rates.'+ scope.$index + '.marketPrice'\" :rules=\"[{required: true, trigger: 'change'}]\">\r\n                    <el-input v-model=\"scope.row.marketPrice\"\r\n                              oninput=\"value= value.match(/\\d+(\\.\\d{0,2})?/) ? value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''\"/>\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"销售价(元)\" :render-header=\"addRedStar\" key=\"93\">\r\n                <template v-slot=\"scope\">\r\n                  <el-form-item :prop=\"'rates.'+ scope.$index + '.price'\"\r\n                                :rules=\"[{required: true, trigger: 'change'}]\">\r\n                    <el-input v-model=\"scope.row.price\"\r\n                              oninput=\"value= value.match(/\\d+(\\.\\d{0,2})?/) ? value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''\" />\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"成本价\" :render-header=\"addRedStar\" key=\"94\">\r\n                <template v-slot=\"scope\">\r\n                  <el-form-item :prop=\"'rates.'+ scope.$index + '.costPrice'\"\r\n                                :rules=\"[{required: true, trigger: 'change'}]\">\r\n                    <el-input v-model=\"scope.row.costPrice\"\r\n                              oninput=\"value= value.match(/\\d+(\\.\\d{0,2})?/) ? value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''\" />\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"库存\" :render-header=\"addRedStar\" key=\"95\">\r\n                <template v-slot=\"scope\">\r\n                  <el-form-item :prop=\"'rates.'+ scope.$index + '.stock'\" :rules=\"[{required: true, trigger: 'change'}]\">\r\n                    <el-input v-model=\"scope.row.stock\" oninput=\"value=value.replace(/^(0+)|[^\\d]+/g,'')\"></el-input>\r\n                  </el-form-item>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"预警库存\" key=\"96\">\r\n                <template v-slot=\"scope\">\r\n                  <el-input v-model=\"scope.row.warnStock\" oninput=\"value=value.replace(/^(0+)|[^\\d]+/g,'')\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"体积\" key=\"97\">\r\n                <template v-slot=\"scope\">\r\n                  <el-input v-model=\"scope.row.volume\" />\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"重量\" key=\"98\">\r\n                <template v-slot=\"scope\">\r\n                  <el-input v-model=\"scope.row.weight\" />\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"条码\" key=\"99\">\r\n                <template v-slot=\"scope\">\r\n                  <el-input v-model=\"scope.row.barCode\" />\r\n                </template>\r\n              </el-table-column>\r\n              <template v-if=\"this.specSwitch\">\r\n                <el-table-column fixed=\"right\" label=\"操作\" width=\"50\" key=\"100\">\r\n                  <template v-slot=\"scope\">\r\n                    <el-button @click=\"scope.row.status = 1\" type=\"text\" size=\"small\"\r\n                               v-show=\"scope.row.status === undefined || scope.row.status === 0 \">禁用\r\n                    </el-button>\r\n                    <el-button @click=\"scope.row.status = 0\" type=\"text\" size=\"small\" v-show=\"scope.row.status === 1\">\r\n                      启用\r\n                    </el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </template>\r\n            </el-table>\r\n          </el-form-item>\r\n          <el-form-item label=\"虚拟销量\" prop=\"virtualSalesCount\">\r\n            <el-input v-model=\"baseForm.virtualSalesCount\" placeholder=\"请输入虚拟销量\"\r\n                      oninput=\"value=value.replace(/^(0+)|[^\\d]+/g,'')\"/>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-tab-pane>\r\n\r\n      <!-- 商品详情 -->\r\n      <el-tab-pane label=\"商品详情\" name=\"detail\">\r\n        <el-form ref=\"detail\" :model=\"baseForm\" :rules=\"rules\">\r\n          <el-form-item prop=\"description\">\r\n            <editor v-model=\"baseForm.description\" :min-height=\"380\"/>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-tab-pane>\r\n\r\n      <!-- 销售设置 -->\r\n      <el-tab-pane label=\"高级设置\" name=\"senior\">\r\n        <el-form ref=\"senior\" :model=\"baseForm\" :rules=\"rules\" label-width=\"100px\" style=\"width: 95%\">\r\n          <el-form-item label=\"排序字段\">\r\n            <el-input v-model=\"baseForm.sort\" placeholder=\"请输入排序字段\" oninput=\"value=value.replace(/^(0+)|[^\\d]+/g,'')\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"是否展示库存\" prop=\"showStock\">\r\n            <el-radio-group v-model=\"baseForm.showStock\">\r\n              <el-radio :label=\"true\">是</el-radio>\r\n              <el-radio :label=\"false\">否</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <div class=\"buttons\">\r\n      <el-button type=\"info\" round @click=\"cancel\">取消</el-button>\r\n      <el-button type=\"success\" round @click=\"submit\">确认</el-button>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getBrandList} from \"@/api/mall/product/brand\";\r\nimport {getProductCategoryList} from \"@/api/mall/product/category\";\r\nimport {createSpu, getSpuDetail, updateSpu} from \"@/api/mall/product/spu\";\r\nimport {getPropertyListAndValue,} from \"@/api/mall/product/property\";\r\nimport Editor from \"@/components/Editor\";\r\nimport ImageUpload from \"@/components/ImageUpload\";\r\nimport VideoUpload from \"@/components/VideoUpload\";\r\n\r\nexport default {\r\n  name: \"ProductSave\",\r\n  components: {\r\n    Editor,\r\n    ImageUpload,\r\n    VideoUpload\r\n  },\r\n  data() {\r\n    return {\r\n      specSwitch: false,\r\n      activeName: \"basic\",\r\n      propName: {\r\n        checkStrictly: true,\r\n        label: \"name\",\r\n        value: \"id\",\r\n      },\r\n      // 基础设置\r\n      baseForm: {\r\n        id: null,\r\n        name: null,\r\n        sellPoint: null,\r\n        categoryIds: null,\r\n        sort: null,\r\n        description: null,\r\n        picUrls: null,\r\n        videoUrl: null,\r\n        status: 0,\r\n        virtualSalesCount: 0,\r\n        showStock: true,\r\n        brandId: null,\r\n      },\r\n\r\n      categoryList: [],\r\n      // 价格库存\r\n      ratesForm: {\r\n        spec: 1,\r\n        // 规格明细\r\n        rates: [{}]\r\n      },\r\n      dynamicSpec: [\r\n        // {\r\n        //   specId: 86,\r\n        //   specName: \"颜色\",\r\n        //   specValue:[{\r\n        //      name: \"红色\",\r\n        //      id: 225,\r\n        //   }]\r\n        // },\r\n      ],\r\n      propertyPageList: [],\r\n      brandList: [],\r\n      specValue: null,\r\n\r\n      // 表单校验\r\n      rules: {\r\n        name: [{required: true, message: \"商品名称不能为空\", trigger: \"blur\"},],\r\n        description: [{required: true, message: \"描述不能为空\", trigger: \"blur\"},],\r\n        categoryIds: [{required: true, message: \"分类id不能为空\", trigger: \"blur\"},],\r\n        status: [{required: true, message: \"商品状态不能为空\", trigger: \"blur\"}],\r\n        brandId: [{required: true, message: \"商品品牌不能为空\", trigger: \"blur\"}],\r\n        picUrls: [{required: true, message: \"商品轮播图地址不能为空\", trigger: \"blur\"}],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getListBrand();\r\n    this.getListCategory();\r\n    this.getPropertyPageList();\r\n    const spuId = this.$route.params && this.$route.params.spuId;\r\n    if (spuId != null) {\r\n      this.updateType(spuId)\r\n    }\r\n  },\r\n  methods: {\r\n    removeSpec(index) {\r\n      this.dynamicSpec.splice(index, 1);\r\n      this.changeSpecSwitch()\r\n    },\r\n    // 必选标识\r\n    addRedStar(h, {column}) {\r\n      return [\r\n        h('span', {style: 'color: #F56C6C'}, '*'),\r\n        h('span', ' ' + column.label)\r\n      ];\r\n    },\r\n    changeSpecSwitch() {\r\n      this.specSwitch ? this.ratesForm.spec = 2 : this.ratesForm.spec = 1;\r\n      this.$refs.ratesTable.doLayout();\r\n      if (this.ratesForm.spec === 1) {\r\n        this.ratesForm.rates = [{}]\r\n      } else {\r\n        this.ratesForm.rates = []\r\n        if (this.dynamicSpec.length > 0) {\r\n          this.buildRatesFormRates()\r\n        }\r\n      }\r\n    },\r\n    // 构建规格明细笛卡尔积\r\n    buildRatesFormRates() {\r\n      let rates = [];\r\n      this.dynamicSpec.map(v => v.specValue.map(m => m.name))\r\n        .reduce((last, current) => {\r\n          const array = [];\r\n          last.forEach(par1 => {\r\n            current.forEach(par2 => {\r\n              let v\r\n              // 当两个对象合并时，需使用[1,2]方式生成数组，而当数组和对象合并时，需使用concat\r\n              if (par1 instanceof Array) {\r\n                v = par1.concat(par2)\r\n              } else {\r\n                v = [par1, par2];\r\n              }\r\n              array.push(v)\r\n            });\r\n          });\r\n          return array;\r\n        })\r\n        .forEach(v => {\r\n          let spec = v;\r\n          // 当v为单个规格项时，会变成字符串。造成表格只截取第一个字符串，而不是数组的第一个元素\r\n          if (typeof v == 'string') {\r\n            spec = Array.of(v)\r\n          }\r\n          rates.push({spec: spec, status: 0, name: Array.of(v).join()})\r\n        });\r\n      this.ratesForm.rates = rates\r\n    },\r\n    /** 查询分类 */\r\n    getListCategory() {\r\n      // 执行查询\r\n      getProductCategoryList().then((response) => {\r\n        this.categoryList = this.handleTree(response.data, \"id\", \"parentId\");\r\n      });\r\n    },\r\n    /** 查询品牌列表 */\r\n    getListBrand() {\r\n      // 执行查询\r\n      getBrandList().then((response) => {\r\n        this.brandList = response.data;\r\n      });\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      var currentView = this.$store.state.tagsView.visitedViews[0]\r\n      for (currentView of this.$store.state.tagsView.visitedViews) {\r\n        if (currentView.path === this.$route.path) {\r\n          break\r\n        }\r\n      }\r\n      this.$store.dispatch('tagsView/delView', currentView)\r\n        .then(() => {\r\n          this.$router.push(\"/product/spu\")\r\n        })\r\n    },\r\n    submit() {\r\n      this.$refs[this.activeName].validate((valid) => {\r\n        if (!valid) {\r\n          return;\r\n        }\r\n        let rates = JSON.parse(JSON.stringify(this.ratesForm.rates));\r\n\r\n        // 价格元转分\r\n        rates.forEach(r => {\r\n          r.marketPrice = r.marketPrice * 100;\r\n          r.price = r.price * 100;\r\n          r.costPrice = r.costPrice * 100;\r\n        })\r\n\r\n        // 动态规格调整字段\r\n        if (this.specSwitch) {\r\n          rates.forEach(r => {\r\n            let properties = []\r\n            Array.of(r.spec).forEach(s => {\r\n              let obj;\r\n              if (s instanceof Array) {\r\n                obj = s;\r\n              } else {\r\n                obj = Array.of(s);\r\n              }\r\n              obj.forEach((v, i) => {\r\n                let specValue = this.dynamicSpec[i].specValue.find(o => o.name === v);\r\n                let propertie = {};\r\n                propertie.propertyId = this.dynamicSpec[i].specId;\r\n                propertie.valueId = specValue.id;\r\n                properties.push(propertie);\r\n              })\r\n            })\r\n            r.properties = properties;\r\n          })\r\n        } else {\r\n          rates[0].name = this.baseForm.name;\r\n          rates[0].status = this.baseForm.status;\r\n        }\r\n        let form = this.baseForm\r\n        if (form.picUrls instanceof Array) {\r\n          form.picUrls = form.picUrls.flatMap(m => m.split(','))\r\n        } else if (form.picUrls.split(',') instanceof Array) {\r\n          form.picUrls = form.picUrls.split(',').flatMap(m => m.split(','))\r\n        } else {\r\n          form.picUrls = Array.of(form.picUrls)\r\n        }\r\n        form.skus = rates;\r\n        form.specType = this.ratesForm.spec;\r\n\r\n        let category = form.categoryIds instanceof Array ? form.categoryIds: Array.of(form.categoryIds)\r\n        console.log(category)\r\n        form.categoryId = category[category.length - 1];\r\n\r\n        if (form.id == null) {\r\n          createSpu(form).then(() => {\r\n            this.$modal.msgSuccess(\"新增成功\");\r\n          }).then(()=>{\r\n            this.cancel();\r\n          })\r\n        } else {\r\n          updateSpu(form).then(() => {\r\n            this.$modal.msgSuccess(\"修改成功\");\r\n          }).then(()=>{\r\n            this.cancel();\r\n          })\r\n        }\r\n      });\r\n\r\n    },\r\n    /** 查询规格 */\r\n    getPropertyPageList() {\r\n      // 执行查询\r\n      getPropertyListAndValue().then((response) => {\r\n        this.propertyPageList = response.data;\r\n      });\r\n    },\r\n    // 添加规格项目\r\n    changeSpec(val) {\r\n      let obj = this.propertyPageList.find(o => o.id === val);\r\n      let spec = this.dynamicSpec.find(o => o.specId === val)\r\n      spec.specId = obj.id;\r\n      spec.specName = obj.name;\r\n      spec.specValue = obj.values;\r\n      this.buildRatesFormRates();\r\n    },\r\n    updateType(id) {\r\n      getSpuDetail(id).then((response) => {\r\n        let data = response.data;\r\n        this.baseForm.id = data.id;\r\n        this.baseForm.name = data.name;\r\n        this.baseForm.sellPoint = data.sellPoint;\r\n        this.baseForm.categoryIds = data.categoryId;\r\n        this.baseForm.videoUrl = data.videoUrl;\r\n        this.baseForm.sort = data.sort;\r\n        this.baseForm.description = data.description;\r\n        this.baseForm.picUrls = data.picUrls;\r\n        this.baseForm.status = data.status;\r\n        this.baseForm.virtualSalesCount = data.virtualSalesCount;\r\n        this.baseForm.showStock = data.showStock;\r\n        this.baseForm.brandId = data.brandId;\r\n        this.ratesForm.spec = data.specType;\r\n        data.skus.forEach(r => {\r\n          r.marketPrice = this.divide(r.marketPrice, 100)\r\n          r.price = this.divide(r.price, 100)\r\n          r.costPrice = this.divide(r.costPrice, 100)\r\n        })\r\n        if (this.ratesForm.spec === 2) {\r\n          this.specSwitch = true;\r\n          data.productPropertyViews.forEach(p => {\r\n            let obj = {};\r\n            obj.specId = p.propertyId;\r\n            obj.specName = p.name;\r\n            obj.specValue = p.propertyValues;\r\n            this.dynamicSpec.push(obj);\r\n          })\r\n          data.skus.forEach(s => {\r\n            s.spec = [];\r\n            s.properties.forEach(sp => {\r\n              let spec = data.productPropertyViews.find(o => o.propertyId === sp.propertyId).propertyValues.find(v => v.id === sp.valueId).name;\r\n              s.spec.push(spec)\r\n            })\r\n          })\r\n        }\r\n        this.ratesForm.rates = data.skus\r\n      })\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container{\r\n  padding: 20px;\r\n}\r\n\r\n.dynamic-spec {\r\n  background-color: #f2f2f2;\r\n  width: 85%;\r\n  margin: auto;\r\n  margin-bottom: 10px;\r\n\r\n  .spec-header {\r\n    padding: 30px;\r\n    padding-bottom: 20px;\r\n\r\n    .spec-name {\r\n      display: inline;\r\n\r\n      input {\r\n        width: 30%;\r\n      }\r\n    }\r\n  }\r\n\r\n  .spec-values {\r\n    width: 84%;\r\n    padding: 25px;\r\n    margin: auto;\r\n    padding-top: 5px;\r\n\r\n    .spec-value {\r\n      display: inline-block;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      width: 13%;\r\n\r\n    }\r\n  }\r\n\r\n  .spec-delete {\r\n    float: right;\r\n    margin-top: 10px;\r\n    margin-right: 10px;\r\n  }\r\n}\r\n\r\n.tabs {\r\n  border-bottom: 2px solid #f2f2f2;\r\n\r\n  .el-tab-pane {\r\n    overflow-y: auto;\r\n  }\r\n}\r\n\r\n// 库存价格图片样式修改\r\n.rates {\r\n  .component-upload-image {\r\n    margin: auto;\r\n  }\r\n\r\n  .el-upload--picture-card {\r\n    width: 100px;\r\n    height: 50px;\r\n    line-height: 60px;\r\n    margin: auto;\r\n  }\r\n\r\n  .el-upload-list__item {\r\n    width: 100px !important;\r\n    height: 50px !important;\r\n  }\r\n}\r\n\r\n.buttons {\r\n  margin-top: 20px;\r\n  height: 36px;\r\n\r\n  button {\r\n    float: right;\r\n    margin-left: 15px;\r\n  }\r\n}\r\n\r\n.mall-image {\r\n  .el-upload--picture-card {\r\n    width: 80px;\r\n    height: 80px;\r\n    line-height: 90px;\r\n  }\r\n\r\n  .el-upload-list__item {\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n}\r\n\r\n</style>\r\n"],"mappings":"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"}]}