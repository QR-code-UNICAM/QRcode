{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\bpm\\form\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\bpm\\form\\index.vue","mtime":1704630437837},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzLzg5NDI1L0lkZWFQcm9qZWN0cy9xci1jb2RlLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyLmpzIikpOwp2YXIgX2Zvcm0gPSByZXF1aXJlKCJAL2FwaS9icG0vZm9ybSIpOwp2YXIgX1BhcnNlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL3BhcnNlci9QYXJzZXIiKSk7CnZhciBfZm9ybUdlbmVyYXRvciA9IHJlcXVpcmUoIkAvdXRpbHMvZm9ybUdlbmVyYXRvciIpOwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIkJwbUZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIFBhcnNlcjogX1BhcnNlci5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOW3peS9nOa1geeahOWIl+ihqAogICAgICBsaXN0OiBbXSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBuYW1lOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleivpuaDhQogICAgICBkZXRhaWxPcGVuOiBmYWxzZSwKICAgICAgZGV0YWlsRm9ybTogewogICAgICAgIGZpZWxkczogW10KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LliJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAvLyDmiafooYzmn6Xor6IKICAgICAgKDAsIF9mb3JtLmdldEZvcm1QYWdlKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTm8gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLyoqIOivpuaDheaMiemSruaTjeS9nCAqL2hhbmRsZURldGFpbDogZnVuY3Rpb24gaGFuZGxlRGV0YWlsKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgKDAsIF9mb3JtLmdldEZvcm0pKHJvdy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyDorr7nva7lgLwKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLmRldGFpbEZvcm0gPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBKU09OLnBhcnNlKGRhdGEuY29uZikpLCB7fSwgewogICAgICAgICAgZmllbGRzOiAoMCwgX2Zvcm1HZW5lcmF0b3IuZGVjb2RlRmllbGRzKShkYXRhLmZpZWxkcykKICAgICAgICB9KTsKICAgICAgICAvLyDlvLnnqpfmiZPlvIAKICAgICAgICBfdGhpczIuZGV0YWlsT3BlbiA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi9oYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJCcG1Gb3JtRWRpdG9yIgogICAgICB9KTsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiQnBtRm9ybUVkaXRvciIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGZvcm1JZDogcm93LmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOW3peS9nOihqOWNleeahOe8luWPt+S4uiInICsgaWQgKyAnIueahOaVsOaNrumhuT8nKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKDAsIF9mb3JtLmRlbGV0ZUZvcm0pKGlkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICBfdGhpczMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_form","require","_Parser","_interopRequireDefault","_formGenerator","_default","exports","default","name","components","Parser","data","loading","showSearch","total","list","queryParams","pageNo","pageSize","detailOpen","detailForm","fields","created","getList","methods","_this","getFormPage","then","response","handleQuery","resetQuery","resetForm","handleDetail","row","_this2","getForm","id","_objectSpread2","JSON","parse","conf","decodeFields","handleAdd","$router","push","handleUpdate","query","formId","handleDelete","_this3","$modal","confirm","deleteForm","msgSuccess","catch"],"sources":["src/views/bpm/form/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <doc-alert title=\"工作流\" url=\"https://doc.iocoder.cn/bpm\" />\r\n\r\n    <!-- 搜索工作栏 -->\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"表单名\" prop=\"name\">\r\n        <el-input v-model=\"queryParams.name\" placeholder=\"请输入表单名\" clearable @keyup.enter.native=\"handleQuery\"/>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 操作工具栏 -->\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button type=\"primary\" plain icon=\"el-icon-plus\" size=\"mini\" @click=\"handleAdd\"\r\n                   v-hasPermi=\"['bpm:form:create']\">新增</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <!-- 列表 -->\r\n    <el-table v-loading=\"loading\" :data=\"list\">\r\n      <el-table-column label=\"编号\" align=\"center\" prop=\"id\" />\r\n      <el-table-column label=\"表单名\" align=\"center\" prop=\"name\" />\r\n      <el-table-column label=\"开启状态\" align=\"center\" prop=\"status\">\r\n        <template v-slot=\"scope\">\r\n          <dict-tag :type=\"DICT_TYPE.COMMON_STATUS\" :value=\"scope.row.status\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\r\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"180\">\r\n        <template v-slot=\"scope\">\r\n          <span>{{ parseTime(scope.row.createTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template v-slot=\"scope\">\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleDetail(scope.row)\"\r\n                     v-hasPermi=\"['bpm:form:query']\">详情</el-button>\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleUpdate(scope.row)\"\r\n                     v-hasPermi=\"['bpm:form:update']\">修改</el-button>\r\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-delete\" @click=\"handleDelete(scope.row)\"\r\n                     v-hasPermi=\"['bpm:form:delete']\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页组件 -->\r\n    <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\"\r\n                @pagination=\"getList\"/>\r\n\r\n    <!--表单配置详情-->\r\n    <el-dialog title=\"表单详情\" :visible.sync=\"detailOpen\" width=\"50%\" append-to-body>\r\n      <div class=\"test-form\">\r\n        <parser :key=\"new Date().getTime()\" :form-conf=\"detailForm\" />\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {deleteForm, getForm, getFormPage} from \"@/api/bpm/form\";\r\nimport Parser from '@/components/parser/Parser'\r\nimport {decodeFields} from \"@/utils/formGenerator\";\r\n\r\nexport default {\r\n  name: \"BpmForm\",\r\n  components: {\r\n    Parser\r\n  },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 工作流的列表\r\n      list: [],\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        name: null,\r\n      },\r\n      // 表单详情\r\n      detailOpen: false,\r\n      detailForm: {\r\n        fields: []\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    /** 查询列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      // 执行查询\r\n      getFormPage(this.queryParams).then(response => {\r\n        this.list = response.data.list;\r\n        this.total = response.data.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNo = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    /** 详情按钮操作 */\r\n    handleDetail(row) {\r\n      getForm(row.id).then(response => {\r\n        // 设置值\r\n        const data = response.data\r\n        this.detailForm = {\r\n          ...JSON.parse(data.conf),\r\n          fields: decodeFields(data.fields)\r\n        }\r\n        // 弹窗打开\r\n        this.detailOpen = true\r\n      })\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      this.$router.push({\r\n        name: \"BpmFormEditor\"\r\n      });\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.$router.push({\r\n        name: \"BpmFormEditor\",\r\n        query:{\r\n          formId: row.id\r\n        }\r\n      });\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const id = row.id;\r\n      this.$modal.confirm('是否确认删除工作表单的编号为\"' + id + '\"的数据项?').then(function() {\r\n        return deleteForm(id);\r\n      }).then(() => {\r\n        this.getList();\r\n        this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => {});\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;;;;;;;;;AAgEA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,cAAA,GAAAH,OAAA;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,IAAA;EACAC,UAAA;IACAC,MAAA,EAAAA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,OAAA;MACA;MACAC,UAAA;MACA;MACAC,KAAA;MACA;MACAC,IAAA;MACA;MACAC,WAAA;QACAC,MAAA;QACAC,QAAA;QACAV,IAAA;MACA;MACA;MACAW,UAAA;MACAC,UAAA;QACAC,MAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACA,WACAD,OAAA,WAAAA,QAAA;MAAA,IAAAE,KAAA;MACA,KAAAb,OAAA;MACA;MACA,IAAAc,iBAAA,OAAAV,WAAA,EAAAW,IAAA,WAAAC,QAAA;QACAH,KAAA,CAAAV,IAAA,GAAAa,QAAA,CAAAjB,IAAA,CAAAI,IAAA;QACAU,KAAA,CAAAX,KAAA,GAAAc,QAAA,CAAAjB,IAAA,CAAAG,KAAA;QACAW,KAAA,CAAAb,OAAA;MACA;IACA;IACA,aACAiB,WAAA,WAAAA,YAAA;MACA,KAAAb,WAAA,CAAAC,MAAA;MACA,KAAAM,OAAA;IACA;IACA,aACAO,UAAA,WAAAA,WAAA;MACA,KAAAC,SAAA;MACA,KAAAF,WAAA;IACA;IACA,aACAG,YAAA,WAAAA,aAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,aAAA,EAAAF,GAAA,CAAAG,EAAA,EAAAT,IAAA,WAAAC,QAAA;QACA;QACA,IAAAjB,IAAA,GAAAiB,QAAA,CAAAjB,IAAA;QACAuB,MAAA,CAAAd,UAAA,OAAAiB,cAAA,CAAA9B,OAAA,MAAA8B,cAAA,CAAA9B,OAAA,MACA+B,IAAA,CAAAC,KAAA,CAAA5B,IAAA,CAAA6B,IAAA;UACAnB,MAAA,MAAAoB,2BAAA,EAAA9B,IAAA,CAAAU,MAAA;QAAA,EACA;QACA;QACAa,MAAA,CAAAf,UAAA;MACA;IACA;IACA,aACAuB,SAAA,WAAAA,UAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACApC,IAAA;MACA;IACA;IACA,aACAqC,YAAA,WAAAA,aAAAZ,GAAA;MACA,KAAAU,OAAA,CAAAC,IAAA;QACApC,IAAA;QACAsC,KAAA;UACAC,MAAA,EAAAd,GAAA,CAAAG;QACA;MACA;IACA;IACA,aACAY,YAAA,WAAAA,aAAAf,GAAA;MAAA,IAAAgB,MAAA;MACA,IAAAb,EAAA,GAAAH,GAAA,CAAAG,EAAA;MACA,KAAAc,MAAA,CAAAC,OAAA,qBAAAf,EAAA,aAAAT,IAAA;QACA,WAAAyB,gBAAA,EAAAhB,EAAA;MACA,GAAAT,IAAA;QACAsB,MAAA,CAAA1B,OAAA;QACA0B,MAAA,CAAAC,MAAA,CAAAG,UAAA;MACA,GAAAC,KAAA;IACA;EACA;AACA"}]}