{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\penal\\multi-instance\\ElementMultiInstance.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\penal\\multi-instance\\ElementMultiInstance.vue","mtime":1704630437721},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\babel.config.js","mtime":1704630437199},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy84OTQyNS9JZGVhUHJvamVjdHMvcXItY29kZS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvODk0MjUvSWRlYVByb2plY3RzL3FyLWNvZGUtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiRWxlbWVudE11bHRpSW5zdGFuY2UiLAogIHByb3BzOiB7CiAgICBidXNpbmVzc09iamVjdDogT2JqZWN0LAogICAgdHlwZTogU3RyaW5nCiAgfSwKICBpbmplY3Q6IHsKICAgIHByZWZpeDogInByZWZpeCIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiAiIiwKICAgICAgLy/pu5jorqTphY3nva7vvIznlKjmnaXopobnm5bljp/lp4vkuI3lrZjlnKjnmoTpgInpobnvvIzpgb/lhY3miqXplJkKICAgICAgZGVmYXVsdExvb3BJbnN0YW5jZUZvcm06IHsKICAgICAgICBjb21wbGV0aW9uQ29uZGl0aW9uOiAiIiwKICAgICAgICBsb29wQ2FyZGluYWxpdHk6ICIiLAogICAgICAgIGV4dGVuc2lvbkVsZW1lbnRzOiBbXSwKICAgICAgICBhc3luY0FmdGVyOiBmYWxzZSwKICAgICAgICBhc3luY0JlZm9yZTogZmFsc2UsCiAgICAgICAgZXhjbHVzaXZlOiBmYWxzZQogICAgICB9LAogICAgICBsb29wSW5zdGFuY2VGb3JtOiB7fQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBidXNpbmVzc09iamVjdDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5icG1uRWxlbWVudCA9IHdpbmRvdy5icG1uSW5zdGFuY2VzLmJwbW5FbGVtZW50OwogICAgICAgIHRoaXMuZ2V0RWxlbWVudExvb3AodmFsKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RWxlbWVudExvb3A6IGZ1bmN0aW9uIGdldEVsZW1lbnRMb29wKGJ1c2luZXNzT2JqZWN0KSB7CiAgICAgIHZhciBfYnVzaW5lc3NPYmplY3QkbG9vcEMsIF9idXNpbmVzc09iamVjdCRsb29wQzIsIF9idXNpbmVzc09iamVjdCRsb29wQzMsIF9idXNpbmVzc09iamVjdCRsb29wQzQ7CiAgICAgIGlmICghYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcykgewogICAgICAgIHRoaXMubG9vcENoYXJhY3RlcmlzdGljcyA9ICJOdWxsIjsKICAgICAgICB0aGlzLmxvb3BJbnN0YW5jZUZvcm0gPSB7fTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MuJHR5cGUgPT09ICJicG1uOlN0YW5kYXJkTG9vcENoYXJhY3RlcmlzdGljcyIpIHsKICAgICAgICB0aGlzLmxvb3BDaGFyYWN0ZXJpc3RpY3MgPSAiU3RhbmRhcmRMb29wIjsKICAgICAgICB0aGlzLmxvb3BJbnN0YW5jZUZvcm0gPSB7fTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MuaXNTZXF1ZW50aWFsKSB7CiAgICAgICAgdGhpcy5sb29wQ2hhcmFjdGVyaXN0aWNzID0gIlNlcXVlbnRpYWxNdWx0aUluc3RhbmNlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvb3BDaGFyYWN0ZXJpc3RpY3MgPSAiUGFyYWxsZWxNdWx0aUluc3RhbmNlIjsKICAgICAgfQogICAgICAvLyDlkIjlubbphY3nva4KICAgICAgdGhpcy5sb29wSW5zdGFuY2VGb3JtID0gKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHRoaXMuZGVmYXVsdExvb3BJbnN0YW5jZUZvcm0pLCBidXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzKSwge30sIHsKICAgICAgICBjb21wbGV0aW9uQ29uZGl0aW9uOiAoX2J1c2luZXNzT2JqZWN0JGxvb3BDID0gKF9idXNpbmVzc09iamVjdCRsb29wQzIgPSBidXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzKSA9PT0gbnVsbCB8fCBfYnVzaW5lc3NPYmplY3QkbG9vcEMyID09PSB2b2lkIDAgfHwgKF9idXNpbmVzc09iamVjdCRsb29wQzIgPSBfYnVzaW5lc3NPYmplY3QkbG9vcEMyLmNvbXBsZXRpb25Db25kaXRpb24pID09PSBudWxsIHx8IF9idXNpbmVzc09iamVjdCRsb29wQzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9idXNpbmVzc09iamVjdCRsb29wQzIuYm9keSkgIT09IG51bGwgJiYgX2J1c2luZXNzT2JqZWN0JGxvb3BDICE9PSB2b2lkIDAgPyBfYnVzaW5lc3NPYmplY3QkbG9vcEMgOiAiIiwKICAgICAgICBsb29wQ2FyZGluYWxpdHk6IChfYnVzaW5lc3NPYmplY3QkbG9vcEMzID0gKF9idXNpbmVzc09iamVjdCRsb29wQzQgPSBidXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzKSA9PT0gbnVsbCB8fCBfYnVzaW5lc3NPYmplY3QkbG9vcEM0ID09PSB2b2lkIDAgfHwgKF9idXNpbmVzc09iamVjdCRsb29wQzQgPSBfYnVzaW5lc3NPYmplY3QkbG9vcEM0Lmxvb3BDYXJkaW5hbGl0eSkgPT09IG51bGwgfHwgX2J1c2luZXNzT2JqZWN0JGxvb3BDNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2J1c2luZXNzT2JqZWN0JGxvb3BDNC5ib2R5KSAhPT0gbnVsbCAmJiBfYnVzaW5lc3NPYmplY3QkbG9vcEMzICE9PSB2b2lkIDAgPyBfYnVzaW5lc3NPYmplY3QkbG9vcEMzIDogIiIKICAgICAgfSk7CiAgICAgIC8vIOS/neeVmeW9k+WJjeWFg+e0oCBidXNpbmVzc09iamVjdCDkuIrnmoQgbG9vcENoYXJhY3RlcmlzdGljcyDlrp7kvosKICAgICAgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSA9IHdpbmRvdy5icG1uSW5zdGFuY2VzLmJwbW5FbGVtZW50LmJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3M7CiAgICAgIC8vIOabtOaWsOihqOWNlQogICAgICBpZiAoYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcy5leHRlbnNpb25FbGVtZW50cyAmJiBidXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzLmV4dGVuc2lvbkVsZW1lbnRzLnZhbHVlcyAmJiBidXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzLmV4dGVuc2lvbkVsZW1lbnRzLnZhbHVlcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRzZXQodGhpcy5sb29wSW5zdGFuY2VGb3JtLCAidGltZUN5Y2xlIiwgYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcy5leHRlbnNpb25FbGVtZW50cy52YWx1ZXNbMF0uYm9keSk7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VMb29wQ2hhcmFjdGVyaXN0aWNzVHlwZTogZnVuY3Rpb24gY2hhbmdlTG9vcENoYXJhY3RlcmlzdGljc1R5cGUodHlwZSkgewogICAgICAvLyB0aGlzLmxvb3BJbnN0YW5jZUZvcm0gPSB7IC4uLnRoaXMuZGVmYXVsdExvb3BJbnN0YW5jZUZvcm0gfTsgLy8g5YiH5o2i57G75Z6L5Y+W5raI5Y6f6KGo5Y2V6YWN572uCiAgICAgIC8vIOWPlua2iOWkmuWunuS+i+mFjee9rgogICAgICBpZiAodHlwZSA9PT0gIk51bGwiKSB7CiAgICAgICAgd2luZG93LmJwbW5JbnN0YW5jZXMubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLmJwbW5FbGVtZW50LCB7CiAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiBudWxsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOmFjee9ruW+queOrwogICAgICBpZiAodHlwZSA9PT0gIlN0YW5kYXJkTG9vcCIpIHsKICAgICAgICB2YXIgbG9vcENoYXJhY3RlcmlzdGljc09iamVjdCA9IHdpbmRvdy5icG1uSW5zdGFuY2VzLm1vZGRsZS5jcmVhdGUoImJwbW46U3RhbmRhcmRMb29wQ2hhcmFjdGVyaXN0aWNzIik7CiAgICAgICAgd2luZG93LmJwbW5JbnN0YW5jZXMubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLmJwbW5FbGVtZW50LCB7CiAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiBsb29wQ2hhcmFjdGVyaXN0aWNzT2JqZWN0CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSA9IG51bGw7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOaXtuW6jwogICAgICBpZiAodHlwZSA9PT0gIlNlcXVlbnRpYWxNdWx0aUluc3RhbmNlIikgewogICAgICAgIHRoaXMubXVsdGlMb29wSW5zdGFuY2UgPSB3aW5kb3cuYnBtbkluc3RhbmNlcy5tb2RkbGUuY3JlYXRlKCJicG1uOk11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzIiwgewogICAgICAgICAgaXNTZXF1ZW50aWFsOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSA9IHdpbmRvdy5icG1uSW5zdGFuY2VzLm1vZGRsZS5jcmVhdGUoImJwbW46TXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3MiLCB7CiAgICAgICAgICBjb2xsZWN0aW9uOiAiJHtjb2xsX3VzZXJMaXN0fSIKICAgICAgICB9KTsKICAgICAgfQogICAgICB3aW5kb3cuYnBtbkluc3RhbmNlcy5tb2RlbGluZy51cGRhdGVQcm9wZXJ0aWVzKHRoaXMuYnBtbkVsZW1lbnQsIHsKICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiB0aGlzLm11bHRpTG9vcEluc3RhbmNlCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW+queOr+WfuuaVsAogICAgdXBkYXRlTG9vcENhcmRpbmFsaXR5OiBmdW5jdGlvbiB1cGRhdGVMb29wQ2FyZGluYWxpdHkoY2FyZGluYWxpdHkpIHsKICAgICAgdmFyIGxvb3BDYXJkaW5hbGl0eSA9IG51bGw7CiAgICAgIGlmIChjYXJkaW5hbGl0eSAmJiBjYXJkaW5hbGl0eS5sZW5ndGgpIHsKICAgICAgICBsb29wQ2FyZGluYWxpdHkgPSB3aW5kb3cuYnBtbkluc3RhbmNlcy5tb2RkbGUuY3JlYXRlKCJicG1uOkZvcm1hbEV4cHJlc3Npb24iLCB7CiAgICAgICAgICBib2R5OiBjYXJkaW5hbGl0eQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHdpbmRvdy5icG1uSW5zdGFuY2VzLm1vZGVsaW5nLnVwZGF0ZU1vZGRsZVByb3BlcnRpZXModGhpcy5icG1uRWxlbWVudCwgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSwgewogICAgICAgIGxvb3BDYXJkaW5hbGl0eTogbG9vcENhcmRpbmFsaXR5CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWujOaIkOadoeS7tgogICAgdXBkYXRlTG9vcENvbmRpdGlvbjogZnVuY3Rpb24gdXBkYXRlTG9vcENvbmRpdGlvbihjb25kaXRpb24pIHsKICAgICAgdmFyIGNvbXBsZXRpb25Db25kaXRpb24gPSBudWxsOwogICAgICBpZiAoY29uZGl0aW9uICYmIGNvbmRpdGlvbi5sZW5ndGgpIHsKICAgICAgICBjb21wbGV0aW9uQ29uZGl0aW9uID0gd2luZG93LmJwbW5JbnN0YW5jZXMubW9kZGxlLmNyZWF0ZSgiYnBtbjpGb3JtYWxFeHByZXNzaW9uIiwgewogICAgICAgICAgYm9keTogY29uZGl0aW9uCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgd2luZG93LmJwbW5JbnN0YW5jZXMubW9kZWxpbmcudXBkYXRlTW9kZGxlUHJvcGVydGllcyh0aGlzLmJwbW5FbGVtZW50LCB0aGlzLm11bHRpTG9vcEluc3RhbmNlLCB7CiAgICAgICAgY29tcGxldGlvbkNvbmRpdGlvbjogY29tcGxldGlvbkNvbmRpdGlvbgogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43or5XlkajmnJ8KICAgIHVwZGF0ZUxvb3BUaW1lQ3ljbGU6IGZ1bmN0aW9uIHVwZGF0ZUxvb3BUaW1lQ3ljbGUodGltZUN5Y2xlKSB7CiAgICAgIHZhciBleHRlbnNpb25FbGVtZW50cyA9IHdpbmRvdy5icG1uSW5zdGFuY2VzLm1vZGRsZS5jcmVhdGUoImJwbW46RXh0ZW5zaW9uRWxlbWVudHMiLCB7CiAgICAgICAgdmFsdWVzOiBbd2luZG93LmJwbW5JbnN0YW5jZXMubW9kZGxlLmNyZWF0ZSgiIi5jb25jYXQodGhpcy5wcmVmaXgsICI6RmFpbGVkSm9iUmV0cnlUaW1lQ3ljbGUiKSwgewogICAgICAgICAgYm9keTogdGltZUN5Y2xlCiAgICAgICAgfSldCiAgICAgIH0pOwogICAgICB3aW5kb3cuYnBtbkluc3RhbmNlcy5tb2RlbGluZy51cGRhdGVNb2RkbGVQcm9wZXJ0aWVzKHRoaXMuYnBtbkVsZW1lbnQsIHRoaXMubXVsdGlMb29wSW5zdGFuY2UsIHsKICAgICAgICBleHRlbnNpb25FbGVtZW50czogZXh0ZW5zaW9uRWxlbWVudHMKICAgICAgfSk7CiAgICB9LAogICAgLy8g55u05o6l5pu05paw55qE5Z+656GA5L+h5oGvCiAgICB1cGRhdGVMb29wQmFzZTogZnVuY3Rpb24gdXBkYXRlTG9vcEJhc2UoKSB7CiAgICAgIHdpbmRvdy5icG1uSW5zdGFuY2VzLm1vZGVsaW5nLnVwZGF0ZU1vZGRsZVByb3BlcnRpZXModGhpcy5icG1uRWxlbWVudCwgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSwgewogICAgICAgIGNvbGxlY3Rpb246IHRoaXMubG9vcEluc3RhbmNlRm9ybS5jb2xsZWN0aW9uIHx8IG51bGwsCiAgICAgICAgZWxlbWVudFZhcmlhYmxlOiB0aGlzLmxvb3BJbnN0YW5jZUZvcm0uZWxlbWVudFZhcmlhYmxlIHx8IG51bGwKICAgICAgfSk7CiAgICB9LAogICAgLy8g5ZCE5byC5q2l54q25oCBCiAgICB1cGRhdGVMb29wQXN5bmM6IGZ1bmN0aW9uIHVwZGF0ZUxvb3BBc3luYyhrZXkpIHsKICAgICAgdmFyIF90aGlzJGxvb3BJbnN0YW5jZUZvciA9IHRoaXMubG9vcEluc3RhbmNlRm9ybSwKICAgICAgICBhc3luY0JlZm9yZSA9IF90aGlzJGxvb3BJbnN0YW5jZUZvci5hc3luY0JlZm9yZSwKICAgICAgICBhc3luY0FmdGVyID0gX3RoaXMkbG9vcEluc3RhbmNlRm9yLmFzeW5jQWZ0ZXI7CiAgICAgIHZhciBhc3luY0F0dHIgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICBpZiAoIWFzeW5jQmVmb3JlICYmICFhc3luY0FmdGVyKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMubG9vcEluc3RhbmNlRm9ybSwgImV4Y2x1c2l2ZSIsIGZhbHNlKTsKICAgICAgICBhc3luY0F0dHIgPSB7CiAgICAgICAgICBhc3luY0JlZm9yZTogZmFsc2UsCiAgICAgICAgICBhc3luY0FmdGVyOiBmYWxzZSwKICAgICAgICAgIGV4Y2x1c2l2ZTogZmFsc2UsCiAgICAgICAgICBleHRlbnNpb25FbGVtZW50czogbnVsbAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXN5bmNBdHRyW2tleV0gPSB0aGlzLmxvb3BJbnN0YW5jZUZvcm1ba2V5XTsKICAgICAgfQogICAgICB3aW5kb3cuYnBtbkluc3RhbmNlcy5tb2RlbGluZy51cGRhdGVNb2RkbGVQcm9wZXJ0aWVzKHRoaXMuYnBtbkVsZW1lbnQsIHRoaXMubXVsdGlMb29wSW5zdGFuY2UsIGFzeW5jQXR0cik7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSA9IG51bGw7CiAgICB0aGlzLmJwbW5FbGVtZW50ID0gbnVsbDsKICB9Cn07"},{"version":3,"names":["name","props","businessObject","Object","type","String","inject","prefix","data","loopCharacteristics","defaultLoopInstanceForm","completionCondition","loopCardinality","extensionElements","asyncAfter","asyncBefore","exclusive","loopInstanceForm","watch","immediate","handler","val","bpmnElement","window","bpmnInstances","getElementLoop","methods","_businessObject$loopC","_businessObject$loopC2","_businessObject$loopC3","_businessObject$loopC4","$type","isSequential","_objectSpread2","default","body","multiLoopInstance","values","length","$set","changeLoopCharacteristicsType","modeling","updateProperties","loopCharacteristicsObject","moddle","create","collection","updateLoopCardinality","cardinality","updateModdleProperties","updateLoopCondition","condition","updateLoopTimeCycle","timeCycle","concat","updateLoopBase","elementVariable","updateLoopAsync","key","_this$loopInstanceFor","asyncAttr","beforeDestroy"],"sources":["src/components/bpmnProcessDesigner/package/penal/multi-instance/ElementMultiInstance.vue"],"sourcesContent":["<template>\r\n  <div class=\"panel-tab__content\">\r\n    <el-form size=\"mini\" label-width=\"90px\" @submit.native.prevent>\r\n      <el-form-item label=\"回路特性\">\r\n        <el-select v-model=\"loopCharacteristics\" @change=\"changeLoopCharacteristicsType\">\r\n          <!--bpmn:MultiInstanceLoopCharacteristics-->\r\n          <el-option label=\"并行多重事件\" value=\"ParallelMultiInstance\" />\r\n          <el-option label=\"时序多重事件\" value=\"SequentialMultiInstance\" />\r\n          <!--bpmn:StandardLoopCharacteristics-->\r\n          <el-option label=\"循环事件\" value=\"StandardLoop\" />\r\n          <el-option label=\"无\" value=\"Null\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <template v-if=\"loopCharacteristics === 'ParallelMultiInstance' || loopCharacteristics === 'SequentialMultiInstance'\">\r\n        <el-form-item label=\"循环基数\" key=\"loopCardinality\">\r\n          <el-input v-model=\"loopInstanceForm.loopCardinality\" clearable @change=\"updateLoopCardinality\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"集合\" key=\"collection\" v-show=\"false\">\r\n          <el-input v-model=\"loopInstanceForm.collection\" clearable @change=\"updateLoopBase\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"元素变量\" key=\"elementVariable\">\r\n          <el-input v-model=\"loopInstanceForm.elementVariable\" clearable @change=\"updateLoopBase\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"完成条件\" key=\"completionCondition\">\r\n          <el-input v-model=\"loopInstanceForm.completionCondition\" clearable @change=\"updateLoopCondition\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"异步状态\" key=\"async\">\r\n          <el-checkbox v-model=\"loopInstanceForm.asyncBefore\" label=\"异步前\" @change=\"updateLoopAsync('asyncBefore')\" />\r\n          <el-checkbox v-model=\"loopInstanceForm.asyncAfter\" label=\"异步后\" @change=\"updateLoopAsync('asyncAfter')\" />\r\n          <el-checkbox\r\n            v-model=\"loopInstanceForm.exclusive\"\r\n            v-if=\"loopInstanceForm.asyncAfter || loopInstanceForm.asyncBefore\"\r\n            label=\"排除\"\r\n            @change=\"updateLoopAsync('exclusive')\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"重试周期\" prop=\"timeCycle\" v-if=\"loopInstanceForm.asyncAfter || loopInstanceForm.asyncBefore\" key=\"timeCycle\">\r\n          <el-input v-model=\"loopInstanceForm.timeCycle\" clearable @change=\"updateLoopTimeCycle\" />\r\n        </el-form-item>\r\n      </template>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ElementMultiInstance\",\r\n  props: {\r\n    businessObject: Object,\r\n    type: String\r\n  },\r\n  inject: {\r\n    prefix: \"prefix\"\r\n  },\r\n  data() {\r\n    return {\r\n      loopCharacteristics: \"\",\r\n      //默认配置，用来覆盖原始不存在的选项，避免报错\r\n      defaultLoopInstanceForm: {\r\n        completionCondition: \"\",\r\n        loopCardinality: \"\",\r\n        extensionElements: [],\r\n        asyncAfter: false,\r\n        asyncBefore: false,\r\n        exclusive: false\r\n      },\r\n      loopInstanceForm: {}\r\n    };\r\n  },\r\n  watch: {\r\n    businessObject: {\r\n      immediate: true,\r\n      handler(val) {\r\n        this.bpmnElement = window.bpmnInstances.bpmnElement;\r\n        this.getElementLoop(val);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getElementLoop(businessObject) {\r\n      if (!businessObject.loopCharacteristics) {\r\n        this.loopCharacteristics = \"Null\";\r\n        this.loopInstanceForm = {};\r\n        return;\r\n      }\r\n      if (businessObject.loopCharacteristics.$type === \"bpmn:StandardLoopCharacteristics\") {\r\n        this.loopCharacteristics = \"StandardLoop\";\r\n        this.loopInstanceForm = {};\r\n        return;\r\n      }\r\n      if (businessObject.loopCharacteristics.isSequential) {\r\n        this.loopCharacteristics = \"SequentialMultiInstance\";\r\n      } else {\r\n        this.loopCharacteristics = \"ParallelMultiInstance\";\r\n      }\r\n      // 合并配置\r\n      this.loopInstanceForm = {\r\n        ...this.defaultLoopInstanceForm,\r\n        ...businessObject.loopCharacteristics,\r\n        completionCondition: businessObject.loopCharacteristics?.completionCondition?.body ?? \"\",\r\n        loopCardinality: businessObject.loopCharacteristics?.loopCardinality?.body ?? \"\"\r\n      };\r\n      // 保留当前元素 businessObject 上的 loopCharacteristics 实例\r\n      this.multiLoopInstance = window.bpmnInstances.bpmnElement.businessObject.loopCharacteristics;\r\n      // 更新表单\r\n      if (\r\n        businessObject.loopCharacteristics.extensionElements &&\r\n        businessObject.loopCharacteristics.extensionElements.values &&\r\n        businessObject.loopCharacteristics.extensionElements.values.length\r\n      ) {\r\n        this.$set(this.loopInstanceForm, \"timeCycle\", businessObject.loopCharacteristics.extensionElements.values[0].body);\r\n      }\r\n    },\r\n    changeLoopCharacteristicsType(type) {\r\n      // this.loopInstanceForm = { ...this.defaultLoopInstanceForm }; // 切换类型取消原表单配置\r\n      // 取消多实例配置\r\n      if (type === \"Null\") {\r\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, { loopCharacteristics: null });\r\n        return;\r\n      }\r\n      // 配置循环\r\n      if (type === \"StandardLoop\") {\r\n        const loopCharacteristicsObject = window.bpmnInstances.moddle.create(\"bpmn:StandardLoopCharacteristics\");\r\n        window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\r\n          loopCharacteristics: loopCharacteristicsObject\r\n        });\r\n        this.multiLoopInstance = null;\r\n        return;\r\n      }\r\n      // 时序\r\n      if (type === \"SequentialMultiInstance\") {\r\n        this.multiLoopInstance = window.bpmnInstances.moddle.create(\"bpmn:MultiInstanceLoopCharacteristics\", { isSequential: true });\r\n      } else {\r\n        this.multiLoopInstance = window.bpmnInstances.moddle.create(\"bpmn:MultiInstanceLoopCharacteristics\", { collection: \"${coll_userList}\" });\r\n      }\r\n      window.bpmnInstances.modeling.updateProperties(this.bpmnElement, {\r\n        loopCharacteristics: this.multiLoopInstance\r\n      });\r\n    },\r\n    // 循环基数\r\n    updateLoopCardinality(cardinality) {\r\n      let loopCardinality = null;\r\n      if (cardinality && cardinality.length) {\r\n        loopCardinality = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body: cardinality });\r\n      }\r\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, { loopCardinality });\r\n    },\r\n    // 完成条件\r\n    updateLoopCondition(condition) {\r\n      let completionCondition = null;\r\n      if (condition && condition.length) {\r\n        completionCondition = window.bpmnInstances.moddle.create(\"bpmn:FormalExpression\", { body: condition });\r\n      }\r\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, { completionCondition });\r\n    },\r\n    // 重试周期\r\n    updateLoopTimeCycle(timeCycle) {\r\n      const extensionElements = window.bpmnInstances.moddle.create(\"bpmn:ExtensionElements\", {\r\n        values: [\r\n          window.bpmnInstances.moddle.create(`${this.prefix}:FailedJobRetryTimeCycle`, {\r\n            body: timeCycle\r\n          })\r\n        ]\r\n      });\r\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, { extensionElements });\r\n    },\r\n    // 直接更新的基础信息\r\n    updateLoopBase() {\r\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, {\r\n        collection: this.loopInstanceForm.collection || null,\r\n        elementVariable: this.loopInstanceForm.elementVariable || null\r\n      });\r\n    },\r\n    // 各异步状态\r\n    updateLoopAsync(key) {\r\n      const { asyncBefore, asyncAfter } = this.loopInstanceForm;\r\n      let asyncAttr = Object.create(null);\r\n      if (!asyncBefore && !asyncAfter) {\r\n        this.$set(this.loopInstanceForm, \"exclusive\", false);\r\n        asyncAttr = { asyncBefore: false, asyncAfter: false, exclusive: false, extensionElements: null };\r\n      } else {\r\n        asyncAttr[key] = this.loopInstanceForm[key];\r\n      }\r\n      window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement, this.multiLoopInstance, asyncAttr);\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.multiLoopInstance = null;\r\n    this.bpmnElement = null;\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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"}]}