{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\infra\\codegen\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\infra\\codegen\\index.vue","mtime":1704630437879},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBnZXRDb2RlZ2VuVGFibGVQYWdlLCBwcmV2aWV3Q29kZWdlbiwgZG93bmxvYWRDb2RlZ2VuLCBkZWxldGVDb2RlZ2VuLA0KICBzeW5jQ29kZWdlbkZyb21EQiB9IGZyb20gIkAvYXBpL2luZnJhL2NvZGVnZW4iOw0KDQppbXBvcnQgaW1wb3J0VGFibGUgZnJvbSAiLi9pbXBvcnRUYWJsZSI7DQovLyDku6PnoIHpq5jkuq7mj5Lku7YNCmltcG9ydCBobGpzIGZyb20gImhpZ2hsaWdodC5qcy9saWIvaGlnaGxpZ2h0IjsNCmltcG9ydCAiaGlnaGxpZ2h0LmpzL3N0eWxlcy9naXRodWItZ2lzdC5jc3MiOw0KaW1wb3J0IHtnZXREYXRhU291cmNlQ29uZmlnTGlzdH0gZnJvbSAiQC9hcGkvaW5mcmEvZGF0YVNvdXJjZUNvbmZpZyI7DQpobGpzLnJlZ2lzdGVyTGFuZ3VhZ2UoImphdmEiLCByZXF1aXJlKCJoaWdobGlnaHQuanMvbGliL2xhbmd1YWdlcy9qYXZhIikpOw0KaGxqcy5yZWdpc3Rlckxhbmd1YWdlKCJ4bWwiLCByZXF1aXJlKCJoaWdobGlnaHQuanMvbGliL2xhbmd1YWdlcy94bWwiKSk7DQpobGpzLnJlZ2lzdGVyTGFuZ3VhZ2UoImh0bWwiLCByZXF1aXJlKCJoaWdobGlnaHQuanMvbGliL2xhbmd1YWdlcy94bWwiKSk7DQpobGpzLnJlZ2lzdGVyTGFuZ3VhZ2UoInZ1ZSIsIHJlcXVpcmUoImhpZ2hsaWdodC5qcy9saWIvbGFuZ3VhZ2VzL3htbCIpKTsNCmhsanMucmVnaXN0ZXJMYW5ndWFnZSgiamF2YXNjcmlwdCIsIHJlcXVpcmUoImhpZ2hsaWdodC5qcy9saWIvbGFuZ3VhZ2VzL2phdmFzY3JpcHQiKSk7DQpobGpzLnJlZ2lzdGVyTGFuZ3VhZ2UoInNxbCIsIHJlcXVpcmUoImhpZ2hsaWdodC5qcy9saWIvbGFuZ3VhZ2VzL3NxbCIpKTsNCmhsanMucmVnaXN0ZXJMYW5ndWFnZSgidHlwZXNjcmlwdCIsIHJlcXVpcmUoImhpZ2hsaWdodC5qcy9saWIvbGFuZ3VhZ2VzL3R5cGVzY3JpcHQiKSk7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJJbmZyYUNvZGVnZW4iLA0KICBjb21wb25lbnRzOiB7IGltcG9ydFRhYmxlIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOmBrue9qeWxgg0KICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgIC8vIOWUr+S4gOagh+ivhuespg0KICAgICAgdW5pcXVlSWQ6ICIiLA0KICAgICAgLy8g6YCJ5Lit6KGo5pWw57uEDQogICAgICB0YWJsZU5hbWVzOiBbXSwNCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tg0KICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwNCiAgICAgIC8vIOaAu+adoeaVsA0KICAgICAgdG90YWw6IDAsDQogICAgICAvLyDooajmlbDmja4NCiAgICAgIHRhYmxlTGlzdDogW10sDQogICAgICAvLyDml6XmnJ/ojIPlm7QNCiAgICAgIGRhdGVSYW5nZTogIiIsDQogICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIHBhZ2VObzogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICB0YWJsZU5hbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgdGFibGVDb21tZW50OiB1bmRlZmluZWQsDQogICAgICAgIGNyZWF0ZVRpbWU6IFtdDQogICAgICB9LA0KICAgICAgLy8g6aKE6KeI5Y+C5pWwDQogICAgICBwcmV2aWV3OiB7DQogICAgICAgIG9wZW46IGZhbHNlLA0KICAgICAgICB0aXRsZTogIuS7o+eggemihOiniCIsDQogICAgICAgIGZpbGVUcmVlOiBbXSwNCiAgICAgICAgZGF0YToge30sDQogICAgICAgIGFjdGl2ZU5hbWU6ICIiLA0KICAgICAgfSwNCiAgICAgIC8vIOaVsOaNrua6kOWIl+ihqA0KICAgICAgZGF0YVNvdXJjZUNvbmZpZ3M6IFtdLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCk7DQogICAgLy8g5Yqg6L295pWw5o2u5rqQDQogICAgZ2V0RGF0YVNvdXJjZUNvbmZpZ0xpc3QoKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgIHRoaXMuZGF0YVNvdXJjZUNvbmZpZ3MgPSByZXNwb25zZS5kYXRhOw0KICAgIH0pOw0KICB9LA0KICBhY3RpdmF0ZWQoKSB7DQogICAgY29uc3QgdGltZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnQ7DQogICAgaWYgKHRpbWUgIT0gbnVsbCAmJiB0aW1lICE9PSB0aGlzLnVuaXF1ZUlkKSB7DQogICAgICB0aGlzLnVuaXF1ZUlkID0gdGltZTsNCiAgICAgIHRoaXMucmVzZXRRdWVyeSgpOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKiDmn6Xor6Looajpm4blkIggKi8NCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGdldENvZGVnZW5UYWJsZVBhZ2UodGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsNCiAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOw0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgKTsNCiAgICB9LA0KICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8NCiAgICBoYW5kbGVRdWVyeSgpIHsNCiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU5vID0gMTsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgLyoqIOeUn+aIkOS7o+eggeaTjeS9nCAqLw0KICAgIGhhbmRsZUdlblRhYmxlKHJvdykgew0KICAgICAgZG93bmxvYWRDb2RlZ2VuKHJvdy5pZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuJGRvd25sb2FkLnppcChyZXNwb25zZSwgJ2NvZGVnZW4tJyArIHJvdy50YWJsZU5hbWUgKyAnLnppcCcpOw0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qKiDlkIzmraXmlbDmja7lupPmk43kvZwgKi8NCiAgICBoYW5kbGVTeW5jaERiKHJvdykgew0KICAgICAgLy8g5Z+65LqOIERCIOWQjOatpQ0KICAgICAgY29uc3QgdGFibGVOYW1lID0gcm93LnRhYmxlTmFtZTsNCiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+ehruiupOimgeW8uuWItuWQjOatpSInICsgdGFibGVOYW1lICsgJyLooajnu5PmnoTlkJfvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgew0KICAgICAgICAgIHJldHVybiBzeW5jQ29kZWdlbkZyb21EQihyb3cuaWQpOw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5ZCM5q2l5oiQ5YqfIik7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7DQogICAgfSwNCiAgICAvKiog5omT5byA5a+85YWl6KGo5by556qXICovDQogICAgb3BlbkltcG9ydFRhYmxlKCkgew0KICAgICAgdGhpcy4kcmVmcy5pbXBvcnQuc2hvdygpOw0KICAgIH0sDQogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLw0KICAgIHJlc2V0UXVlcnkoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7DQogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7DQogICAgfSwNCiAgICAvKiog6aKE6KeI5oyJ6ZKuICovDQogICAgaGFuZGxlUHJldmlldyhyb3cpIHsNCiAgICAgIHByZXZpZXdDb2RlZ2VuKHJvdy5pZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMucHJldmlldy5kYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgbGV0IGZpbGVzID0gdGhpcy5oYW5kbGVGaWxlcyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgdGhpcy5wcmV2aWV3LmZpbGVUcmVlID0gdGhpcy5oYW5kbGVUcmVlKGZpbGVzLCAiaWQiLCAicGFyZW50SWQiLCAiY2hpbGRyZW4iLA0KICAgICAgICAgICAgIi8iKTsgLy8gIi8iIOS4uuagueiKgueCuQ0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnByZXZpZXcuZmlsZVRyZWUpDQogICAgICAgIHRoaXMucHJldmlldy5hY3RpdmVOYW1lID0gcmVzcG9uc2UuZGF0YVswXS5maWxlUGF0aDsNCiAgICAgICAgdGhpcy5wcmV2aWV3Lm9wZW4gPSB0cnVlOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKiog6auY5Lqu5pi+56S6ICovDQogICAgaGlnaGxpZ2h0ZWRDb2RlKGl0ZW0pIHsNCiAgICAgIC8vIGNvbnN0IHZtTmFtZSA9IGtleS5zdWJzdHJpbmcoa2V5Lmxhc3RJbmRleE9mKCIvIikgKyAxLCBrZXkuaW5kZXhPZigiLnZtIikpOw0KICAgICAgLy8gdmFyIGxhbmd1YWdlID0gdm1OYW1lLnN1YnN0cmluZyh2bU5hbWUuaW5kZXhPZigiLiIpICsgMSwgdm1OYW1lLmxlbmd0aCk7DQogICAgICBjb25zdCBsYW5ndWFnZSA9IGl0ZW0uZmlsZVBhdGguc3Vic3RyaW5nKGl0ZW0uZmlsZVBhdGgubGFzdEluZGV4T2YoJy4nKSArIDEpDQogICAgICBjb25zdCByZXN1bHQgPSBobGpzLmhpZ2hsaWdodChsYW5ndWFnZSwgaXRlbS5jb2RlIHx8ICIiLCB0cnVlKTsNCiAgICAgIHJldHVybiByZXN1bHQudmFsdWUgfHwgJyZuYnNwOyc7DQogICAgfSwNCiAgICAvKiog5aSN5Yi25Luj56CB5oiQ5YqfICovDQogICAgY2xpcGJvYXJkU3VjY2VzcygpIHsNCiAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuWkjeWItuaIkOWKnyIpOw0KICAgIH0sDQogICAgLyoqIOeUn+aIkCBmaWxlcyDnm67lvZUgKiovDQogICAgaGFuZGxlRmlsZXMoZGF0YXMpIHsNCiAgICAgIGxldCBleGlzdHMgPSB7fTsgLy8ga2V577yaZmlsZSDnmoQgaWTvvJt2YWx1Ze+8mnRydWUNCiAgICAgIGxldCBmaWxlcyA9IFtdOw0KICAgICAgLy8g6YGN5Y6G5q+P5Liq5YWD57SgDQogICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgZGF0YXMpIHsNCiAgICAgICAgbGV0IHBhdGhzID0gZGF0YS5maWxlUGF0aC5zcGxpdCgnLycpOw0KICAgICAgICBsZXQgZnVsbFBhdGggPSAnJzsgLy8g5LuO5aS05byA5aeL55qE6Lev5b6E77yM55So5LqO55Sf5oiQIGlkDQogICAgICAgIC8vIOeJueauiuWkhOeQhiBqYXZhIOaWh+S7tg0KICAgICAgICBpZiAocGF0aHNbcGF0aHMubGVuZ3RoIC0gMV0uaW5kZXhPZignLmphdmEnKSA+PSAwKSB7DQogICAgICAgICAgbGV0IG5ld1BhdGhzID0gW107DQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgbGV0IHBhdGggPSBwYXRoc1tpXTsNCiAgICAgICAgICAgIGlmIChwYXRoICE9PSAnamF2YScpIHsNCiAgICAgICAgICAgICAgbmV3UGF0aHMucHVzaChwYXRoKTsNCiAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBuZXdQYXRocy5wdXNoKHBhdGgpOw0KICAgICAgICAgICAgLy8g54m55q6K5aSE55CG5Lit6Ze055qEIHBhY2thZ2XvvIzov5vooYzlkIjlubYNCiAgICAgICAgICAgIGxldCB0bXAgPSB1bmRlZmluZWQ7DQogICAgICAgICAgICB3aGlsZSAoaSA8IHBhdGhzLmxlbmd0aCkgew0KICAgICAgICAgICAgICBwYXRoID0gcGF0aHNbaSArIDFdOw0KICAgICAgICAgICAgICBpZiAocGF0aCA9PT0gJ2NvbnRyb2xsZXInDQogICAgICAgICAgICAgICAgfHwgcGF0aCA9PT0gJ2NvbnZlcnQnDQogICAgICAgICAgICAgICAgfHwgcGF0aCA9PT0gJ2RhbCcNCiAgICAgICAgICAgICAgICB8fCBwYXRoID09PSAnZW51bXMnDQogICAgICAgICAgICAgICAgfHwgcGF0aCA9PT0gJ3NlcnZpY2UnDQogICAgICAgICAgICAgICAgfHwgcGF0aCA9PT0gJ3ZvJyAvLyDkuIvpnaLkuInkuKrvvIzkuLvopoHmmK/lhZzlupXjgILlj6/og73ogIPomZHliLDmnInkurrmlLnkuobljIXnu5PmnoQNCiAgICAgICAgICAgICAgICB8fCBwYXRoID09PSAnbXlzcWwnDQogICAgICAgICAgICAgICAgfHwgcGF0aCA9PT0gJ2RhdGFvYmplY3QnKSB7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdG1wID0gdG1wID8gdG1wICsgJy4nICsgcGF0aCA6IHBhdGg7DQogICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0bXApIHsNCiAgICAgICAgICAgICAgbmV3UGF0aHMucHVzaCh0bXApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBwYXRocyA9IG5ld1BhdGhzOw0KICAgICAgICB9DQogICAgICAgIC8vIOmBjeWOhuavj+S4qiBwYXRo77yMIOaLvOaOpeaIkOagkQ0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgLy8g5bey57uP5re75Yqg5YiwIGZpbGVzIOS4re+8jOWImei3s+i/hw0KICAgICAgICAgIGxldCBvbGRGdWxsUGF0aCA9IGZ1bGxQYXRoOw0KICAgICAgICAgIC8vIOS4i+mdoueahCByZXBsYWNlQWxsIOeahOWOn+WboO+8jOaYr+WboOS4uuS4iumdouWMheWkhOeQhuS6hu+8jOWvvOiHtOWSjCB0YWJzIOS4jeWMuemFje+8jOaJgOS7pSByZXBsYWNlQWxsIOS4iw0KICAgICAgICAgIGZ1bGxQYXRoID0gZnVsbFBhdGgubGVuZ3RoID09PSAwID8gcGF0aHNbaV0gOiBmdWxsUGF0aC5yZXBsYWNlQWxsKCcuJywgJy8nKSArICcvJyArIHBhdGhzW2ldOw0KICAgICAgICAgIGlmIChleGlzdHNbZnVsbFBhdGhdKSB7DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICB9DQogICAgICAgICAgLy8g5re75Yqg5YiwIGZpbGVzIOS4rQ0KICAgICAgICAgIGV4aXN0c1tmdWxsUGF0aF0gPSB0cnVlOw0KICAgICAgICAgIGZpbGVzLnB1c2goew0KICAgICAgICAgICAgaWQ6IGZ1bGxQYXRoLA0KICAgICAgICAgICAgbGFiZWw6IHBhdGhzW2ldLA0KICAgICAgICAgICAgcGFyZW50SWQ6IG9sZEZ1bGxQYXRoIHx8ICcvJyAgLy8gIi8iIOS4uuagueiKgueCuQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gZmlsZXM7DQogICAgfSwNCiAgICAvKiog6IqC54K55Y2V5Ye75LqL5Lu2ICoqLw0KICAgIGhhbmRsZU5vZGVDbGljayhkYXRhLCBub2RlKSB7DQogICAgICBpZiAobm9kZSAmJiAhbm9kZS5pc0xlYWYpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgLy8g5Yik5pat77yM5aaC5p6c6Z2e5a2Q6IqC54K577yM5LiN5YWB6K646YCJ5LitDQogICAgICB0aGlzLnByZXZpZXcuYWN0aXZlTmFtZSA9IGRhdGEuaWQ7DQogICAgfSwNCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlRWRpdFRhYmxlKHJvdykgew0KICAgICAgY29uc3QgdGFibGVJZCA9IHJvdy5pZDsNCiAgICAgIGNvbnN0IHRhYmxlTmFtZSA9IHJvdy50YWJsZU5hbWUgfHwgdGhpcy50YWJsZU5hbWVzWzBdOw0KICAgICAgY29uc3QgcGFyYW1zID0geyBwYWdlTnVtOiB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gfTsNCiAgICAgIHRoaXMuJHRhYi5vcGVuUGFnZSgi5L+u5pS5WyIgKyB0YWJsZU5hbWUgKyAiXeeUn+aIkOmFjee9riIsICcvY29kZWdlbi9lZGl0LycgKyB0YWJsZUlkLCBwYXJhbXMpOw0KICAgIH0sDQogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsNCiAgICAgIGNvbnN0IHRhYmxlSWRzID0gcm93LmlkOw0KICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk6KGo5ZCN56ew5Li6IicgKyByb3cudGFibGVOYW1lICsgJyLnmoTmlbDmja7pobk/JykudGhlbihmdW5jdGlvbigpIHsNCiAgICAgICAgICByZXR1cm4gZGVsZXRlQ29kZWdlbih0YWJsZUlkcyk7DQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsNCiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsNCiAgICB9LA0KICAgIC8vIOaVsOaNrua6kOmFjee9rueahOWQjeWtlw0KICAgIGRhdGFTb3VyY2VDb25maWdOYW1lRm9ybWF0KHJvdywgY29sdW1uKSB7DQogICAgICBmb3IgKGNvbnN0IGNvbmZpZyBvZiB0aGlzLmRhdGFTb3VyY2VDb25maWdzKSB7DQogICAgICAgIGlmIChyb3cuZGF0YVNvdXJjZUNvbmZpZ0lkID09PSBjb25maWcuaWQpIHsNCiAgICAgICAgICByZXR1cm4gY29uZmlnLm5hbWU7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiAn5pyq55+l44CQJyArIHJvdy5sZWFkZXJVc2VySWQgKyAn44CRJzsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAsFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/infra/codegen","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <doc-alert title=\"代码生成\" url=\"https://doc.iocoder.cn/new-feature/\" />\r\n    <doc-alert title=\"单元测试\" url=\"https://doc.iocoder.cn/unit-test/\" />\r\n    <!-- 操作工作栏 -->\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"表名称\" prop=\"tableName\">\r\n        <el-input v-model=\"queryParams.tableName\" placeholder=\"请输入表名称\" clearable\r\n                  @keyup.enter.native=\"handleQuery\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"表描述\" prop=\"tableComment\">\r\n        <el-input v-model=\"queryParams.tableComment\" placeholder=\"请输入表描述\" clearable\r\n                  @keyup.enter.native=\"handleQuery\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"创建时间\" prop=\"createTime\">\r\n        <el-date-picker v-model=\"queryParams.createTime\" style=\"width: 240px\" value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"daterange\"\r\n                        range-separator=\"-\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" :default-time=\"['00:00:00', '23:59:59']\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 操作工作栏 -->\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button type=\"info\" plain icon=\"el-icon-upload\" size=\"mini\" @click=\"openImportTable\"\r\n                   v-hasPermi=\"['infra:codegen:create']\">导入</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <!-- 列表 -->\r\n    <el-table v-loading=\"loading\" :data=\"tableList\">\r\n      <el-table-column label=\"数据源\" align=\"center\" :formatter=\"dataSourceConfigNameFormat\"/>\r\n      <el-table-column label=\"表名称\" align=\"center\" prop=\"tableName\" width=\"200\"/>\r\n      <el-table-column label=\"表描述\" align=\"center\" prop=\"tableComment\" :show-overflow-tooltip=\"true\" width=\"120\"/>\r\n      <el-table-column label=\"实体\" align=\"center\" prop=\"className\" width=\"200\"/>\r\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"180\">\r\n        <template v-slot=\"scope\">\r\n          <span>{{ parseTime(scope.row.createTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"更新时间\" align=\"center\" prop=\"createTime\" width=\"180\">\r\n        <template v-slot=\"scope\">\r\n          <span>{{ parseTime(scope.row.updateTime) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" width=\"300px\" class-name=\"small-padding fixed-width\">\r\n        <template v-slot=\"scope\">\r\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-view\" @click=\"handlePreview(scope.row)\" v-hasPermi=\"['infra:codegen:preview']\">预览</el-button>\r\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-edit\" @click=\"handleEditTable(scope.row)\" v-hasPermi=\"['infra:codegen:update']\">编辑</el-button>\r\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-delete\" @click=\"handleDelete(scope.row)\" v-hasPermi=\"['infra:codegen:delete']\">删除</el-button>\r\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-refresh\" @click=\"handleSynchDb(scope.row)\" v-hasPermi=\"['infra:codegen:update']\">同步</el-button>\r\n          <el-button type=\"text\" size=\"small\" icon=\"el-icon-download\" @click=\"handleGenTable(scope.row)\" v-hasPermi=\"['infra:codegen:download']\">生成代码</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\" @pagination=\"getList\"/>\r\n\r\n    <!-- 预览界面 -->\r\n    <el-dialog :title=\"preview.title\" :visible.sync=\"preview.open\" width=\"90%\" top=\"5vh\" append-to-body class=\"scrollbar\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <el-tree :data=\"preview.fileTree\" :expand-on-click-node=\"false\" default-expand-all highlight-current\r\n                   @node-click=\"handleNodeClick\"/>\r\n        </el-col>\r\n        <el-col :span=\"17\">\r\n          <el-tabs v-model=\"preview.activeName\">\r\n            <el-tab-pane v-for=\"item in preview.data\" :label=\"item.filePath.substring(item.filePath.lastIndexOf('/') + 1)\"\r\n                         :name=\"item.filePath\" :key=\"item.filePath\">\r\n              <el-link :underline=\"false\" icon=\"el-icon-document-copy\" v-clipboard:copy=\"item.code\" v-clipboard:success=\"clipboardSuccess\" style=\"float:right\">复制</el-link>\r\n              <pre><code class=\"hljs\" v-html=\"highlightedCode(item)\"></code></pre>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n\r\n    <!-- 基于 DB 导入 -->\r\n    <import-table ref=\"import\" @ok=\"handleQuery\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCodegenTablePage, previewCodegen, downloadCodegen, deleteCodegen,\r\n  syncCodegenFromDB } from \"@/api/infra/codegen\";\r\n\r\nimport importTable from \"./importTable\";\r\n// 代码高亮插件\r\nimport hljs from \"highlight.js/lib/highlight\";\r\nimport \"highlight.js/styles/github-gist.css\";\r\nimport {getDataSourceConfigList} from \"@/api/infra/dataSourceConfig\";\r\nhljs.registerLanguage(\"java\", require(\"highlight.js/lib/languages/java\"));\r\nhljs.registerLanguage(\"xml\", require(\"highlight.js/lib/languages/xml\"));\r\nhljs.registerLanguage(\"html\", require(\"highlight.js/lib/languages/xml\"));\r\nhljs.registerLanguage(\"vue\", require(\"highlight.js/lib/languages/xml\"));\r\nhljs.registerLanguage(\"javascript\", require(\"highlight.js/lib/languages/javascript\"));\r\nhljs.registerLanguage(\"sql\", require(\"highlight.js/lib/languages/sql\"));\r\nhljs.registerLanguage(\"typescript\", require(\"highlight.js/lib/languages/typescript\"));\r\nexport default {\r\n  name: \"InfraCodegen\",\r\n  components: { importTable },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 唯一标识符\r\n      uniqueId: \"\",\r\n      // 选中表数组\r\n      tableNames: [],\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 表数据\r\n      tableList: [],\r\n      // 日期范围\r\n      dateRange: \"\",\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        tableName: undefined,\r\n        tableComment: undefined,\r\n        createTime: []\r\n      },\r\n      // 预览参数\r\n      preview: {\r\n        open: false,\r\n        title: \"代码预览\",\r\n        fileTree: [],\r\n        data: {},\r\n        activeName: \"\",\r\n      },\r\n      // 数据源列表\r\n      dataSourceConfigs: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n    // 加载数据源\r\n    getDataSourceConfigList().then(response => {\r\n      this.dataSourceConfigs = response.data;\r\n    });\r\n  },\r\n  activated() {\r\n    const time = this.$route.query.t;\r\n    if (time != null && time !== this.uniqueId) {\r\n      this.uniqueId = time;\r\n      this.resetQuery();\r\n    }\r\n  },\r\n  methods: {\r\n    /** 查询表集合 */\r\n    getList() {\r\n      this.loading = true;\r\n      getCodegenTablePage(this.queryParams).then(response => {\r\n            this.tableList = response.data.list;\r\n            this.total = response.data.total;\r\n            this.loading = false;\r\n          }\r\n      );\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNo = 1;\r\n      this.getList();\r\n    },\r\n    /** 生成代码操作 */\r\n    handleGenTable(row) {\r\n      downloadCodegen(row.id).then(response => {\r\n        this.$download.zip(response, 'codegen-' + row.tableName + '.zip');\r\n      })\r\n    },\r\n    /** 同步数据库操作 */\r\n    handleSynchDb(row) {\r\n      // 基于 DB 同步\r\n      const tableName = row.tableName;\r\n      this.$modal.confirm('确认要强制同步\"' + tableName + '\"表结构吗？').then(function() {\r\n          return syncCodegenFromDB(row.id);\r\n      }).then(() => {\r\n          this.$modal.msgSuccess(\"同步成功\");\r\n      }).catch(() => {});\r\n    },\r\n    /** 打开导入表弹窗 */\r\n    openImportTable() {\r\n      this.$refs.import.show();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    /** 预览按钮 */\r\n    handlePreview(row) {\r\n      previewCodegen(row.id).then(response => {\r\n        this.preview.data = response.data;\r\n        let files = this.handleFiles(response.data);\r\n        this.preview.fileTree = this.handleTree(files, \"id\", \"parentId\", \"children\",\r\n            \"/\"); // \"/\" 为根节点\r\n        // console.log(this.preview.fileTree)\r\n        this.preview.activeName = response.data[0].filePath;\r\n        this.preview.open = true;\r\n      });\r\n    },\r\n    /** 高亮显示 */\r\n    highlightedCode(item) {\r\n      // const vmName = key.substring(key.lastIndexOf(\"/\") + 1, key.indexOf(\".vm\"));\r\n      // var language = vmName.substring(vmName.indexOf(\".\") + 1, vmName.length);\r\n      const language = item.filePath.substring(item.filePath.lastIndexOf('.') + 1)\r\n      const result = hljs.highlight(language, item.code || \"\", true);\r\n      return result.value || '&nbsp;';\r\n    },\r\n    /** 复制代码成功 */\r\n    clipboardSuccess() {\r\n      this.$modal.msgSuccess(\"复制成功\");\r\n    },\r\n    /** 生成 files 目录 **/\r\n    handleFiles(datas) {\r\n      let exists = {}; // key：file 的 id；value：true\r\n      let files = [];\r\n      // 遍历每个元素\r\n      for (const data of datas) {\r\n        let paths = data.filePath.split('/');\r\n        let fullPath = ''; // 从头开始的路径，用于生成 id\r\n        // 特殊处理 java 文件\r\n        if (paths[paths.length - 1].indexOf('.java') >= 0) {\r\n          let newPaths = [];\r\n          for (let i = 0; i < paths.length; i++) {\r\n            let path = paths[i];\r\n            if (path !== 'java') {\r\n              newPaths.push(path);\r\n              continue;\r\n            }\r\n            newPaths.push(path);\r\n            // 特殊处理中间的 package，进行合并\r\n            let tmp = undefined;\r\n            while (i < paths.length) {\r\n              path = paths[i + 1];\r\n              if (path === 'controller'\r\n                || path === 'convert'\r\n                || path === 'dal'\r\n                || path === 'enums'\r\n                || path === 'service'\r\n                || path === 'vo' // 下面三个，主要是兜底。可能考虑到有人改了包结构\r\n                || path === 'mysql'\r\n                || path === 'dataobject') {\r\n                break;\r\n              }\r\n              tmp = tmp ? tmp + '.' + path : path;\r\n              i++;\r\n            }\r\n            if (tmp) {\r\n              newPaths.push(tmp);\r\n            }\r\n          }\r\n          paths = newPaths;\r\n        }\r\n        // 遍历每个 path， 拼接成树\r\n        for (let i = 0; i < paths.length; i++) {\r\n          // 已经添加到 files 中，则跳过\r\n          let oldFullPath = fullPath;\r\n          // 下面的 replaceAll 的原因，是因为上面包处理了，导致和 tabs 不匹配，所以 replaceAll 下\r\n          fullPath = fullPath.length === 0 ? paths[i] : fullPath.replaceAll('.', '/') + '/' + paths[i];\r\n          if (exists[fullPath]) {\r\n            continue;\r\n          }\r\n          // 添加到 files 中\r\n          exists[fullPath] = true;\r\n          files.push({\r\n            id: fullPath,\r\n            label: paths[i],\r\n            parentId: oldFullPath || '/'  // \"/\" 为根节点\r\n          });\r\n        }\r\n      }\r\n      return files;\r\n    },\r\n    /** 节点单击事件 **/\r\n    handleNodeClick(data, node) {\r\n      if (node && !node.isLeaf) {\r\n        return false;\r\n      }\r\n      // 判断，如果非子节点，不允许选中\r\n      this.preview.activeName = data.id;\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleEditTable(row) {\r\n      const tableId = row.id;\r\n      const tableName = row.tableName || this.tableNames[0];\r\n      const params = { pageNum: this.queryParams.pageNum };\r\n      this.$tab.openPage(\"修改[\" + tableName + \"]生成配置\", '/codegen/edit/' + tableId, params);\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const tableIds = row.id;\r\n      this.$modal.confirm('是否确认删除表名称为\"' + row.tableName + '\"的数据项?').then(function() {\r\n          return deleteCodegen(tableIds);\r\n      }).then(() => {\r\n          this.getList();\r\n          this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => {});\r\n    },\r\n    // 数据源配置的名字\r\n    dataSourceConfigNameFormat(row, column) {\r\n      for (const config of this.dataSourceConfigs) {\r\n        if (row.dataSourceConfigId === config.id) {\r\n          return config.name;\r\n        }\r\n      }\r\n      return '未知【' + row.leaderUserId + '】';\r\n    },\r\n  }\r\n};\r\n</script>\r\n"]}]}