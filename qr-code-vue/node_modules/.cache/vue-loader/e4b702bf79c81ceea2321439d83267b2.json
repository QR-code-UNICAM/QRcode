{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\components\\wx-reply\\main.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\components\\wx-reply\\main.vue","mtime":1704630438013},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgV3hOZXdzIGZyb20gJ0Avdmlld3MvbXAvY29tcG9uZW50cy93eC1uZXdzL21haW4udnVlJw0KaW1wb3J0IFd4TWF0ZXJpYWxTZWxlY3QgZnJvbSAnQC92aWV3cy9tcC9jb21wb25lbnRzL3d4LW1hdGVyaWFsLXNlbGVjdC9tYWluLnZ1ZScNCmltcG9ydCBXeFZvaWNlUGxheWVyIGZyb20gJ0Avdmlld3MvbXAvY29tcG9uZW50cy93eC12b2ljZS1wbGF5L21haW4udnVlJzsNCmltcG9ydCBXeFZpZGVvUGxheWVyIGZyb20gJ0Avdmlld3MvbXAvY29tcG9uZW50cy93eC12aWRlby1wbGF5L21haW4udnVlJzsNCg0KaW1wb3J0IHsgZ2V0QWNjZXNzVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInd4UmVwbHlTZWxlY3QiLA0KICBjb21wb25lbnRzOiB7DQogICAgV3hOZXdzLA0KICAgIFd4TWF0ZXJpYWxTZWxlY3QsDQogICAgV3hWb2ljZVBsYXllciwNCiAgICBXeFZpZGVvUGxheWVyDQogIH0sDQogIHByb3BzOiB7DQogICAgb2JqRGF0YTogeyAvLyDmtojmga/lr7nosaHjgIINCiAgICAgIHR5cGU6IE9iamVjdCwgLy8g6K6+572u5Li6IE9iamVjdCDnmoTljp/lm6DvvIzmlrnkvr/lsZ7mgKfnmoTkvKDpgJINCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgbmV3c1R5cGU6eyAvLyDlm77mlofnsbvlnovvvJox44CB5bey5Y+R5biD5Zu+5paH77ybMuOAgeiNieeov+euseWbvuaWhw0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIjEiDQogICAgfSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGVtcFBsYXllck9iajogew0KICAgICAgICB0eXBlOiAnMicNCiAgICAgIH0sDQoNCiAgICAgIHRlbXBPYmo6IG5ldyBNYXAoKS5zZXQoIC8vIOS4tOaXtue8k+WtmO+8jOWIh+aNoua2iOaBr+exu+Wei+eahCB0YWIg55qE5pe25YCZ77yM5Y+v5Lul5L+d5a2Y5a+55bqU55qE5pWw5o2u77ybDQogICAgICAgICAgdGhpcy5vYmpEYXRhLnR5cGUsIC8vIOa2iOaBr+exu+Weiw0KICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub2JqRGF0YSkpLCAvLyDmtojmga/lhoXlrrkNCg0KICAgICAgLy8gPT09PT09PT09PSDntKDmnZDpgInmi6nnmoTlvLnnqpfvvIzmmK/lkKblj6/op4EgPT09PT09PT09PQ0KICAgICAgZGlhbG9nTmV3c1Zpc2libGU6IGZhbHNlLCAvLyDlm77mlocNCiAgICAgIGRpYWxvZ0ltYWdlVmlzaWJsZTogZmFsc2UsIC8vIOWbvueJhw0KICAgICAgZGlhbG9nVm9pY2VWaXNpYmxlOiBmYWxzZSwgLy8g6K+t6Z+zDQogICAgICBkaWFsb2dWaWRlb1Zpc2libGU6IGZhbHNlLCAvLyDop4bpopENCiAgICAgIGRpYWxvZ1RodW1iVmlzaWJsZTogZmFsc2UsIC8vIOe8qeeVpeWbvg0KDQogICAgICAvLyA9PT09PT09PT09IOaWh+S7tuS4iuS8oO+8iOWbvueJh+OAgeivremfs+OAgeinhumike+8iSA9PT09PT09PT09DQogICAgICBmaWxlTGlzdDogW10sIC8vIOaWh+S7tuWIl+ihqA0KICAgICAgdXBsb2FkRGF0YTogew0KICAgICAgICAiYWNjb3VudElkIjogdW5kZWZpbmVkLA0KICAgICAgICAidHlwZSI6IHRoaXMub2JqRGF0YS50eXBlLA0KICAgICAgICAidGl0bGUiOicnLA0KICAgICAgICAiaW50cm9kdWN0aW9uIjonJw0KICAgICAgfSwNCiAgICAgIGFjdGlvblVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSArICcvYWRtaW4tYXBpL21wL21hdGVyaWFsL3VwbG9hZC10ZW1wb3JhcnknLA0KICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBnZXRBY2Nlc3NUb2tlbigpIH0sIC8vIOiuvue9ruS4iuS8oOeahOivt+axguWktOmDqA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczp7DQogICAgYmVmb3JlVGh1bWJJbWFnZVVwbG9hZChmaWxlKXsNCiAgICAgIGNvbnN0IGlzVHlwZSA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2dpZicNCiAgICAgICAgICB8fCBmaWxlLnR5cGUgPT09ICdpbWFnZS9ibXAnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvanBnJzsNCiAgICAgIGlmICghaXNUeXBlKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+agvOW8j+S4jeWvuSEnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgY29uc3QgaXNMdCA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsNCiAgICAgIGlmICghaXNMdCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlm77niYflpKflsI/kuI3og73otoXov4cgMk0hJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMudXBsb2FkRGF0YS5hY2NvdW50SWQgPSB0aGlzLm9iakRhdGEuYWNjb3VudElkOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfSwNCiAgICBiZWZvcmVWb2ljZVVwbG9hZChmaWxlKXsNCiAgICAgIC8vIOagoemqjOagvOW8jw0KICAgICAgY29uc3QgaXNUeXBlID0gZmlsZS50eXBlID09PSAnYXVkaW8vbXAzJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2F1ZGlvL21wZWcnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnYXVkaW8vd21hJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2F1ZGlvL3dhdicNCiAgICAgICAgICB8fCBmaWxlLnR5cGUgPT09ICdhdWRpby9hbXInOw0KICAgICAgaWYgKCFpc1R5cGUpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg6K+t6Z+z5qC85byP5LiN5a+5IScgKyBmaWxlLnR5cGUpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICAvLyDmoKHpqozlpKflsI8NCiAgICAgIGNvbnN0IGlzTHQgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7DQogICAgICBpZiAoIWlzTHQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg6K+t6Z+z5aSn5bCP5LiN6IO96LaF6L+HIDJNIScpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLnVwbG9hZERhdGEuYWNjb3VudElkID0gdGhpcy5vYmpEYXRhLmFjY291bnRJZDsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgYmVmb3JlSW1hZ2VVcGxvYWQoZmlsZSkgew0KICAgICAgLy8g5qCh6aqM5qC85byPDQogICAgICBjb25zdCBpc1R5cGUgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZycNCiAgICAgICAgICB8fCBmaWxlLnR5cGUgPT09ICdpbWFnZS9naWYnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvYm1wJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZyc7DQogICAgICBpZiAoIWlzVHlwZSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlm77niYfmoLzlvI/kuI3lr7khJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIC8vIOagoemqjOWkp+Wwjw0KICAgICAgY29uc3QgaXNMdCA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsNCiAgICAgIGlmICghaXNMdCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlm77niYflpKflsI/kuI3og73otoXov4cgMk0hJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMudXBsb2FkRGF0YS5hY2NvdW50SWQgPSB0aGlzLm9iakRhdGEuYWNjb3VudElkOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfSwNCiAgICBiZWZvcmVWaWRlb1VwbG9hZChmaWxlKXsNCiAgICAgIC8vIOagoemqjOagvOW8jw0KICAgICAgY29uc3QgaXNUeXBlID0gZmlsZS50eXBlID09PSAndmlkZW8vbXA0JzsNCiAgICAgIGlmICghaXNUeXBlKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOinhumikeagvOW8j+S4jeWvuSEnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgLy8g5qCh6aqM5aSn5bCPDQogICAgICBjb25zdCBpc0x0ID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxMDsNCiAgICAgIGlmICghaXNMdCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDop4bpopHlpKflsI/kuI3og73otoXov4cgMTBNIScpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLnVwbG9hZERhdGEuYWNjb3VudElkID0gdGhpcy5vYmpEYXRhLmFjY291bnRJZDsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgaGFuZGxlVXBsb2FkU3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIGlmIChyZXNwb25zZS5jb2RlICE9PSAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWHuumUme+8micgKyByZXNwb25zZS5tc2cpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCg0KICAgICAgLy8g5riF56m65LiK5Lyg5pe255qE5ZCE56eN5pWw5o2uDQogICAgICB0aGlzLmZpbGVMaXN0ID0gW10NCiAgICAgIHRoaXMudXBsb2FkRGF0YS50aXRsZSA9ICcnDQogICAgICB0aGlzLnVwbG9hZERhdGEuaW50cm9kdWN0aW9uID0gJycNCg0KICAgICAgLy8g5LiK5Lyg5aW955qE5paH5Lu277yM5pys6LSo5piv5Liq57Sg5p2Q77yM5omA5Lul5Y+v5Lul6L+b6KGM6YCJ5LitDQogICAgICBsZXQgaXRlbSA9IHJlc3BvbnNlLmRhdGENCiAgICAgIHRoaXMuc2VsZWN0TWF0ZXJpYWwoaXRlbSkNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIh+aNoua2iOaBr+exu+Wei+eahCB0YWINCiAgICAgKg0KICAgICAqIEBwYXJhbSB0YWIgdGFiDQogICAgICovDQogICAgaGFuZGxlQ2xpY2sodGFiKSB7DQogICAgICAvLyDorr7nva7lkI7nu63mlofku7bkuIrkvKDnmoTmlofku7bnsbvlnosNCiAgICAgIHRoaXMudXBsb2FkRGF0YS50eXBlID0gdGhpcy5vYmpEYXRhLnR5cGU7DQogICAgICBpZiAodGhpcy51cGxvYWREYXRhLnR5cGUgPT09ICdtdXNpYycpIHsgLy8g44CQ6Z+z5LmQ44CR5LiK5Lyg55qE5piv57yp55Wl5Zu+DQogICAgICAgIHRoaXMudXBsb2FkRGF0YS50eXBlID0gJ3RodW1iJzsNCiAgICAgIH0NCg0KICAgICAgLy8g5LuOIHRlbXBPYmog5Li05pe257yT5a2Y5Lit77yM6I635Y+W5a+55bqU55qE5pWw5o2u77yM5bm26K6+572u5ZueIG9iakRhdGENCiAgICAgIGxldCB0ZW1wT2JqSXRlbSA9IHRoaXMudGVtcE9iai5nZXQodGhpcy5vYmpEYXRhLnR5cGUpDQogICAgICBpZiAodGVtcE9iakl0ZW0pIHsNCiAgICAgICAgdGhpcy5vYmpEYXRhLmNvbnRlbnQgPSB0ZW1wT2JqSXRlbS5jb250ZW50ID8gdGVtcE9iakl0ZW0uY29udGVudCA6IG51bGwNCiAgICAgICAgdGhpcy5vYmpEYXRhLm1lZGlhSWQgPSB0ZW1wT2JqSXRlbS5tZWRpYUlkID8gdGVtcE9iakl0ZW0ubWVkaWFJZCA6IG51bGwNCiAgICAgICAgdGhpcy5vYmpEYXRhLnVybCA9IHRlbXBPYmpJdGVtLnVybCA/IHRlbXBPYmpJdGVtLnVybCA6IG51bGwNCiAgICAgICAgdGhpcy5vYmpEYXRhLm5hbWUgPSB0ZW1wT2JqSXRlbS51cmwgPyB0ZW1wT2JqSXRlbS5uYW1lIDogbnVsbA0KICAgICAgICB0aGlzLm9iakRhdGEudGl0bGUgPSB0ZW1wT2JqSXRlbS50aXRsZSA/IHRlbXBPYmpJdGVtLnRpdGxlIDogbnVsbA0KICAgICAgICB0aGlzLm9iakRhdGEuZGVzY3JpcHRpb24gPSB0ZW1wT2JqSXRlbS5kZXNjcmlwdGlvbiA/IHRlbXBPYmpJdGVtLmRlc2NyaXB0aW9uIDogbnVsbA0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICAvLyDlpoLmnpzojrflj5bkuI3liLDvvIzpnIDopoHmioogb2JqRGF0YSDlpI3ljp8NCiAgICAgIC8vIOW/hemhu+S9v+eUqCAkc2V0IOi1i+WAvO+8jOS4jeeEtiBpbnB1dCDml6Dms5XovpPlhaXlhoXlrrkNCiAgICAgIHRoaXMuJHNldCh0aGlzLm9iakRhdGEsICdjb250ZW50JywgJycpOw0KICAgICAgdGhpcy4kZGVsZXRlKHRoaXMub2JqRGF0YSwgJ21lZGlhSWQnKTsNCiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLm9iakRhdGEsICd1cmwnKTsNCiAgICAgIHRoaXMuJHNldCh0aGlzLm9iakRhdGEsICd0aXRsZScsICcnKTsNCiAgICAgIHRoaXMuJHNldCh0aGlzLm9iakRhdGEsICdkZXNjcmlwdGlvbicsICcnKTsNCg0KICAgIH0sDQogICAgLyoqDQogICAgICog6YCJ5oup57Sg5p2Q77yM5bCG6K6+572u6K6+572u5YiwIG9iakRhdGEg5Y+Y6YePDQogICAgICoNCiAgICAgKiBAcGFyYW0gaXRlbSDntKDmnZANCiAgICAgKi8NCiAgICBzZWxlY3RNYXRlcmlhbChpdGVtKSB7DQogICAgICAvLyDpgInmi6nlpb3ntKDmnZDvvIzmiYDku6XpmpDol4/lvLnnqpcNCiAgICAgIHRoaXMuY2xvc2VNYXRlcmlhbCgpOw0KDQogICAgICAvLyDliJvlu7ogdGVtcE9iakl0ZW0g5a+56LGh77yM5bm26K6+572u5a+55bqU55qE5YC8DQogICAgICBsZXQgdGVtcE9iakl0ZW0gPSB7fQ0KICAgICAgdGVtcE9iakl0ZW0udHlwZSA9IHRoaXMub2JqRGF0YS50eXBlOw0KICAgICAgaWYgKHRoaXMub2JqRGF0YS50eXBlID09PSAnbmV3cycpIHsNCiAgICAgICAgdGVtcE9iakl0ZW0uYXJ0aWNsZXMgPSBpdGVtLmNvbnRlbnQubmV3c0l0ZW0NCiAgICAgICAgdGhpcy5vYmpEYXRhLmFydGljbGVzID0gaXRlbS5jb250ZW50Lm5ld3NJdGVtDQogICAgICB9IGVsc2UgaWYgKHRoaXMub2JqRGF0YS50eXBlID09PSAnbXVzaWMnKSB7IC8vIOmfs+S5kOmcgOimgeeJueauiuWkhOeQhu+8jOWboOS4uumAieaLqeeahOaYr+WbvueJh+eahOe8qeeVpeWbvg0KICAgICAgICB0ZW1wT2JqSXRlbS50aHVtYk1lZGlhSWQgPSBpdGVtLm1lZGlhSWQNCiAgICAgICAgdGhpcy5vYmpEYXRhLnRodW1iTWVkaWFJZCA9IGl0ZW0ubWVkaWFJZA0KICAgICAgICB0ZW1wT2JqSXRlbS50aHVtYk1lZGlhVXJsID0gaXRlbS51cmwNCiAgICAgICAgdGhpcy5vYmpEYXRhLnRodW1iTWVkaWFVcmwgPSBpdGVtLnVybA0KICAgICAgICAvLyB0aXRsZeOAgWludHJvZHVjdGlvbuOAgW11c2ljVXJs44CBaHFNdXNpY1VybO+8muS7jiBvYmpEYXRhIOWIsCB0ZW1wT2JqSXRlbe+8jOmBv+WFjeS4iuS8oOe0oOadkOWQju+8jOiiq+imhuebluaOiQ0KICAgICAgICB0ZW1wT2JqSXRlbS50aXRsZSA9IHRoaXMub2JqRGF0YS50aXRsZSB8fCAnJw0KICAgICAgICB0ZW1wT2JqSXRlbS5pbnRyb2R1Y3Rpb24gPSB0aGlzLm9iakRhdGEuaW50cm9kdWN0aW9uICB8fCAnJw0KICAgICAgICB0ZW1wT2JqSXRlbS5tdXNpY1VybCA9IHRoaXMub2JqRGF0YS5tdXNpY1VybCAgfHwgJycNCiAgICAgICAgdGVtcE9iakl0ZW0uaHFNdXNpY1VybCA9IHRoaXMub2JqRGF0YS5ocU11c2ljVXJsICB8fCAnJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLm9iakRhdGEudHlwZSA9PT0gJ2ltYWdlJw0KICAgICAgICAgIHx8IHRoaXMub2JqRGF0YS50eXBlID09PSAndm9pY2UnKSB7DQogICAgICAgIHRlbXBPYmpJdGVtLm1lZGlhSWQgPSBpdGVtLm1lZGlhSWQNCiAgICAgICAgdGhpcy5vYmpEYXRhLm1lZGlhSWQgPSBpdGVtLm1lZGlhSWQNCiAgICAgICAgdGVtcE9iakl0ZW0udXJsID0gaXRlbS51cmw7DQogICAgICAgIHRoaXMub2JqRGF0YS51cmwgPSBpdGVtLnVybDsNCiAgICAgICAgdGVtcE9iakl0ZW0ubmFtZSA9IGl0ZW0ubmFtZQ0KICAgICAgICB0aGlzLm9iakRhdGEubmFtZSA9IGl0ZW0ubmFtZQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLm9iakRhdGEudHlwZSA9PT0gJ3ZpZGVvJykgew0KICAgICAgICB0ZW1wT2JqSXRlbS5tZWRpYUlkID0gaXRlbS5tZWRpYUlkDQogICAgICAgIHRoaXMub2JqRGF0YS5tZWRpYUlkID0gaXRlbS5tZWRpYUlkDQogICAgICAgIHRlbXBPYmpJdGVtLnVybCA9IGl0ZW0udXJsOw0KICAgICAgICB0aGlzLm9iakRhdGEudXJsID0gaXRlbS51cmw7DQogICAgICAgIHRlbXBPYmpJdGVtLm5hbWUgPSBpdGVtLm5hbWUNCiAgICAgICAgdGhpcy5vYmpEYXRhLm5hbWUgPSBpdGVtLm5hbWUNCiAgICAgICAgLy8gdGl0bGXjgIFpbnRyb2R1Y3Rpb27vvJrku44gaXRlbSDliLAgdGVtcE9iakl0ZW3vvIzlm6DkuLrntKDmnZDph4zmnIkgdGl0bGXjgIFpbnRyb2R1Y3Rpb24NCiAgICAgICAgaWYgKGl0ZW0udGl0bGUpIHsNCiAgICAgICAgICB0aGlzLm9iakRhdGEudGl0bGUgPSBpdGVtLnRpdGxlIHx8ICcnDQogICAgICAgICAgdGVtcE9iakl0ZW0udGl0bGUgPSBpdGVtLnRpdGxlIHx8ICcnDQogICAgICAgIH0NCiAgICAgICAgaWYgKGl0ZW0uaW50cm9kdWN0aW9uKSB7DQogICAgICAgICAgdGhpcy5vYmpEYXRhLmRlc2NyaXB0aW9uID0gaXRlbS5pbnRyb2R1Y3Rpb24gfHwgJycgLy8g5raI5oGv5L2/55So55qE5pivIGRlc2NyaXB0aW9u77yM57Sg5p2Q5L2/55So55qE5pivIGludHJvZHVjdGlvbu+8jOaJgOS7pei9rOaNouS4iw0KICAgICAgICAgIHRlbXBPYmpJdGVtLmRlc2NyaXB0aW9uID0gaXRlbS5pbnRyb2R1Y3Rpb24gfHwgJycNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLm9iakRhdGEudHlwZSA9PT0gJ3RleHQnKSB7DQogICAgICAgIHRoaXMub2JqRGF0YS5jb250ZW50ID0gaXRlbS5jb250ZW50IHx8ICcnDQogICAgICB9DQogICAgICAvLyDmnIDnu4jorr7nva7liLDkuLTml7bnvJPlrZgNCiAgICAgIHRoaXMudGVtcE9iai5zZXQodGhpcy5vYmpEYXRhLnR5cGUsIHRlbXBPYmpJdGVtKQ0KICAgIH0sDQogICAgb3Blbk1hdGVyaWFsKCkgew0KICAgICAgaWYgKHRoaXMub2JqRGF0YS50eXBlID09PSAnbmV3cycpIHsNCiAgICAgICAgdGhpcy5kaWFsb2dOZXdzVmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSBpZih0aGlzLm9iakRhdGEudHlwZSA9PT0gJ2ltYWdlJykgew0KICAgICAgICB0aGlzLmRpYWxvZ0ltYWdlVmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSBpZih0aGlzLm9iakRhdGEudHlwZSA9PT0gJ3ZvaWNlJykgew0KICAgICAgICB0aGlzLmRpYWxvZ1ZvaWNlVmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSBpZih0aGlzLm9iakRhdGEudHlwZSA9PT0gJ3ZpZGVvJykgew0KICAgICAgICB0aGlzLmRpYWxvZ1ZpZGVvVmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSBpZih0aGlzLm9iakRhdGEudHlwZSA9PT0gJ211c2ljJykgew0KICAgICAgICB0aGlzLmRpYWxvZ1RodW1iVmlzaWJsZSA9IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGNsb3NlTWF0ZXJpYWwoKSB7DQogICAgICB0aGlzLmRpYWxvZ05ld3NWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuZGlhbG9nVm9pY2VWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuZGlhbG9nVmlkZW9WaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuZGlhbG9nVGh1bWJWaXNpYmxlID0gZmFsc2UNCiAgICB9LA0KICAgIGRlbGV0ZU9iaigpIHsNCiAgICAgIGlmICh0aGlzLm9iakRhdGEudHlwZSA9PT0gJ25ld3MnKSB7DQogICAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLm9iakRhdGEsICdhcnRpY2xlcycpOw0KICAgICAgfSBlbHNlIGlmKHRoaXMub2JqRGF0YS50eXBlID09PSAnaW1hZ2UnKSB7DQogICAgICAgIHRoaXMub2JqRGF0YS5tZWRpYUlkID0gbnVsbA0KICAgICAgICB0aGlzLiRkZWxldGUodGhpcy5vYmpEYXRhLCAndXJsJyk7DQogICAgICAgIHRoaXMub2JqRGF0YS5uYW1lID0gbnVsbA0KICAgICAgfSBlbHNlIGlmKHRoaXMub2JqRGF0YS50eXBlID09PSAndm9pY2UnKSB7DQogICAgICAgIHRoaXMub2JqRGF0YS5tZWRpYUlkID0gbnVsbA0KICAgICAgICB0aGlzLiRkZWxldGUodGhpcy5vYmpEYXRhLCAndXJsJyk7DQogICAgICAgIHRoaXMub2JqRGF0YS5uYW1lID0gbnVsbA0KICAgICAgfSBlbHNlIGlmKHRoaXMub2JqRGF0YS50eXBlID09PSAndmlkZW8nKSB7DQogICAgICAgIHRoaXMub2JqRGF0YS5tZWRpYUlkID0gbnVsbA0KICAgICAgICB0aGlzLiRkZWxldGUodGhpcy5vYmpEYXRhLCAndXJsJyk7DQogICAgICAgIHRoaXMub2JqRGF0YS5uYW1lID0gbnVsbA0KICAgICAgICB0aGlzLm9iakRhdGEudGl0bGUgPSBudWxsDQogICAgICAgIHRoaXMub2JqRGF0YS5kZXNjcmlwdGlvbiA9IG51bGwNCiAgICAgIH0gZWxzZSBpZih0aGlzLm9iakRhdGEudHlwZSA9PT0gJ211c2ljJykgew0KICAgICAgICB0aGlzLm9iakRhdGEudGh1bWJNZWRpYUlkID0gbnVsbA0KICAgICAgICB0aGlzLm9iakRhdGEudGh1bWJNZWRpYVVybCA9IG51bGwNCiAgICAgICAgdGhpcy5vYmpEYXRhLnRpdGxlID0gbnVsbA0KICAgICAgICB0aGlzLm9iakRhdGEuZGVzY3JpcHRpb24gPSBudWxsDQogICAgICAgIHRoaXMub2JqRGF0YS5tdXNpY1VybCA9IG51bGwNCiAgICAgICAgdGhpcy5vYmpEYXRhLmhxTXVzaWNVcmwgPSBudWxsDQogICAgICB9IGVsc2UgaWYodGhpcy5vYmpEYXRhLnR5cGUgPT09ICd0ZXh0Jykgew0KICAgICAgICB0aGlzLm9iakRhdGEuY29udGVudCA9IG51bGwNCiAgICAgIH0NCiAgICAgIC8vIOimhueblue8k+WtmA0KICAgICAgdGhpcy50ZW1wT2JqLnNldCh0aGlzLm9iakRhdGEudHlwZSwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vYmpEYXRhKSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDovpPlhaXml7bvvIznvJPlrZjmr4/mrKEgb2JqRGF0YSDliLAgdGVtcE9iaiDkuK0NCiAgICAgKg0KICAgICAqIHdoee+8n+S4jeehruWumuS4uuS7gOS5iCB2LW1vZGVsPSJvYmpEYXRhLmNvbnRlbnQiIOS4jeiDveiHquWKqOe8k+WtmO+8jOaJgOS7pemAmui/h+i/meagt+eahOaWueW8jw0KICAgICAqLw0KICAgIGlucHV0Q29udGVudChzdHIpIHsNCiAgICAgIC8vIOimhueblue8k+WtmA0KICAgICAgdGhpcy50ZW1wT2JqLnNldCh0aGlzLm9iakRhdGEudHlwZSwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vYmpEYXRhKSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["main.vue"],"names":[],"mappings":";AAkLA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.vue","sourceRoot":"src/views/mp/components/wx-reply","sourcesContent":["<!--\r\n  - Copyright (C) 2018-2019\r\n  - All rights reserved, Designed By www.joolun.com\r\n  芋道源码：\r\n  ① 移除多余的 rep 为前缀的变量，让 message 消息更简单\r\n  ② 代码优化，补充注释，提升阅读性\r\n  ③ 优化消息的临时缓存策略，发送消息时，只清理被发送消息的 tab，不会强制切回到 text 输入\r\n  ④ 支持发送【视频】消息时，支持新建视频\r\n-->\r\n<template>\r\n  <el-tabs type=\"border-card\" v-model=\"objData.type\" @tab-click=\"handleClick\">\r\n    <!-- 类型 1：文本 -->\r\n    <el-tab-pane name=\"text\">\r\n      <span slot=\"label\"><i class=\"el-icon-document\"></i> 文本</span>\r\n      <el-input type=\"textarea\" :rows=\"5\" placeholder=\"请输入内容\" v-model=\"objData.content\" @input=\"inputContent\" />\r\n    </el-tab-pane>\r\n    <!-- 类型 2：图片 -->\r\n    <el-tab-pane name=\"image\">\r\n      <span slot=\"label\"><i class=\"el-icon-picture\"></i> 图片</span>\r\n      <el-row>\r\n        <!-- 情况一：已经选择好素材、或者上传好图片 -->\r\n        <div class=\"select-item\" v-if=\"objData.url\">\r\n          <img class=\"material-img\" :src=\"objData.url\">\r\n          <p class=\"item-name\" v-if=\"objData.name\">{{objData.name}}</p>\r\n          <el-row class=\"ope-row\">\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"deleteObj\"></el-button>\r\n          </el-row>\r\n        </div>\r\n        <!-- 情况二：未做完上述操作 -->\r\n        <div v-else>\r\n          <el-row style=\"text-align: center\">\r\n            <!-- 选择素材 -->\r\n            <el-col :span=\"12\" class=\"col-select\">\r\n              <el-button type=\"success\" @click=\"openMaterial\">\r\n                素材库选择<i class=\"el-icon-circle-check el-icon--right\"></i>\r\n              </el-button>\r\n              <el-dialog title=\"选择图片\" :visible.sync=\"dialogImageVisible\" width=\"90%\" append-to-body>\r\n                <wx-material-select :obj-data=\"objData\" @selectMaterial=\"selectMaterial\" />\r\n              </el-dialog>\r\n            </el-col>\r\n            <!-- 文件上传 -->\r\n            <el-col :span=\"12\" class=\"col-add\">\r\n              <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                         :before-upload=\"beforeImageUpload\" :on-success=\"handleUploadSuccess\">\r\n                <el-button type=\"primary\">上传图片</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">支持 bmp/png/jpeg/jpg/gif 格式，大小不超过 2M</div>\r\n              </el-upload>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n      </el-row>\r\n    </el-tab-pane>\r\n    <!-- 类型 3：语音 -->\r\n    <el-tab-pane name=\"voice\">\r\n      <span slot=\"label\"><i class=\"el-icon-phone\"></i> 语音</span>\r\n      <el-row>\r\n        <div class=\"select-item2\" v-if=\"objData.url\">\r\n          <p class=\"item-name\">{{objData.name}}</p>\r\n          <div class=\"item-infos\">\r\n            <wx-voice-player :url=\"objData.url\" />\r\n          </div>\r\n          <el-row class=\"ope-row\">\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"deleteObj\"></el-button>\r\n          </el-row>\r\n        </div>\r\n        <div v-else>\r\n          <el-row style=\"text-align: center\">\r\n            <!-- 选择素材 -->\r\n            <el-col :span=\"12\" class=\"col-select\">\r\n              <el-button type=\"success\" @click=\"openMaterial\">\r\n                素材库选择<i class=\"el-icon-circle-check el-icon--right\"></i>\r\n              </el-button>\r\n              <el-dialog title=\"选择语音\" :visible.sync=\"dialogVoiceVisible\" width=\"90%\" append-to-body>\r\n                <WxMaterialSelect :objData=\"objData\" @selectMaterial=\"selectMaterial\"></WxMaterialSelect>\r\n              </el-dialog>\r\n            </el-col>\r\n            <!-- 文件上传 -->\r\n            <el-col :span=\"12\" class=\"col-add\">\r\n              <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                         :before-upload=\"beforeVoiceUpload\" :on-success=\"handleUploadSuccess\">\r\n                <el-button type=\"primary\">点击上传</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">格式支持 mp3/wma/wav/amr，文件大小不超过 2M，播放长度不超过 60s</div>\r\n              </el-upload>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n      </el-row>\r\n    </el-tab-pane>\r\n    <!-- 类型 4：视频 -->\r\n    <el-tab-pane name=\"video\">\r\n      <span slot=\"label\"><i class=\"el-icon-share\"></i> 视频</span>\r\n      <el-row>\r\n        <el-input v-model=\"objData.title\" placeholder=\"请输入标题\" @input=\"inputContent\" />\r\n        <div style=\"margin: 20px 0;\"></div>\r\n        <el-input v-model=\"objData.description\" placeholder=\"请输入描述\" @input=\"inputContent\" />\r\n        <div style=\"margin: 20px 0;\"></div>\r\n        <div style=\"text-align: center;\">\r\n          <wx-video-player v-if=\"objData.url\" :url=\"objData.url\" />\r\n        </div>\r\n        <div style=\"margin: 20px 0;\"></div>\r\n        <el-row style=\"text-align: center\">\r\n          <!-- 选择素材 -->\r\n          <el-col :span=\"12\">\r\n            <el-button type=\"success\" @click=\"openMaterial\">\r\n              素材库选择<i class=\"el-icon-circle-check el-icon--right\"></i>\r\n            </el-button>\r\n            <el-dialog title=\"选择视频\" :visible.sync=\"dialogVideoVisible\" width=\"90%\" append-to-body>\r\n              <wx-material-select :objData=\"objData\" @selectMaterial=\"selectMaterial\" />\r\n            </el-dialog>\r\n          </el-col>\r\n          <!-- 文件上传 -->\r\n          <el-col :span=\"12\">\r\n            <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                       :before-upload=\"beforeVideoUpload\" :on-success=\"handleUploadSuccess\">\r\n              <el-button type=\"primary\">新建视频<i class=\"el-icon-upload el-icon--right\"></i></el-button>\r\n            </el-upload>\r\n          </el-col>\r\n        </el-row>\r\n      </el-row>\r\n    </el-tab-pane>\r\n    <!-- 类型 5：图文 -->\r\n    <el-tab-pane name=\"news\">\r\n      <span slot=\"label\"><i class=\"el-icon-news\"></i> 图文</span>\r\n      <el-row>\r\n        <div class=\"select-item\" v-if=\"objData.articles\">\r\n          <wx-news :articles=\"objData.articles\" />\r\n          <el-row class=\"ope-row\">\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"deleteObj\" />\r\n          </el-row>\r\n        </div>\r\n        <!-- 选择素材 -->\r\n        <div v-if=\"!objData.content\">\r\n          <el-row style=\"text-align: center\">\r\n            <el-col :span=\"24\">\r\n              <el-button type=\"success\" @click=\"openMaterial\">{{newsType === '1' ? '选择已发布图文' : '选择草稿箱图文'}}<i class=\"el-icon-circle-check el-icon--right\"></i></el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <el-dialog title=\"选择图文\" :visible.sync=\"dialogNewsVisible\" width=\"90%\" append-to-body>\r\n          <wx-material-select :objData=\"objData\" @selectMaterial=\"selectMaterial\" :newsType=\"newsType\" />\r\n        </el-dialog>\r\n      </el-row>\r\n    </el-tab-pane>\r\n    <!-- 类型 6：音乐 -->\r\n    <el-tab-pane name=\"music\">\r\n      <span slot=\"label\"><i class=\"el-icon-service\"></i> 音乐</span>\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n          <div class=\"thumb-div\">\r\n            <img style=\"width: 100px\" v-if=\"objData.thumbMediaUrl\" :src=\"objData.thumbMediaUrl\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            <div class=\"thumb-but\">\r\n              <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                         :before-upload=\"beforeThumbImageUpload\" :on-success=\"handleUploadSuccess\">\r\n                <el-button slot=\"trigger\" size=\"mini\" type=\"text\">本地上传</el-button>\r\n                <el-button size=\"mini\" type=\"text\" @click=\"openMaterial\" style=\"margin-left: 5px\">素材库选择</el-button>\r\n              </el-upload>\r\n            </div>\r\n          </div>\r\n          <el-dialog title=\"选择图片\" :visible.sync=\"dialogThumbVisible\" width=\"80%\" append-to-body>\r\n            <wx-material-select :objData=\"{type:'image', accountId: objData.accountId}\" @selectMaterial=\"selectMaterial\" />\r\n          </el-dialog>\r\n        </el-col>\r\n        <el-col :span=\"18\">\r\n          <el-input v-model=\"objData.title\" placeholder=\"请输入标题\" @input=\"inputContent\" />\r\n          <div style=\"margin: 20px 0;\"></div>\r\n          <el-input v-model=\"objData.description\" placeholder=\"请输入描述\" @input=\"inputContent\" />\r\n        </el-col>\r\n      </el-row>\r\n      <div style=\"margin: 20px 0;\"></div>\r\n      <el-input v-model=\"objData.musicUrl\" placeholder=\"请输入音乐链接\" @input=\"inputContent\" />\r\n      <div style=\"margin: 20px 0;\"></div>\r\n      <el-input v-model=\"objData.hqMusicUrl\" placeholder=\"请输入高质量音乐链接\" @input=\"inputContent\" />\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n</template>\r\n\r\n<script>\r\nimport WxNews from '@/views/mp/components/wx-news/main.vue'\r\nimport WxMaterialSelect from '@/views/mp/components/wx-material-select/main.vue'\r\nimport WxVoicePlayer from '@/views/mp/components/wx-voice-play/main.vue';\r\nimport WxVideoPlayer from '@/views/mp/components/wx-video-play/main.vue';\r\n\r\nimport { getAccessToken } from '@/utils/auth'\r\n\r\nexport default {\r\n  name: \"wxReplySelect\",\r\n  components: {\r\n    WxNews,\r\n    WxMaterialSelect,\r\n    WxVoicePlayer,\r\n    WxVideoPlayer\r\n  },\r\n  props: {\r\n    objData: { // 消息对象。\r\n      type: Object, // 设置为 Object 的原因，方便属性的传递\r\n      required: true,\r\n    },\r\n    newsType:{ // 图文类型：1、已发布图文；2、草稿箱图文\r\n      type: String,\r\n      default: \"1\"\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tempPlayerObj: {\r\n        type: '2'\r\n      },\r\n\r\n      tempObj: new Map().set( // 临时缓存，切换消息类型的 tab 的时候，可以保存对应的数据；\r\n          this.objData.type, // 消息类型\r\n          Object.assign({}, this.objData)), // 消息内容\r\n\r\n      // ========== 素材选择的弹窗，是否可见 ==========\r\n      dialogNewsVisible: false, // 图文\r\n      dialogImageVisible: false, // 图片\r\n      dialogVoiceVisible: false, // 语音\r\n      dialogVideoVisible: false, // 视频\r\n      dialogThumbVisible: false, // 缩略图\r\n\r\n      // ========== 文件上传（图片、语音、视频） ==========\r\n      fileList: [], // 文件列表\r\n      uploadData: {\r\n        \"accountId\": undefined,\r\n        \"type\": this.objData.type,\r\n        \"title\":'',\r\n        \"introduction\":''\r\n      },\r\n      actionUrl: process.env.VUE_APP_BASE_API + '/admin-api/mp/material/upload-temporary',\r\n      headers: { Authorization: \"Bearer \" + getAccessToken() }, // 设置上传的请求头部\r\n    }\r\n  },\r\n  methods:{\r\n    beforeThumbImageUpload(file){\r\n      const isType = file.type === 'image/jpeg'\r\n          || file.type === 'image/png'\r\n          || file.type === 'image/gif'\r\n          || file.type === 'image/bmp'\r\n          || file.type === 'image/jpg';\r\n      if (!isType) {\r\n        this.$message.error('上传图片格式不对!');\r\n        return false;\r\n      }\r\n      const isLt = file.size / 1024 / 1024 < 2;\r\n      if (!isLt) {\r\n        this.$message.error('上传图片大小不能超过 2M!');\r\n        return false;\r\n      }\r\n      this.uploadData.accountId = this.objData.accountId;\r\n      return true;\r\n    },\r\n    beforeVoiceUpload(file){\r\n      // 校验格式\r\n      const isType = file.type === 'audio/mp3'\r\n          || file.type === 'audio/mpeg'\r\n          || file.type === 'audio/wma'\r\n          || file.type === 'audio/wav'\r\n          || file.type === 'audio/amr';\r\n      if (!isType) {\r\n        this.$message.error('上传语音格式不对!' + file.type);\r\n        return false;\r\n      }\r\n      // 校验大小\r\n      const isLt = file.size / 1024 / 1024 < 2;\r\n      if (!isLt) {\r\n        this.$message.error('上传语音大小不能超过 2M!');\r\n        return false;\r\n      }\r\n      this.uploadData.accountId = this.objData.accountId;\r\n      return true;\r\n    },\r\n    beforeImageUpload(file) {\r\n      // 校验格式\r\n      const isType = file.type === 'image/jpeg'\r\n          || file.type === 'image/png'\r\n          || file.type === 'image/gif'\r\n          || file.type === 'image/bmp'\r\n          || file.type === 'image/jpg';\r\n      if (!isType) {\r\n        this.$message.error('上传图片格式不对!');\r\n        return false;\r\n      }\r\n      // 校验大小\r\n      const isLt = file.size / 1024 / 1024 < 2;\r\n      if (!isLt) {\r\n        this.$message.error('上传图片大小不能超过 2M!');\r\n        return false;\r\n      }\r\n      this.uploadData.accountId = this.objData.accountId;\r\n      return true;\r\n    },\r\n    beforeVideoUpload(file){\r\n      // 校验格式\r\n      const isType = file.type === 'video/mp4';\r\n      if (!isType) {\r\n        this.$message.error('上传视频格式不对!');\r\n        return false;\r\n      }\r\n      // 校验大小\r\n      const isLt = file.size / 1024 / 1024 < 10;\r\n      if (!isLt) {\r\n        this.$message.error('上传视频大小不能超过 10M!');\r\n        return false;\r\n      }\r\n      this.uploadData.accountId = this.objData.accountId;\r\n      return true;\r\n    },\r\n    handleUploadSuccess(response, file, fileList) {\r\n      if (response.code !== 0) {\r\n        this.$message.error('上传出错：' + response.msg)\r\n        return false;\r\n      }\r\n\r\n      // 清空上传时的各种数据\r\n      this.fileList = []\r\n      this.uploadData.title = ''\r\n      this.uploadData.introduction = ''\r\n\r\n      // 上传好的文件，本质是个素材，所以可以进行选中\r\n      let item = response.data\r\n      this.selectMaterial(item)\r\n    },\r\n    /**\r\n     * 切换消息类型的 tab\r\n     *\r\n     * @param tab tab\r\n     */\r\n    handleClick(tab) {\r\n      // 设置后续文件上传的文件类型\r\n      this.uploadData.type = this.objData.type;\r\n      if (this.uploadData.type === 'music') { // 【音乐】上传的是缩略图\r\n        this.uploadData.type = 'thumb';\r\n      }\r\n\r\n      // 从 tempObj 临时缓存中，获取对应的数据，并设置回 objData\r\n      let tempObjItem = this.tempObj.get(this.objData.type)\r\n      if (tempObjItem) {\r\n        this.objData.content = tempObjItem.content ? tempObjItem.content : null\r\n        this.objData.mediaId = tempObjItem.mediaId ? tempObjItem.mediaId : null\r\n        this.objData.url = tempObjItem.url ? tempObjItem.url : null\r\n        this.objData.name = tempObjItem.url ? tempObjItem.name : null\r\n        this.objData.title = tempObjItem.title ? tempObjItem.title : null\r\n        this.objData.description = tempObjItem.description ? tempObjItem.description : null\r\n        return;\r\n      }\r\n      // 如果获取不到，需要把 objData 复原\r\n      // 必须使用 $set 赋值，不然 input 无法输入内容\r\n      this.$set(this.objData, 'content', '');\r\n      this.$delete(this.objData, 'mediaId');\r\n      this.$delete(this.objData, 'url');\r\n      this.$set(this.objData, 'title', '');\r\n      this.$set(this.objData, 'description', '');\r\n\r\n    },\r\n    /**\r\n     * 选择素材，将设置设置到 objData 变量\r\n     *\r\n     * @param item 素材\r\n     */\r\n    selectMaterial(item) {\r\n      // 选择好素材，所以隐藏弹窗\r\n      this.closeMaterial();\r\n\r\n      // 创建 tempObjItem 对象，并设置对应的值\r\n      let tempObjItem = {}\r\n      tempObjItem.type = this.objData.type;\r\n      if (this.objData.type === 'news') {\r\n        tempObjItem.articles = item.content.newsItem\r\n        this.objData.articles = item.content.newsItem\r\n      } else if (this.objData.type === 'music') { // 音乐需要特殊处理，因为选择的是图片的缩略图\r\n        tempObjItem.thumbMediaId = item.mediaId\r\n        this.objData.thumbMediaId = item.mediaId\r\n        tempObjItem.thumbMediaUrl = item.url\r\n        this.objData.thumbMediaUrl = item.url\r\n        // title、introduction、musicUrl、hqMusicUrl：从 objData 到 tempObjItem，避免上传素材后，被覆盖掉\r\n        tempObjItem.title = this.objData.title || ''\r\n        tempObjItem.introduction = this.objData.introduction  || ''\r\n        tempObjItem.musicUrl = this.objData.musicUrl  || ''\r\n        tempObjItem.hqMusicUrl = this.objData.hqMusicUrl  || ''\r\n      } else if (this.objData.type === 'image'\r\n          || this.objData.type === 'voice') {\r\n        tempObjItem.mediaId = item.mediaId\r\n        this.objData.mediaId = item.mediaId\r\n        tempObjItem.url = item.url;\r\n        this.objData.url = item.url;\r\n        tempObjItem.name = item.name\r\n        this.objData.name = item.name\r\n      } else if (this.objData.type === 'video') {\r\n        tempObjItem.mediaId = item.mediaId\r\n        this.objData.mediaId = item.mediaId\r\n        tempObjItem.url = item.url;\r\n        this.objData.url = item.url;\r\n        tempObjItem.name = item.name\r\n        this.objData.name = item.name\r\n        // title、introduction：从 item 到 tempObjItem，因为素材里有 title、introduction\r\n        if (item.title) {\r\n          this.objData.title = item.title || ''\r\n          tempObjItem.title = item.title || ''\r\n        }\r\n        if (item.introduction) {\r\n          this.objData.description = item.introduction || '' // 消息使用的是 description，素材使用的是 introduction，所以转换下\r\n          tempObjItem.description = item.introduction || ''\r\n        }\r\n      } else if (this.objData.type === 'text') {\r\n        this.objData.content = item.content || ''\r\n      }\r\n      // 最终设置到临时缓存\r\n      this.tempObj.set(this.objData.type, tempObjItem)\r\n    },\r\n    openMaterial() {\r\n      if (this.objData.type === 'news') {\r\n        this.dialogNewsVisible = true\r\n      } else if(this.objData.type === 'image') {\r\n        this.dialogImageVisible = true\r\n      } else if(this.objData.type === 'voice') {\r\n        this.dialogVoiceVisible = true\r\n      } else if(this.objData.type === 'video') {\r\n        this.dialogVideoVisible = true\r\n      } else if(this.objData.type === 'music') {\r\n        this.dialogThumbVisible = true\r\n      }\r\n    },\r\n    closeMaterial() {\r\n      this.dialogNewsVisible = false\r\n      this.dialogImageVisible = false\r\n      this.dialogVoiceVisible = false\r\n      this.dialogVideoVisible = false\r\n      this.dialogThumbVisible = false\r\n    },\r\n    deleteObj() {\r\n      if (this.objData.type === 'news') {\r\n        this.$delete(this.objData, 'articles');\r\n      } else if(this.objData.type === 'image') {\r\n        this.objData.mediaId = null\r\n        this.$delete(this.objData, 'url');\r\n        this.objData.name = null\r\n      } else if(this.objData.type === 'voice') {\r\n        this.objData.mediaId = null\r\n        this.$delete(this.objData, 'url');\r\n        this.objData.name = null\r\n      } else if(this.objData.type === 'video') {\r\n        this.objData.mediaId = null\r\n        this.$delete(this.objData, 'url');\r\n        this.objData.name = null\r\n        this.objData.title = null\r\n        this.objData.description = null\r\n      } else if(this.objData.type === 'music') {\r\n        this.objData.thumbMediaId = null\r\n        this.objData.thumbMediaUrl = null\r\n        this.objData.title = null\r\n        this.objData.description = null\r\n        this.objData.musicUrl = null\r\n        this.objData.hqMusicUrl = null\r\n      } else if(this.objData.type === 'text') {\r\n        this.objData.content = null\r\n      }\r\n      // 覆盖缓存\r\n      this.tempObj.set(this.objData.type, Object.assign({}, this.objData));\r\n    },\r\n    /**\r\n     * 输入时，缓存每次 objData 到 tempObj 中\r\n     *\r\n     * why？不确定为什么 v-model=\"objData.content\" 不能自动缓存，所以通过这样的方式\r\n     */\r\n    inputContent(str) {\r\n      // 覆盖缓存\r\n      this.tempObj.set(this.objData.type, Object.assign({}, this.objData));\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.public-account-management{\r\n  .el-input{\r\n    width: 70%;\r\n    margin-right: 2%;\r\n  }\r\n}\r\n.pagination{\r\n  text-align: right;\r\n  margin-right: 25px;\r\n}\r\n.select-item{\r\n  width: 280px;\r\n  padding: 10px;\r\n  margin: 0 auto 10px auto;\r\n  border: 1px solid #eaeaea;\r\n}\r\n.select-item2{\r\n  padding: 10px;\r\n  margin: 0 auto 10px auto;\r\n  border: 1px solid #eaeaea;\r\n}\r\n.ope-row{\r\n  padding-top: 10px;\r\n  text-align: center;\r\n}\r\n.item-name{\r\n  font-size: 12px;\r\n  overflow: hidden;\r\n  text-overflow:ellipsis;\r\n  white-space: nowrap;\r\n  text-align: center;\r\n}\r\n.el-form-item__content{\r\n  line-height:unset!important;\r\n}\r\n.col-select{\r\n  border: 1px solid rgb(234, 234, 234);\r\n  padding: 50px 0px;\r\n  height: 160px;\r\n  width: 49.5%;\r\n}\r\n.col-select2{\r\n  border: 1px solid rgb(234, 234, 234);\r\n  padding: 50px 0px;\r\n  height: 160px;\r\n}\r\n.col-add{\r\n  border: 1px solid rgb(234, 234, 234);\r\n  padding: 50px 0px;\r\n  height: 160px;\r\n  width: 49.5%;\r\n  float: right\r\n}\r\n.avatar-uploader-icon {\r\n  border: 1px solid #d9d9d9;\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 100px!important;\r\n  height: 100px!important;\r\n  line-height: 100px!important;\r\n  text-align: center;\r\n}\r\n.material-img {\r\n  width: 100%;\r\n}\r\n.thumb-div{\r\n  display: inline-block;\r\n  text-align: center;\r\n}\r\n.item-infos{\r\n  width: 30%;\r\n  margin: auto\r\n}\r\n</style>\r\n"]}]}