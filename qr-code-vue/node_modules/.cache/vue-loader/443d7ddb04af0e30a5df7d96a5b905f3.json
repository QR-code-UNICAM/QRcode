{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\statistics\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\statistics\\index.vue","mtime":1704630438033},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovLyDlvJXlhaXln7rmnKzmqKHmnb8NCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cycNCi8vIOW8leWFpeafseeKtuWbvue7hOS7tg0KcmVxdWlyZSgnZWNoYXJ0cy9saWIvY2hhcnQvYmFyJykNCi8vIOW8leWFpeafseaLhue6v+e7hOS7tg0KcmVxdWlyZSgnZWNoYXJ0cy9saWIvY2hhcnQvbGluZScpDQovLyDlvJXlhaXmj5DnpLrmoYblkox0aXRsZee7hOS7tg0KcmVxdWlyZSgnZWNoYXJ0cy9saWIvY29tcG9uZW50L3Rvb2x0aXAnKQ0KcmVxdWlyZSgnZWNoYXJ0cy9saWIvY29tcG9uZW50L3RpdGxlJykNCnJlcXVpcmUoJ2VjaGFydHMvbGliL2NvbXBvbmVudC9sZWdlbmQnKQ0KDQppbXBvcnQgeyBnZXRJbnRlcmZhY2VTdW1tYXJ5LCBnZXRVc2VyU3VtbWFyeSwgZ2V0VXNlckN1bXVsYXRlLCBnZXRVcHN0cmVhbU1lc3NhZ2V9IGZyb20gJ0AvYXBpL21wL3N0YXRpc3RpY3MnDQppbXBvcnQgeyBkYXRlUGlja2VyT3B0aW9ucyB9IGZyb20gIkAvdXRpbHMvY29uc3RhbnRzIjsNCmltcG9ydCB7YWRkVGltZSwgYmVnaW5PZkRheSwgYmV0d2VlbkRheSwgZW5kT2ZEYXksIGZvcm1hdERhdGV9IGZyb20gIkAvdXRpbHMvZGF0ZVV0aWxzIjsNCmltcG9ydCB7IGdldFNpbXBsZUFjY291bnRzIH0gZnJvbSAiQC9hcGkvbXAvYWNjb3VudCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ01wU3RhdGlzdGljcycsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRhdGUgOiBbYmVnaW5PZkRheShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KSksIC8vIC03IOWkqQ0KICAgICAgICBlbmRPZkRheShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQpKV0sIC8vIC0xIOWkqQ0KICAgICAgYWNjb3VudElkOiB1bmRlZmluZWQsDQogICAgICBhY2NvdW50czogW10sDQoNCiAgICAgIHhBeGlzRGF0ZTogW10sIC8vIFgg6L2055qE5pel5pyf6IyD5Zu0DQogICAgICB1c2VyU3VtbWFyeU9wdGlvbjogeyAvLyDnlKjmiLflop7lh4/mlbDmja4NCiAgICAgICAgY29sb3I6IFsnIzY3QzIzQScsICcjZTUzMjNlJ10sDQogICAgICAgIGxlZ2VuZDogew0KICAgICAgICAgIGRhdGE6IFsn5paw5aKe55So5oi3Jywn5Y+W5raI5YWz5rOo55qE55So5oi3J10NCiAgICAgICAgfSwNCiAgICAgICAgdG9vbHRpcDoge30sDQogICAgICAgIHhBeGlzOiB7DQogICAgICAgICAgZGF0YTogW10gLy8gWCDovbTnmoTml6XmnJ/ojIPlm7QNCiAgICAgICAgfSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICBtaW5JbnRlcnZhbDogMQ0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgbmFtZTogJ+aWsOWinueUqOaItycsDQogICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgIG5vcm1hbDogew0KICAgICAgICAgICAgICBzaG93OiB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICBiYXJHYXA6IDAsDQogICAgICAgICAgZGF0YTogW10gLy8g5paw5aKe55So5oi355qE5pWw5o2uDQogICAgICAgIH0sIHsNCiAgICAgICAgICBuYW1lOiAn5Y+W5raI5YWz5rOo55qE55So5oi3JywNCiAgICAgICAgICB0eXBlOiAnYmFyJywNCiAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGRhdGE6IFtdIC8vIOWPlua2iOWFs+azqOeahOeUqOaIt+eahOaVsOaNrg0KICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIHVzZXJDdW11bGF0ZU9wdGlvbjogeyAvLyDntK/orqHnlKjmiLfmlbDmja4NCiAgICAgICAgbGVnZW5kOiB7DQogICAgICAgICAgZGF0YTogWyfntK/orqHnlKjmiLfph48nXQ0KICAgICAgICB9LA0KICAgICAgICB4QXhpczogew0KICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsDQogICAgICAgICAgZGF0YTogW10NCiAgICAgICAgfSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICBtaW5JbnRlcnZhbDogMQ0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgbmFtZTon57Sv6K6h55So5oi36YePJywNCiAgICAgICAgICBkYXRhOiBbXSwgLy8g57Sv6K6h55So5oi36YeP55qE5pWw5o2uDQogICAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICAgIHNtb290aDogdHJ1ZSwNCiAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH1dDQogICAgICB9LA0KICAgICAgdXBzdHJlYW1NZXNzYWdlT3B0aW9uOiB7IC8vIOa2iOaBr+WPkemAgeamguWGteaVsOaNrg0KICAgICAgICBjb2xvcjogWycjNjdDMjNBJywgJyNlNTMyM2UnXSwNCiAgICAgICAgbGVnZW5kOiB7DQogICAgICAgICAgZGF0YTogWyfnlKjmiLflj5HpgIHkurrmlbAnLCAn55So5oi35Y+R6YCB5p2h5pWwJ10NCiAgICAgICAgfSwNCiAgICAgICAgdG9vbHRpcDoge30sDQogICAgICAgIHhBeGlzOiB7DQogICAgICAgICAgZGF0YTogW10gLy8gWCDovbTnmoTml6XmnJ/ojIPlm7QNCiAgICAgICAgfSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICBtaW5JbnRlcnZhbDogMQ0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgbmFtZTogJ+eUqOaIt+WPkemAgeS6uuaVsCcsDQogICAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICAgIHNtb290aDogdHJ1ZSwNCiAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGRhdGE6IFtdIC8vIOeUqOaIt+WPkemAgeS6uuaVsOeahOaVsOaNrg0KICAgICAgICB9LCB7DQogICAgICAgICAgbmFtZTogJ+eUqOaIt+WPkemAgeadoeaVsCcsDQogICAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICAgIHNtb290aDogdHJ1ZSwNCiAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGRhdGE6IFtdIC8vIOeUqOaIt+WPkemAgeadoeaVsOeahOaVsOaNrg0KICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIGludGVyZmFjZVN1bW1hcnlPcHRpb246IHsgIC8vIOaOpeWPo+WIhuaekOWGteaVsOaNrg0KICAgICAgICBjb2xvcjogWycjNjdDMjNBJywgJyNlNTMyM2UnLCAnI0U2QTIzQycsICcjNDA5RUZGJ10sDQogICAgICAgIGxlZ2VuZDogew0KICAgICAgICAgIGRhdGE6IFsn6KKr5Yqo5Zue5aSN55So5oi35raI5oGv55qE5qyh5pWwJywn5aSx6LSl5qyh5pWwJywgJ+acgOWkp+iAl+aXticsJ+aAu+iAl+aXtiddDQogICAgICAgIH0sDQogICAgICAgIHRvb2x0aXA6IHt9LA0KICAgICAgICB4QXhpczogew0KICAgICAgICAgIGRhdGE6IFtdIC8vIFgg6L2055qE5pel5pyf6IyD5Zu0DQogICAgICAgIH0sDQogICAgICAgIHlBeGlzOiB7fSwNCiAgICAgICAgc2VyaWVzOiBbew0KICAgICAgICAgIG5hbWU6ICfooqvliqjlm57lpI3nlKjmiLfmtojmga/nmoTmrKHmlbAnLA0KICAgICAgICAgIHR5cGU6ICdiYXInLA0KICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICBub3JtYWw6IHsNCiAgICAgICAgICAgICAgc2hvdzogdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgYmFyR2FwOiAwLA0KICAgICAgICAgIGRhdGE6IFtdIC8vIOiiq+WKqOWbnuWkjeeUqOaIt+a2iOaBr+eahOasoeaVsOeahOaVsOaNrg0KICAgICAgICB9LCB7DQogICAgICAgICAgbmFtZTogJ+Wksei0peasoeaVsCcsDQogICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgIG5vcm1hbDogew0KICAgICAgICAgICAgICBzaG93OiB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICBkYXRhOiBbXSAvLyDlpLHotKXmrKHmlbDnmoTmlbDmja4NCiAgICAgICAgfSwgew0KICAgICAgICAgIG5hbWU6ICfmnIDlpKfogJfml7YnLA0KICAgICAgICAgIHR5cGU6ICdiYXInLA0KICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICBub3JtYWw6IHsNCiAgICAgICAgICAgICAgc2hvdzogdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgZGF0YTogW10gLy8g5pyA5aSn6ICX5pe255qE5pWw5o2uDQogICAgICAgIH0sIHsNCiAgICAgICAgICBuYW1lOiAn5oC76ICX5pe2JywNCiAgICAgICAgICB0eXBlOiAnYmFyJywNCiAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGRhdGE6IFtdIC8vIOaAu+iAl+aXtueahOaVsOaNrg0KICAgICAgICB9XQ0KICAgICAgfSwNCg0KICAgICAgLy8g6Z2Z5oCB5Y+Y6YePDQogICAgICBkYXRlUGlja2VyT3B0aW9uczogZGF0ZVBpY2tlck9wdGlvbnMsDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGdldFNpbXBsZUFjY291bnRzKCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICB0aGlzLmFjY291bnRzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgIC8vIOm7mOiupOmAieS4reesrOS4gOS4qg0KICAgICAgaWYgKHRoaXMuYWNjb3VudHMubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmFjY291bnRJZCA9IHRoaXMuYWNjb3VudHNbMF0uaWQ7DQogICAgICB9DQogICAgICAvLyDliqDovb3mlbDmja4NCiAgICAgIHRoaXMuZ2V0U3VtbWFyeSgpOw0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRTdW1tYXJ5KCkgew0KICAgICAgLy8g5aaC5p6c5rKh5pyJ6YCJ5Lit5YWs5LyX5Y+36LSm5Y+377yM5YiZ6L+b6KGM5o+Q56S644CCDQogICAgICBpZiAoIXRoaXMuYWNjb3VudElkKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+acqumAieS4reWFrOS8l+WPt++8jOaXoOazlee7n+iuoeaVsOaNricpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgLy8g5b+F6aG76YCJ5oupIDcg5aSp5YaF77yM5Zug5Li65YWs5LyX5Y+35pyJ5pe26Ze06Leo5bqm6ZmQ5Yi25Li6IDcNCiAgICAgIGlmIChiZXR3ZWVuRGF5KHRoaXMuZGF0ZVswXSwgdGhpcy5kYXRlWzFdKSA+PSA3KSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aXtumXtOmXtOmalCA3IOWkqeS7peWGhe+8jOivt+mHjeaWsOmAieaLqScpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy54QXhpc0RhdGUgPSBbXQ0KICAgICAgY29uc3QgZGF5cyA9IGJldHdlZW5EYXkodGhpcy5kYXRlWzBdLCB0aGlzLmRhdGVbMV0pIC8vIOebuOW3ruWkqeaVsA0KICAgICAgZm9yKGxldCBpID0gMDsgaSA8PSBkYXlzOyBpKyspew0KICAgICAgICB0aGlzLnhBeGlzRGF0ZS5wdXNoKGZvcm1hdERhdGUoYWRkVGltZSh0aGlzLmRhdGVbMF0sIDM2MDAgKiAxMDAwICogMjQgKiBpKSwgJ3l5eXktTU0tZGQnKSk7DQogICAgICB9DQoNCiAgICAgIC8vIOWIneWni+WMluWbvuihqA0KICAgICAgdGhpcy5pbml0VXNlclN1bW1hcnlDaGFydCgpOw0KICAgICAgdGhpcy5pbml0VXNlckN1bXVsYXRlQ2hhcnQoKTsNCiAgICAgIHRoaXMuaW5pdFVwc3RyZWFtTWVzc2FnZUNoYXJ0KCk7DQogICAgICB0aGlzLmludGVyZmFjZVN1bW1hcnlDaGFydCgpOw0KICAgIH0sDQogICAgaW5pdFVzZXJTdW1tYXJ5Q2hhcnQoKSB7DQogICAgICB0aGlzLnVzZXJTdW1tYXJ5T3B0aW9uLnhBeGlzLmRhdGEgPSBbXTsNCiAgICAgIHRoaXMudXNlclN1bW1hcnlPcHRpb24uc2VyaWVzWzBdLmRhdGEgPSBbXTsNCiAgICAgIHRoaXMudXNlclN1bW1hcnlPcHRpb24uc2VyaWVzWzFdLmRhdGEgPSBbXTsNCiAgICAgIGdldFVzZXJTdW1tYXJ5KHsNCiAgICAgICAgYWNjb3VudElkOiB0aGlzLmFjY291bnRJZCwNCiAgICAgICAgZGF0ZTogW2Zvcm1hdERhdGUodGhpcy5kYXRlWzBdLCAneXl5eS1NTS1kZCBISDptbTpzcycpLCBmb3JtYXREYXRlKHRoaXMuZGF0ZVsxXSwgJ3l5eXktTU0tZGQgSEg6bW06c3MnKSxdDQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy51c2VyU3VtbWFyeU9wdGlvbi54QXhpcy5kYXRhID0gdGhpcy54QXhpc0RhdGU7DQogICAgICAgIC8vIOWkhOeQhuaVsOaNrg0KICAgICAgICB0aGlzLnhBeGlzRGF0ZS5mb3JFYWNoKChkYXRlLCBpbmRleCkgPT4gew0KICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgLy8g5Yy56YWN5pel5pyfDQogICAgICAgICAgICBjb25zdCByZWZEYXRlID0gZm9ybWF0RGF0ZShuZXcgRGF0ZShpdGVtLnJlZkRhdGUpLCAneXl5eS1NTS1kZCcpOw0KICAgICAgICAgICAgaWYgKHJlZkRhdGUuaW5kZXhPZihkYXRlKSA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8g6K6+572u5pWw5o2u5Yiw5a+55bqU55qE5L2N572uDQogICAgICAgICAgICB0aGlzLnVzZXJTdW1tYXJ5T3B0aW9uLnNlcmllc1swXS5kYXRhW2luZGV4XSA9IGl0ZW0ubmV3VXNlcjsNCiAgICAgICAgICAgIHRoaXMudXNlclN1bW1hcnlPcHRpb24uc2VyaWVzWzFdLmRhdGFbaW5kZXhdID0gaXRlbS5jYW5jZWxVc2VyOw0KICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgICAgIC8vIOe7mOWItuWbvuihqA0KICAgICAgICBjb25zdCB1c2VyU3VtbWFyeUNoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMudXNlclN1bW1hcnlDaGFydCk7DQogICAgICAgIHVzZXJTdW1tYXJ5Q2hhcnQuc2V0T3B0aW9uKHRoaXMudXNlclN1bW1hcnlPcHRpb24pDQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkNCiAgICB9LA0KICAgIGluaXRVc2VyQ3VtdWxhdGVDaGFydCgpIHsNCiAgICAgIHRoaXMudXNlckN1bXVsYXRlT3B0aW9uLnhBeGlzLmRhdGEgPSBbXTsNCiAgICAgIHRoaXMudXNlckN1bXVsYXRlT3B0aW9uLnNlcmllc1swXS5kYXRhID0gW107DQogICAgICAvLyDlj5Hotbfor7fmsYINCiAgICAgIGdldFVzZXJDdW11bGF0ZSh7DQogICAgICAgIGFjY291bnRJZDogdGhpcy5hY2NvdW50SWQsDQogICAgICAgIGRhdGU6IFtmb3JtYXREYXRlKHRoaXMuZGF0ZVswXSwgJ3l5eXktTU0tZGQgSEg6bW06c3MnKSwgZm9ybWF0RGF0ZSh0aGlzLmRhdGVbMV0sICd5eXl5LU1NLWRkIEhIOm1tOnNzJyksXQ0KICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMudXNlckN1bXVsYXRlT3B0aW9uLnhBeGlzLmRhdGEgPSB0aGlzLnhBeGlzRGF0ZTsNCiAgICAgICAgLy8g5aSE55CG5pWw5o2uDQogICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICB0aGlzLnVzZXJDdW11bGF0ZU9wdGlvbi5zZXJpZXNbMF0uZGF0YVtpbmRleF0gPSBpdGVtLmN1bXVsYXRlVXNlcjsNCiAgICAgICAgfSkNCiAgICAgICAgLy8g57uY5Yi25Zu+6KGoDQogICAgICAgIGNvbnN0IHVzZXJDdW11bGF0ZUNoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMudXNlckN1bXVsYXRlQ2hhcnQpOw0KICAgICAgICB1c2VyQ3VtdWxhdGVDaGFydC5zZXRPcHRpb24odGhpcy51c2VyQ3VtdWxhdGVPcHRpb24pDQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkNCiAgICB9LA0KICAgIGluaXRVcHN0cmVhbU1lc3NhZ2VDaGFydCgpIHsNCiAgICAgIHRoaXMudXBzdHJlYW1NZXNzYWdlT3B0aW9uLnhBeGlzLmRhdGEgPSBbXTsNCiAgICAgIHRoaXMudXBzdHJlYW1NZXNzYWdlT3B0aW9uLnNlcmllc1swXS5kYXRhID0gW107DQogICAgICB0aGlzLnVwc3RyZWFtTWVzc2FnZU9wdGlvbi5zZXJpZXNbMV0uZGF0YSA9IFtdOw0KICAgICAgLy8g5Y+R6LW36K+35rGCDQogICAgICBnZXRVcHN0cmVhbU1lc3NhZ2Uoew0KICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjb3VudElkLA0KICAgICAgICBkYXRlOiBbZm9ybWF0RGF0ZSh0aGlzLmRhdGVbMF0sICd5eXl5LU1NLWRkIEhIOm1tOnNzJyksIGZvcm1hdERhdGUodGhpcy5kYXRlWzFdLCAneXl5eS1NTS1kZCBISDptbTpzcycpLF0NCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnVwc3RyZWFtTWVzc2FnZU9wdGlvbi54QXhpcy5kYXRhID0gdGhpcy54QXhpc0RhdGU7DQogICAgICAgIC8vIOWkhOeQhuaVsOaNrg0KICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgdGhpcy51cHN0cmVhbU1lc3NhZ2VPcHRpb24uc2VyaWVzWzBdLmRhdGFbaW5kZXhdID0gaXRlbS5tZXNzYWdlVXNlcjsNCiAgICAgICAgICB0aGlzLnVwc3RyZWFtTWVzc2FnZU9wdGlvbi5zZXJpZXNbMV0uZGF0YVtpbmRleF0gPSBpdGVtLm1lc3NhZ2VDb3VudDsNCiAgICAgICAgfSkNCiAgICAgICAgLy8g57uY5Yi25Zu+6KGoDQogICAgICAgIGNvbnN0IHVwc3RyZWFtTWVzc2FnZUNoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMudXBzdHJlYW1NZXNzYWdlQ2hhcnQpOw0KICAgICAgICB1cHN0cmVhbU1lc3NhZ2VDaGFydC5zZXRPcHRpb24odGhpcy51cHN0cmVhbU1lc3NhZ2VPcHRpb24pOw0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pDQogICAgfSwNCiAgICBpbnRlcmZhY2VTdW1tYXJ5Q2hhcnQoKSB7DQogICAgICB0aGlzLmludGVyZmFjZVN1bW1hcnlPcHRpb24ueEF4aXMuZGF0YSA9IFtdOw0KICAgICAgdGhpcy5pbnRlcmZhY2VTdW1tYXJ5T3B0aW9uLnNlcmllc1swXS5kYXRhID0gW107DQogICAgICB0aGlzLmludGVyZmFjZVN1bW1hcnlPcHRpb24uc2VyaWVzWzFdLmRhdGEgPSBbXTsNCiAgICAgIHRoaXMuaW50ZXJmYWNlU3VtbWFyeU9wdGlvbi5zZXJpZXNbMl0uZGF0YSA9IFtdOw0KICAgICAgdGhpcy5pbnRlcmZhY2VTdW1tYXJ5T3B0aW9uLnNlcmllc1szXS5kYXRhID0gW107DQogICAgICAvLyDlj5Hotbfor7fmsYINCiAgICAgIGdldEludGVyZmFjZVN1bW1hcnkoew0KICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjb3VudElkLA0KICAgICAgICBkYXRlOiBbZm9ybWF0RGF0ZSh0aGlzLmRhdGVbMF0sICd5eXl5LU1NLWRkIEhIOm1tOnNzJyksIGZvcm1hdERhdGUodGhpcy5kYXRlWzFdLCAneXl5eS1NTS1kZCBISDptbTpzcycpLF0NCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmludGVyZmFjZVN1bW1hcnlPcHRpb24ueEF4aXMuZGF0YSA9IHRoaXMueEF4aXNEYXRlOw0KICAgICAgICAvLyDlpITnkIbmlbDmja4NCiAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgIHRoaXMuaW50ZXJmYWNlU3VtbWFyeU9wdGlvbi5zZXJpZXNbMF0uZGF0YVtpbmRleF0gPSBpdGVtLmNhbGxiYWNrQ291bnQ7DQogICAgICAgICAgdGhpcy5pbnRlcmZhY2VTdW1tYXJ5T3B0aW9uLnNlcmllc1sxXS5kYXRhW2luZGV4XSA9IGl0ZW0uZmFpbENvdW50Ow0KICAgICAgICAgIHRoaXMuaW50ZXJmYWNlU3VtbWFyeU9wdGlvbi5zZXJpZXNbMl0uZGF0YVtpbmRleF0gPSBpdGVtLm1heFRpbWVDb3N0Ow0KICAgICAgICAgIHRoaXMuaW50ZXJmYWNlU3VtbWFyeU9wdGlvbi5zZXJpZXNbM10uZGF0YVtpbmRleF0gPSBpdGVtLnRvdGFsVGltZUNvc3Q7DQogICAgICAgIH0pDQogICAgICAgIC8vIOe7mOWItuWbvuihqA0KICAgICAgICBjb25zdCBpbnRlcmZhY2VTdW1tYXJ5Q2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5pbnRlcmZhY2VTdW1tYXJ5Q2hhcnQpOw0KICAgICAgICBpbnRlcmZhY2VTdW1tYXJ5Q2hhcnQuc2V0T3B0aW9uKHRoaXMuaW50ZXJmYWNlU3VtbWFyeU9wdGlvbik7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/mp/statistics","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <doc-alert title=\"公众号统计\" url=\"https://doc.iocoder.cn/mp/statistics/\" />\r\n\r\n    <!-- 搜索工作栏 -->\r\n    <el-form ref=\"queryForm\" size=\"small\" :inline=\"true\" label-width=\"68px\">\r\n      <el-form-item label=\"公众号\" prop=\"accountId\">\r\n        <el-select v-model=\"accountId\" @change=\"getSummary\">\r\n          <el-option v-for=\"item in accounts\" :key=\"parseInt(item.id)\" :label=\"item.name\" :value=\"parseInt(item.id)\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"时间范围\" prop=\"date\">\r\n        <el-date-picker v-model=\"date\" style=\"width: 260px\" value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"daterange\"\r\n                        range-separator=\"-\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"\r\n                        :picker-options=\"datePickerOptions\" :default-time=\"['00:00:00', '23:59:59']\"\r\n                        @change=\"getSummary\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 图表 -->\r\n    <el-row>\r\n      <el-col :span=\"12\" class=\"card-box\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <span>用户增减数据</span>\r\n          </div>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <div ref=\"userSummaryChart\" style=\"height: 420px\" />\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\" class=\"card-box\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <span>累计用户数据</span>\r\n          </div>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <div ref=\"userCumulateChart\" style=\"height: 420px\" />\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\" class=\"card-box\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <span>消息概况数据</span>\r\n          </div>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <div ref=\"upstreamMessageChart\" style=\"height: 420px\" />\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\" class=\"card-box\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <span>接口分析数据</span>\r\n          </div>\r\n          <div class=\"el-table el-table--enable-row-hover el-table--medium\">\r\n            <div ref=\"interfaceSummaryChart\" style=\"height: 420px\" />\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入基本模板\r\nimport * as echarts from 'echarts'\r\n// 引入柱状图组件\r\nrequire('echarts/lib/chart/bar')\r\n// 引入柱拆线组件\r\nrequire('echarts/lib/chart/line')\r\n// 引入提示框和title组件\r\nrequire('echarts/lib/component/tooltip')\r\nrequire('echarts/lib/component/title')\r\nrequire('echarts/lib/component/legend')\r\n\r\nimport { getInterfaceSummary, getUserSummary, getUserCumulate, getUpstreamMessage} from '@/api/mp/statistics'\r\nimport { datePickerOptions } from \"@/utils/constants\";\r\nimport {addTime, beginOfDay, betweenDay, endOfDay, formatDate} from \"@/utils/dateUtils\";\r\nimport { getSimpleAccounts } from \"@/api/mp/account\";\r\n\r\nexport default {\r\n  name: 'MpStatistics',\r\n  data() {\r\n    return {\r\n      date : [beginOfDay(new Date(new Date().getTime() - 3600 * 1000 * 24 * 7)), // -7 天\r\n        endOfDay(new Date(new Date().getTime() - 3600 * 1000 * 24))], // -1 天\r\n      accountId: undefined,\r\n      accounts: [],\r\n\r\n      xAxisDate: [], // X 轴的日期范围\r\n      userSummaryOption: { // 用户增减数据\r\n        color: ['#67C23A', '#e5323e'],\r\n        legend: {\r\n          data: ['新增用户','取消关注的用户']\r\n        },\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: [] // X 轴的日期范围\r\n        },\r\n        yAxis: {\r\n          minInterval: 1\r\n        },\r\n        series: [{\r\n          name: '新增用户',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          barGap: 0,\r\n          data: [] // 新增用户的数据\r\n        }, {\r\n          name: '取消关注的用户',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          data: [] // 取消关注的用户的数据\r\n        }]\r\n      },\r\n      userCumulateOption: { // 累计用户数据\r\n        legend: {\r\n          data: ['累计用户量']\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          minInterval: 1\r\n        },\r\n        series: [{\r\n          name:'累计用户量',\r\n          data: [], // 累计用户量的数据\r\n          type: 'line',\r\n          smooth: true,\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      upstreamMessageOption: { // 消息发送概况数据\r\n        color: ['#67C23A', '#e5323e'],\r\n        legend: {\r\n          data: ['用户发送人数', '用户发送条数']\r\n        },\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: [] // X 轴的日期范围\r\n        },\r\n        yAxis: {\r\n          minInterval: 1\r\n        },\r\n        series: [{\r\n          name: '用户发送人数',\r\n          type: 'line',\r\n          smooth: true,\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          data: [] // 用户发送人数的数据\r\n        }, {\r\n          name: '用户发送条数',\r\n          type: 'line',\r\n          smooth: true,\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          data: [] // 用户发送条数的数据\r\n        }]\r\n      },\r\n      interfaceSummaryOption: {  // 接口分析况数据\r\n        color: ['#67C23A', '#e5323e', '#E6A23C', '#409EFF'],\r\n        legend: {\r\n          data: ['被动回复用户消息的次数','失败次数', '最大耗时','总耗时']\r\n        },\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: [] // X 轴的日期范围\r\n        },\r\n        yAxis: {},\r\n        series: [{\r\n          name: '被动回复用户消息的次数',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          barGap: 0,\r\n          data: [] // 被动回复用户消息的次数的数据\r\n        }, {\r\n          name: '失败次数',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          data: [] // 失败次数的数据\r\n        }, {\r\n          name: '最大耗时',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          data: [] // 最大耗时的数据\r\n        }, {\r\n          name: '总耗时',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true\r\n            }\r\n          },\r\n          data: [] // 总耗时的数据\r\n        }]\r\n      },\r\n\r\n      // 静态变量\r\n      datePickerOptions: datePickerOptions,\r\n    }\r\n  },\r\n  created() {\r\n    getSimpleAccounts().then(response => {\r\n      this.accounts = response.data;\r\n      // 默认选中第一个\r\n      if (this.accounts.length > 0) {\r\n        this.accountId = this.accounts[0].id;\r\n      }\r\n      // 加载数据\r\n      this.getSummary();\r\n    })\r\n  },\r\n  methods: {\r\n    getSummary() {\r\n      // 如果没有选中公众号账号，则进行提示。\r\n      if (!this.accountId) {\r\n        this.$message.error('未选中公众号，无法统计数据')\r\n        return false\r\n      }\r\n      // 必须选择 7 天内，因为公众号有时间跨度限制为 7\r\n      if (betweenDay(this.date[0], this.date[1]) >= 7) {\r\n        this.$message.error('时间间隔 7 天以内，请重新选择')\r\n        return false\r\n      }\r\n      this.xAxisDate = []\r\n      const days = betweenDay(this.date[0], this.date[1]) // 相差天数\r\n      for(let i = 0; i <= days; i++){\r\n        this.xAxisDate.push(formatDate(addTime(this.date[0], 3600 * 1000 * 24 * i), 'yyyy-MM-dd'));\r\n      }\r\n\r\n      // 初始化图表\r\n      this.initUserSummaryChart();\r\n      this.initUserCumulateChart();\r\n      this.initUpstreamMessageChart();\r\n      this.interfaceSummaryChart();\r\n    },\r\n    initUserSummaryChart() {\r\n      this.userSummaryOption.xAxis.data = [];\r\n      this.userSummaryOption.series[0].data = [];\r\n      this.userSummaryOption.series[1].data = [];\r\n      getUserSummary({\r\n        accountId: this.accountId,\r\n        date: [formatDate(this.date[0], 'yyyy-MM-dd HH:mm:ss'), formatDate(this.date[1], 'yyyy-MM-dd HH:mm:ss'),]\r\n      }).then(response => {\r\n        this.userSummaryOption.xAxis.data = this.xAxisDate;\r\n        // 处理数据\r\n        this.xAxisDate.forEach((date, index) => {\r\n          response.data.forEach((item) => {\r\n            // 匹配日期\r\n            const refDate = formatDate(new Date(item.refDate), 'yyyy-MM-dd');\r\n            if (refDate.indexOf(date) === -1) {\r\n              return;\r\n            }\r\n            // 设置数据到对应的位置\r\n            this.userSummaryOption.series[0].data[index] = item.newUser;\r\n            this.userSummaryOption.series[1].data[index] = item.cancelUser;\r\n          })\r\n        })\r\n        // 绘制图表\r\n        const userSummaryChart = echarts.init(this.$refs.userSummaryChart);\r\n        userSummaryChart.setOption(this.userSummaryOption)\r\n      }).catch(() => {})\r\n    },\r\n    initUserCumulateChart() {\r\n      this.userCumulateOption.xAxis.data = [];\r\n      this.userCumulateOption.series[0].data = [];\r\n      // 发起请求\r\n      getUserCumulate({\r\n        accountId: this.accountId,\r\n        date: [formatDate(this.date[0], 'yyyy-MM-dd HH:mm:ss'), formatDate(this.date[1], 'yyyy-MM-dd HH:mm:ss'),]\r\n      }).then(response => {\r\n        this.userCumulateOption.xAxis.data = this.xAxisDate;\r\n        // 处理数据\r\n        response.data.forEach((item, index) => {\r\n          this.userCumulateOption.series[0].data[index] = item.cumulateUser;\r\n        })\r\n        // 绘制图表\r\n        const userCumulateChart = echarts.init(this.$refs.userCumulateChart);\r\n        userCumulateChart.setOption(this.userCumulateOption)\r\n      }).catch(() => {})\r\n    },\r\n    initUpstreamMessageChart() {\r\n      this.upstreamMessageOption.xAxis.data = [];\r\n      this.upstreamMessageOption.series[0].data = [];\r\n      this.upstreamMessageOption.series[1].data = [];\r\n      // 发起请求\r\n      getUpstreamMessage({\r\n        accountId: this.accountId,\r\n        date: [formatDate(this.date[0], 'yyyy-MM-dd HH:mm:ss'), formatDate(this.date[1], 'yyyy-MM-dd HH:mm:ss'),]\r\n      }).then(response => {\r\n        this.upstreamMessageOption.xAxis.data = this.xAxisDate;\r\n        // 处理数据\r\n        response.data.forEach((item, index) => {\r\n          this.upstreamMessageOption.series[0].data[index] = item.messageUser;\r\n          this.upstreamMessageOption.series[1].data[index] = item.messageCount;\r\n        })\r\n        // 绘制图表\r\n        const upstreamMessageChart = echarts.init(this.$refs.upstreamMessageChart);\r\n        upstreamMessageChart.setOption(this.upstreamMessageOption);\r\n      }).catch(() => {})\r\n    },\r\n    interfaceSummaryChart() {\r\n      this.interfaceSummaryOption.xAxis.data = [];\r\n      this.interfaceSummaryOption.series[0].data = [];\r\n      this.interfaceSummaryOption.series[1].data = [];\r\n      this.interfaceSummaryOption.series[2].data = [];\r\n      this.interfaceSummaryOption.series[3].data = [];\r\n      // 发起请求\r\n      getInterfaceSummary({\r\n        accountId: this.accountId,\r\n        date: [formatDate(this.date[0], 'yyyy-MM-dd HH:mm:ss'), formatDate(this.date[1], 'yyyy-MM-dd HH:mm:ss'),]\r\n      }).then(response => {\r\n        this.interfaceSummaryOption.xAxis.data = this.xAxisDate;\r\n        // 处理数据\r\n        response.data.forEach((item, index) => {\r\n          this.interfaceSummaryOption.series[0].data[index] = item.callbackCount;\r\n          this.interfaceSummaryOption.series[1].data[index] = item.failCount;\r\n          this.interfaceSummaryOption.series[2].data[index] = item.maxTimeCost;\r\n          this.interfaceSummaryOption.series[3].data[index] = item.totalTimeCost;\r\n        })\r\n        // 绘制图表\r\n        const interfaceSummaryChart = echarts.init(this.$refs.interfaceSummaryChart);\r\n        interfaceSummaryChart.setOption(this.interfaceSummaryOption);\r\n      }).catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}