{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\penal\\task\\ElementTask.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\components\\bpmnProcessDesigner\\package\\penal\\task\\ElementTask.vue","mtime":1704630437727},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVXNlclRhc2sgZnJvbSAiLi90YXNrLWNvbXBvbmVudHMvVXNlclRhc2siOw0KaW1wb3J0IFNjcmlwdFRhc2sgZnJvbSAiLi90YXNrLWNvbXBvbmVudHMvU2NyaXB0VGFzayI7DQppbXBvcnQgUmVjZWl2ZVRhc2sgZnJvbSAiLi90YXNrLWNvbXBvbmVudHMvUmVjZWl2ZVRhc2siOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJFbGVtZW50VGFza0NvbmZpZyIsDQogIGNvbXBvbmVudHM6IHsgVXNlclRhc2ssIFNjcmlwdFRhc2ssIFJlY2VpdmVUYXNrIH0sDQogIHByb3BzOiB7DQogICAgaWQ6IFN0cmluZywNCiAgICB0eXBlOiBTdHJpbmcNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFza0NvbmZpZ0Zvcm06IHsNCiAgICAgICAgYXN5bmNBZnRlcjogZmFsc2UsDQogICAgICAgIGFzeW5jQmVmb3JlOiBmYWxzZSwNCiAgICAgICAgZXhjbHVzaXZlOiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIHdpdGNoVGFza0NvbXBvbmVudDogIiIsDQogICAgICBpbnN0YWxsZWRDb21wb25lbnQ6IHsNCiAgICAgICAgLy8g5omL5bel5Lu75Yqh5LiO5pmu6YCa5Lu75Yqh5LiA6Ie077yM5LiN6ZyA6KaB5YW25LuW6YWN572uDQogICAgICAgIC8vIOaOpeaUtua2iOaBr+S7u+WKoe+8jOmcgOimgeWcqOWFqOWxgOS4i+aPkuWFpeaWsOeahOa2iOaBr+WunuS+i++8jOW5tuWcqOivpeiKgueCueS4i+eahCBtZXNzYWdlUmVmIOWxnuaAp+e7keWumuivpeWunuS+iw0KICAgICAgICAvLyDlj5HpgIHku7vliqHjgIHmnI3liqHku7vliqHjgIHkuJrliqHop4TliJnku7vliqHlhbHnlKjkuIDkuKrnm7jlkIzphY3nva4NCiAgICAgICAgVXNlclRhc2s6ICJVc2VyVGFzayIsIC8vIOeUqOaIt+S7u+WKoemFjee9rg0KICAgICAgICBTY3JpcHRUYXNrOiAiU2NyaXB0VGFzayIsIC8vIOiEmuacrOS7u+WKoemFjee9rg0KICAgICAgICBSZWNlaXZlVGFzazogIlJlY2VpdmVUYXNrIiAvLyDmtojmga/mjqXmlLbku7vliqENCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIGlkOiB7DQogICAgICBpbW1lZGlhdGU6IHRydWUsDQogICAgICBoYW5kbGVyKCkgew0KICAgICAgICB0aGlzLmJwbW5FbGVtZW50ID0gd2luZG93LmJwbW5JbnN0YW5jZXMuYnBtbkVsZW1lbnQ7DQogICAgICAgIHRoaXMudGFza0NvbmZpZ0Zvcm0uYXN5bmNCZWZvcmUgPSB0aGlzLmJwbW5FbGVtZW50Py5idXNpbmVzc09iamVjdD8uYXN5bmNCZWZvcmU7DQogICAgICAgIHRoaXMudGFza0NvbmZpZ0Zvcm0uYXN5bmNBZnRlciA9IHRoaXMuYnBtbkVsZW1lbnQ/LmJ1c2luZXNzT2JqZWN0Py5hc3luY0FmdGVyOw0KICAgICAgICB0aGlzLnRhc2tDb25maWdGb3JtLmV4Y2x1c2l2ZSA9IHRoaXMuYnBtbkVsZW1lbnQ/LmJ1c2luZXNzT2JqZWN0Py5leGNsdXNpdmU7DQogICAgICB9DQogICAgfSwNCiAgICB0eXBlOiB7DQogICAgICBpbW1lZGlhdGU6IHRydWUsDQogICAgICBoYW5kbGVyKCkgew0KICAgICAgICB0aGlzLndpdGNoVGFza0NvbXBvbmVudCA9IHRoaXMuaW5zdGFsbGVkQ29tcG9uZW50W3RoaXMudHlwZV07DQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hhbmdlVGFza0FzeW5jKCkgew0KICAgICAgaWYgKCF0aGlzLnRhc2tDb25maWdGb3JtLmFzeW5jQmVmb3JlICYmICF0aGlzLnRhc2tDb25maWdGb3JtLmFzeW5jQWZ0ZXIpIHsNCiAgICAgICAgdGhpcy50YXNrQ29uZmlnRm9ybS5leGNsdXNpdmUgPSBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHdpbmRvdy5icG1uSW5zdGFuY2VzLm1vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXMod2luZG93LmJwbW5JbnN0YW5jZXMuYnBtbkVsZW1lbnQsIHsNCiAgICAgICAgLi4udGhpcy50YXNrQ29uZmlnRm9ybQ0KICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["ElementTask.vue"],"names":[],"mappings":";AAcA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ElementTask.vue","sourceRoot":"src/components/bpmnProcessDesigner/package/penal/task","sourcesContent":["<template>\r\n  <div class=\"panel-tab__content\">\r\n    <el-form size=\"mini\" label-width=\"90px\" @submit.native.prevent>\r\n      <el-form-item label=\"异步延续\">\r\n        <el-checkbox v-model=\"taskConfigForm.asyncBefore\" label=\"异步前\" @change=\"changeTaskAsync\" />\r\n        <el-checkbox v-model=\"taskConfigForm.asyncAfter\" label=\"异步后\" @change=\"changeTaskAsync\" />\r\n        <el-checkbox v-model=\"taskConfigForm.exclusive\" v-if=\"taskConfigForm.asyncAfter || taskConfigForm.asyncBefore\" label=\"排除\" @change=\"changeTaskAsync\" />\r\n      </el-form-item>\r\n      <component :is=\"witchTaskComponent\" v-bind=\"$props\" />\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserTask from \"./task-components/UserTask\";\r\nimport ScriptTask from \"./task-components/ScriptTask\";\r\nimport ReceiveTask from \"./task-components/ReceiveTask\";\r\n\r\nexport default {\r\n  name: \"ElementTaskConfig\",\r\n  components: { UserTask, ScriptTask, ReceiveTask },\r\n  props: {\r\n    id: String,\r\n    type: String\r\n  },\r\n  data() {\r\n    return {\r\n      taskConfigForm: {\r\n        asyncAfter: false,\r\n        asyncBefore: false,\r\n        exclusive: false\r\n      },\r\n      witchTaskComponent: \"\",\r\n      installedComponent: {\r\n        // 手工任务与普通任务一致，不需要其他配置\r\n        // 接收消息任务，需要在全局下插入新的消息实例，并在该节点下的 messageRef 属性绑定该实例\r\n        // 发送任务、服务任务、业务规则任务共用一个相同配置\r\n        UserTask: \"UserTask\", // 用户任务配置\r\n        ScriptTask: \"ScriptTask\", // 脚本任务配置\r\n        ReceiveTask: \"ReceiveTask\" // 消息接收任务\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    id: {\r\n      immediate: true,\r\n      handler() {\r\n        this.bpmnElement = window.bpmnInstances.bpmnElement;\r\n        this.taskConfigForm.asyncBefore = this.bpmnElement?.businessObject?.asyncBefore;\r\n        this.taskConfigForm.asyncAfter = this.bpmnElement?.businessObject?.asyncAfter;\r\n        this.taskConfigForm.exclusive = this.bpmnElement?.businessObject?.exclusive;\r\n      }\r\n    },\r\n    type: {\r\n      immediate: true,\r\n      handler() {\r\n        this.witchTaskComponent = this.installedComponent[this.type];\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeTaskAsync() {\r\n      if (!this.taskConfigForm.asyncBefore && !this.taskConfigForm.asyncAfter) {\r\n        this.taskConfigForm.exclusive = false;\r\n      }\r\n      window.bpmnInstances.modeling.updateProperties(window.bpmnInstances.bpmnElement, {\r\n        ...this.taskConfigForm\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}