{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\material\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mp\\material\\index.vue","mtime":1704630438022},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgV3hWb2ljZVBsYXllciBmcm9tICdAL3ZpZXdzL21wL2NvbXBvbmVudHMvd3gtdm9pY2UtcGxheS9tYWluLnZ1ZSc7DQppbXBvcnQgV3hWaWRlb1BsYXllciBmcm9tICdAL3ZpZXdzL21wL2NvbXBvbmVudHMvd3gtdmlkZW8tcGxheS9tYWluLnZ1ZSc7DQppbXBvcnQgeyBnZXRTaW1wbGVBY2NvdW50cyB9IGZyb20gIkAvYXBpL21wL2FjY291bnQiOw0KaW1wb3J0IHsgZ2V0TWF0ZXJpYWxQYWdlLCBkZWxldGVQZXJtYW5lbnRNYXRlcmlhbCB9IGZyb20gIkAvYXBpL21wL21hdGVyaWFsIjsNCmltcG9ydCB7IGdldEFjY2Vzc1Rva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNcE1hdGVyaWFsJywNCiAgY29tcG9uZW50czogew0KICAgIFd4Vm9pY2VQbGF5ZXIsDQogICAgV3hWaWRlb1BsYXllcg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0eXBlOiAnaW1hZ2UnLA0KICAgICAgLy8g6YGu572p5bGCDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tg0KICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwNCiAgICAgIC8vIOaAu+adoeaVsA0KICAgICAgdG90YWw6IDAsDQogICAgICAvLyDmlbDmja7liJfooagNCiAgICAgIGxpc3Q6IFtdLA0KICAgICAgLy8g5p+l6K+i5Y+C5pWwDQogICAgICBxdWVyeVBhcmFtczogew0KICAgICAgICBwYWdlTm86IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMCwNCiAgICAgICAgYWNjb3VudElkOiB1bmRlZmluZWQsDQogICAgICAgIHBlcm1hbmVudDogdHJ1ZSwNCiAgICAgIH0sDQoNCiAgICAgIGFjdGlvblVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSAgKyAnL2FkbWluLWFwaS9tcC9tYXRlcmlhbC91cGxvYWQtcGVybWFuZW50JywNCiAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgZ2V0QWNjZXNzVG9rZW4oKSB9LCAvLyDorr7nva7kuIrkvKDnmoTor7fmsYLlpLTpg6gNCiAgICAgIGZpbGVMaXN0OltdLA0KICAgICAgdXBsb2FkRGF0YTogew0KICAgICAgICAidHlwZSI6ICdpbWFnZScsDQogICAgICAgICJ0aXRsZSI6JycsDQogICAgICAgICJpbnRyb2R1Y3Rpb24iOicnDQogICAgICB9LA0KICAgICAgLy8gPT09IOinhumikeS4iuS8oO+8jOeLrOacieWPmOmHjyA9PT0NCiAgICAgIGRpYWxvZ1ZpZGVvVmlzaWJsZTogZmFsc2UsDQogICAgICBhZGRNYXRlcmlhbExvYWRpbmc6IGZhbHNlLA0KICAgICAgdXBsb2FkUnVsZXM6IHsgLy8g6KeG6aKR5LiK5Lyg55qE5qCh6aqM6KeE5YiZDQogICAgICAgIHRpdGxlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeagh+mimCcsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAgICAgaW50cm9kdWN0aW9uOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaPj+i/sCcsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAgIH0sDQoNCiAgICAgIC8vIOWFrOS8l+WPt+i0puWPt+WIl+ihqA0KICAgICAgYWNjb3VudHM6IFtdLA0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBnZXRTaW1wbGVBY2NvdW50cygpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgdGhpcy5hY2NvdW50cyA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAvLyDpu5jorqTpgInkuK3nrKzkuIDkuKoNCiAgICAgIGlmICh0aGlzLmFjY291bnRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5zZXRBY2NvdW50SWQodGhpcy5hY2NvdW50c1swXS5pZCk7DQogICAgICB9DQogICAgICAvLyDliqDovb3mlbDmja4NCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0g5YiX6KGo5p+l6K+iID09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgIC8qKiDorr7nva7otKblj7fnvJblj7cgKi8NCiAgICBzZXRBY2NvdW50SWQoYWNjb3VudElkKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLmFjY291bnRJZCA9IGFjY291bnRJZDsNCiAgICAgIHRoaXMudXBsb2FkRGF0YS5hY2NvdW50SWQgPSBhY2NvdW50SWQ7DQogICAgfSwNCiAgICAvKiog5p+l6K+i5YiX6KGoICovDQogICAgZ2V0TGlzdCgpIHsNCiAgICAgIC8vIOWmguaenOayoeaciemAieS4reWFrOS8l+WPt+i0puWPt++8jOWImei/m+ihjOaPkOekuuOAgg0KICAgICAgaWYgKCF0aGlzLnF1ZXJ5UGFyYW1zLmFjY291bnRJZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmnKrpgInkuK3lhazkvJflj7fvvIzml6Dms5Xmn6Xor6LojYnnqL/nrrEnKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCg0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgZ2V0TWF0ZXJpYWxQYWdlKHsNCiAgICAgICAgLi4udGhpcy5xdWVyeVBhcmFtcywNCiAgICAgICAgdHlwZTogdGhpcy50eXBlDQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0DQogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsDQogICAgICB9KS5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlUXVlcnkoKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VObyA9IDENCiAgICAgIC8vIOm7mOiupOmAieS4reesrOS4gOS4qg0KICAgICAgaWYgKHRoaXMucXVlcnlQYXJhbXMuYWNjb3VudElkKSB7DQogICAgICAgIHRoaXMuc2V0QWNjb3VudElkKHRoaXMucXVlcnlQYXJhbXMuYWNjb3VudElkKQ0KICAgICAgfQ0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9LA0KICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8NCiAgICByZXNldFF1ZXJ5KCkgew0KICAgICAgdGhpcy5yZXNldEZvcm0oJ3F1ZXJ5Rm9ybScpDQogICAgICAvLyDpu5jorqTpgInkuK3nrKzkuIDkuKoNCiAgICAgIGlmICh0aGlzLmFjY291bnRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5zZXRBY2NvdW50SWQodGhpcy5hY2NvdW50c1swXS5pZCkNCiAgICAgIH0NCiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKQ0KICAgIH0sDQogICAgaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgew0KICAgICAgLy8g6K6+572uIHR5cGUNCiAgICAgIHRoaXMudXBsb2FkRGF0YS50eXBlID0gdGFiLm5hbWUNCiAgICAgIC8vIOS7juesrOS4gOmhteW8gOWni+afpeivog0KICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOw0KICAgIH0sDQoNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0g5paH5Lu25LiK5LygID09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgIGJlZm9yZUltYWdlVXBsb2FkKGZpbGUpIHsNCiAgICAgIGNvbnN0IGlzVHlwZSA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2dpZicNCiAgICAgICAgICB8fCBmaWxlLnR5cGUgPT09ICdpbWFnZS9ibXAnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvanBnJzsNCiAgICAgIGlmICghaXNUeXBlKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+agvOW8j+S4jeWvuSEnKQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBjb25zdCBpc0x0ID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyDQogICAgICBpZiAoIWlzTHQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNIScpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgYmVmb3JlVm9pY2VVcGxvYWQoZmlsZSl7DQogICAgICBjb25zdCBpc1R5cGUgPSBmaWxlLnR5cGUgPT09ICdhdWRpby9tcDMnDQogICAgICAgICAgfHwgZmlsZS50eXBlID09PSAnYXVkaW8vd21hJw0KICAgICAgICAgIHx8IGZpbGUudHlwZSA9PT0gJ2F1ZGlvL3dhdicNCiAgICAgICAgICB8fCBmaWxlLnR5cGUgPT09ICdhdWRpby9hbXInOw0KICAgICAgY29uc3QgaXNMdCA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMg0KICAgICAgaWYgKCFpc1R5cGUpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg6K+t6Z+z5qC85byP5LiN5a+5IScpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGlmICghaXNMdCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDor63pn7PlpKflsI/kuI3og73otoXov4cgMk0hJykNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfSwNCiAgICBiZWZvcmVWaWRlb1VwbG9hZChmaWxlKXsNCiAgICAgIGNvbnN0IGlzVHlwZSA9IGZpbGUudHlwZSA9PT0gJ3ZpZGVvL21wNCcNCiAgICAgIGlmICghaXNUeXBlKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOinhumikeagvOW8j+S4jeWvuSEnKQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBjb25zdCBpc0x0ID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxMA0KICAgICAgaWYgKCFpc0x0KSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOinhumikeWkp+Wwj+S4jeiDvei2hei/hyAxME0hJykNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLmFkZE1hdGVyaWFsTG9hZGluZyA9IHRydWUNCiAgICAgIHJldHVybiAgdHJ1ZQ0KICAgIH0sDQogICAgaGFuZGxlVXBsb2FkU3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICB0aGlzLmFkZE1hdGVyaWFsTG9hZGluZyA9IGZhbHNlDQogICAgICBpZiAocmVzcG9uc2UuY29kZSAhPT0gMCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlh7rplJnvvJonICsgcmVzcG9uc2UubXNnKQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQoNCiAgICAgIC8vIOa4heepuuS4iuS8oOaXtueahOWQhOenjeaVsOaNrg0KICAgICAgdGhpcy5kaWFsb2dWaWRlb1Zpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy5maWxlTGlzdCA9IFtdDQogICAgICB0aGlzLnVwbG9hZERhdGEudGl0bGUgPSAnJw0KICAgICAgdGhpcy51cGxvYWREYXRhLmludHJvZHVjdGlvbiA9ICcnDQoNCiAgICAgIC8vIOWKoOi9veaVsOaNrg0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9LA0KICAgIC8vIOS4i+i9veaWh+S7tg0KICAgIGhhbmRsZURvd25sb2FkKHJvdykgew0KICAgICAgd2luZG93Lm9wZW4ocm93LnVybCwnX2JsYW5rJykNCiAgICB9LA0KICAgIC8vIOaPkOS6pCB2aWRlbyDmlrDlu7rnmoTooajljZUNCiAgICBzdWJtaXRWaWRlbygpIHsNCiAgICAgIHRoaXMuJHJlZnNbJ3VwbG9hZEZvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKCF2YWxpZCkgew0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZFZpZGVvLnN1Ym1pdCgpDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlQWRkVmlkZW8oKSB7DQogICAgICB0aGlzLnJlc2V0VmlkZW8oKTsNCiAgICAgIHRoaXMuZGlhbG9nVmlkZW9WaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQogICAgLyoqIOWPlua2iOaMiemSriAqLw0KICAgIGNhbmNlbFZpZGVvKCkgew0KICAgICAgdGhpcy5kaWFsb2dWaWRlb1Zpc2libGUgPSBmYWxzZTsNCiAgICAgIHRoaXMucmVzZXRWaWRlbygpOw0KICAgIH0sDQogICAgLyoqIOihqOWNlemHjee9riAqLw0KICAgIHJlc2V0VmlkZW8oKSB7DQogICAgICB0aGlzLmZpbGVMaXN0ID0gW10NCiAgICAgIHRoaXMudXBsb2FkRGF0YS50aXRsZSA9ICcnDQogICAgICB0aGlzLnVwbG9hZERhdGEuaW50cm9kdWN0aW9uID0gJycNCiAgICAgIHRoaXMucmVzZXRGb3JtKCJ1cGxvYWRGb3JtIik7DQogICAgfSwNCg0KICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PSDlhbblroPmk43kvZwgPT09PT09PT09PT09PT09PT09PT09PT09DQogICAgaGFuZGxlRGVsZXRlKGl0ZW0pIHsNCiAgICAgIGNvbnN0IGlkID0gaXRlbS5pZA0KICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbnu6fnu60/JykudGhlbihmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGRlbGV0ZVBlcm1hbmVudE1hdGVyaWFsKGlkKTsNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7DQogICAgfSwNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA6KA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/mp/material","sourcesContent":["<!--\r\nMIT License\r\n\r\nCopyright (c) 2020 www.joolun.com\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n  芋道源码：\r\n  ① 清理冗余 css 内容，清理冗余 data 变量\r\n  ② 美化样式，支持播放，提升使用体验\r\n  ③ 优化代码，特别是方法名和变量，提升可读性\r\n-->\r\n<template>\r\n  <div class=\"app-container\">\r\n    <doc-alert title=\"公众号素材\" url=\"https://doc.iocoder.cn/mp/material/\" />\r\n\r\n    <!-- 搜索工作栏 -->\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"公众号\" prop=\"accountId\">\r\n        <el-select v-model=\"queryParams.accountId\" placeholder=\"请选择公众号\">\r\n          <el-option v-for=\"item in accounts\" :key=\"parseInt(item.id)\" :label=\"item.name\" :value=\"parseInt(item.id)\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-tabs v-model=\"type\" @tab-click=\"handleClick\">\r\n      <!-- tab 1：图片  -->\r\n      <el-tab-pane name=\"image\">\r\n        <span slot=\"label\"><i class=\"el-icon-picture\"></i> 图片</span>\r\n        <div class=\"add_but\" v-hasPermi=\"['mp:material:upload-permanent']\">\r\n          <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                     :before-upload=\"beforeImageUpload\" :on-success=\"handleUploadSuccess\">\r\n            <el-button size=\"mini\" type=\"primary\">点击上传</el-button>\r\n            <sapn slot=\"tip\" class=\"el-upload__tip\" style=\"margin-left: 5px\">支持 bmp/png/jpeg/jpg/gif 格式，大小不超过 2M</sapn>\r\n          </el-upload>\r\n        </div>\r\n        <div class=\"waterfall\" v-loading=\"loading\">\r\n          <div class=\"waterfall-item\" v-for=\"item in list\" :key='item.id'>\r\n            <a target=\"_blank\" :href=\"item.url\">\r\n              <img class=\"material-img\" :src=\"item.url\">\r\n              <div class=\"item-name\">{{item.name}}</div>\r\n            </a>\r\n            <el-row class=\"ope-row\">\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"handleDelete(item)\"\r\n                         v-hasPermi=\"['mp:material:delete']\"/>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n        <!-- 分页组件 -->\r\n        <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\"\r\n                    @pagination=\"getList\"/>\r\n      </el-tab-pane>\r\n\r\n      <!-- tab 2：语音  -->\r\n      <el-tab-pane name=\"voice\">\r\n        <span slot=\"label\"><i class=\"el-icon-microphone\"></i> 语音</span>\r\n        <div class=\"add_but\" v-hasPermi=\"['mp:material:upload-permanent']\">\r\n          <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                  :on-success=\"handleUploadSuccess\" :before-upload=\"beforeVoiceUpload\">\r\n            <el-button size=\"mini\" type=\"primary\">点击上传</el-button>\r\n            <span slot=\"tip\" class=\"el-upload__tip\" style=\"margin-left: 5px\">格式支持 mp3/wma/wav/amr，文件大小不超过 2M，播放长度不超过 60s</span>\r\n          </el-upload>\r\n        </div>\r\n        <el-table :data=\"list\" stripe border v-loading=\"loading\" style=\"margin-top: 10px;\">\r\n          <el-table-column label=\"编号\" align=\"center\" prop=\"mediaId\" />\r\n          <el-table-column label=\"文件名\" align=\"center\" prop=\"name\" />\r\n          <el-table-column label=\"语音\" align=\"center\">\r\n            <template v-slot=\"scope\">\r\n              <wx-voice-player :url=\"scope.row.url\" />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"上传时间\" align=\"center\" prop=\"createTime\" width=\"180\">\r\n            <template v-slot=\"scope\">\r\n              <span>{{ parseTime(scope.row.createTime) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n            <template v-slot=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-download\" size=\"small\" plain @click=\"handleDownload(scope.row)\">下载</el-button>\r\n              <el-button type=\"text\" icon=\"el-icon-delete\" size=\"small\" plain @click=\"handleDelete(scope.row)\"\r\n                         v-hasPermi=\"['mp:material:delete']\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页组件 -->\r\n        <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\"\r\n                    @pagination=\"getList\"/>\r\n      </el-tab-pane>\r\n\r\n      <!-- tab 3：视频 -->\r\n      <el-tab-pane name=\"video\">\r\n        <span slot=\"label\"><i class=\"el-icon-video-play\"></i> 视频</span>\r\n        <div class=\"add_but\" v-hasPermi=\"['mp:material:upload-permanent']\">\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"handleAddVideo\">新建视频</el-button>\r\n        </div>\r\n        <!-- 新建视频的弹窗 -->\r\n        <el-dialog title=\"新建视频\" :visible.sync=\"dialogVideoVisible\" append-to-body width=\"600px\"\r\n                   v-loading=\"addMaterialLoading\">\r\n          <el-upload :action=\"actionUrl\" :headers=\"headers\" multiple :limit=\"1\" :file-list=\"fileList\" :data=\"uploadData\"\r\n                     :before-upload=\"beforeVideoUpload\" :on-success=\"handleUploadSuccess\"\r\n                     ref=\"uploadVideo\" :auto-upload=\"false\">\r\n            <el-button slot=\"trigger\" size=\"mini\" type=\"primary\">选择视频</el-button>\r\n            <span class=\"el-upload__tip\" style=\"margin-left: 10px;\">格式支持 MP4，文件大小不超过 10MB</span>\r\n          </el-upload>\r\n          <el-form :model=\"uploadData\" :rules=\"uploadRules\" ref=\"uploadForm\" label-width=\"80px\">\r\n            <el-row>\r\n              <el-form-item label=\"标题\" prop=\"title\">\r\n                <el-input v-model=\"uploadData.title\" placeholder=\"标题将展示在相关播放页面，建议填写清晰、准确、生动的标题\" />\r\n              </el-form-item>\r\n            </el-row>\r\n            <el-row>\r\n              <el-form-item label=\"描述\" prop=\"introduction\">\r\n                <el-input :rows=\"3\" type=\"textarea\" v-model=\"uploadData.introduction\"\r\n                          placeholder=\"介绍语将展示在相关播放页面，建议填写简洁明确、有信息量的内容\" />\r\n              </el-form-item>\r\n            </el-row>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelVideo\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"submitVideo\">提 交</el-button>\r\n          </div>\r\n        </el-dialog>\r\n        <el-table :data=\"list\" stripe border v-loading=\"loading\" style=\"margin-top: 10px;\">\r\n          <el-table-column label=\"编号\" align=\"center\" prop=\"mediaId\" />\r\n          <el-table-column label=\"文件名\" align=\"center\" prop=\"name\" />\r\n          <el-table-column label=\"标题\" align=\"center\" prop=\"title\" />\r\n          <el-table-column label=\"介绍\" align=\"center\" prop=\"introduction\" />\r\n          <el-table-column label=\"视频\" align=\"center\">\r\n            <template v-slot=\"scope\">\r\n              <wx-video-player :url=\"scope.row.url\" />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"上传时间\" align=\"center\" prop=\"createTime\" width=\"180\">\r\n            <template v-slot=\"scope\">\r\n              <span>{{ parseTime(scope.row.createTime) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" class-name=\"small-padding fixed-width\">\r\n            <template v-slot=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-download\" size=\"small\" plain @click=\"handleDownload(scope.row)\">下载</el-button>\r\n              <el-button type=\"text\" icon=\"el-icon-delete\" size=\"small\" plain @click=\"handleDelete(scope.row)\"\r\n                         v-hasPermi=\"['mp:material:delete']\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页组件 -->\r\n        <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\"\r\n                    @pagination=\"getList\"/>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WxVoicePlayer from '@/views/mp/components/wx-voice-play/main.vue';\r\nimport WxVideoPlayer from '@/views/mp/components/wx-video-play/main.vue';\r\nimport { getSimpleAccounts } from \"@/api/mp/account\";\r\nimport { getMaterialPage, deletePermanentMaterial } from \"@/api/mp/material\";\r\nimport { getAccessToken } from '@/utils/auth'\r\n\r\nexport default {\r\n  name: 'MpMaterial',\r\n  components: {\r\n    WxVoicePlayer,\r\n    WxVideoPlayer\r\n  },\r\n  data() {\r\n    return {\r\n      type: 'image',\r\n      // 遮罩层\r\n      loading: false,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 数据列表\r\n      list: [],\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        accountId: undefined,\r\n        permanent: true,\r\n      },\r\n\r\n      actionUrl: process.env.VUE_APP_BASE_API  + '/admin-api/mp/material/upload-permanent',\r\n      headers: { Authorization: \"Bearer \" + getAccessToken() }, // 设置上传的请求头部\r\n      fileList:[],\r\n      uploadData: {\r\n        \"type\": 'image',\r\n        \"title\":'',\r\n        \"introduction\":''\r\n      },\r\n      // === 视频上传，独有变量 ===\r\n      dialogVideoVisible: false,\r\n      addMaterialLoading: false,\r\n      uploadRules: { // 视频上传的校验规则\r\n        title: [{ required: true, message: '请输入标题', trigger: 'blur' }],\r\n        introduction: [{ required: true, message: '请输入描述', trigger: 'blur' }],\r\n      },\r\n\r\n      // 公众号账号列表\r\n      accounts: [],\r\n    }\r\n  },\r\n  created() {\r\n    getSimpleAccounts().then(response => {\r\n      this.accounts = response.data;\r\n      // 默认选中第一个\r\n      if (this.accounts.length > 0) {\r\n        this.setAccountId(this.accounts[0].id);\r\n      }\r\n      // 加载数据\r\n      this.getList();\r\n    })\r\n  },\r\n  methods: {\r\n    // ======================== 列表查询 ========================\r\n    /** 设置账号编号 */\r\n    setAccountId(accountId) {\r\n      this.queryParams.accountId = accountId;\r\n      this.uploadData.accountId = accountId;\r\n    },\r\n    /** 查询列表 */\r\n    getList() {\r\n      // 如果没有选中公众号账号，则进行提示。\r\n      if (!this.queryParams.accountId) {\r\n        this.$message.error('未选中公众号，无法查询草稿箱')\r\n        return false\r\n      }\r\n\r\n      this.loading = true\r\n      getMaterialPage({\r\n        ...this.queryParams,\r\n        type: this.type\r\n      }).then(response => {\r\n        this.list = response.data.list\r\n        this.total = response.data.total\r\n      }).finally(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNo = 1\r\n      // 默认选中第一个\r\n      if (this.queryParams.accountId) {\r\n        this.setAccountId(this.queryParams.accountId)\r\n      }\r\n      this.getList()\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm('queryForm')\r\n      // 默认选中第一个\r\n      if (this.accounts.length > 0) {\r\n        this.setAccountId(this.accounts[0].id)\r\n      }\r\n      this.handleQuery()\r\n    },\r\n    handleClick(tab, event) {\r\n      // 设置 type\r\n      this.uploadData.type = tab.name\r\n      // 从第一页开始查询\r\n      this.handleQuery();\r\n    },\r\n\r\n    // ======================== 文件上传 ========================\r\n    beforeImageUpload(file) {\r\n      const isType = file.type === 'image/jpeg'\r\n          || file.type === 'image/png'\r\n          || file.type === 'image/gif'\r\n          || file.type === 'image/bmp'\r\n          || file.type === 'image/jpg';\r\n      if (!isType) {\r\n        this.$message.error('上传图片格式不对!')\r\n        return false;\r\n      }\r\n      const isLt = file.size / 1024 / 1024 < 2\r\n      if (!isLt) {\r\n        this.$message.error('上传图片大小不能超过 2M!')\r\n        return false;\r\n      }\r\n      this.loading = true\r\n      return true;\r\n    },\r\n    beforeVoiceUpload(file){\r\n      const isType = file.type === 'audio/mp3'\r\n          || file.type === 'audio/wma'\r\n          || file.type === 'audio/wav'\r\n          || file.type === 'audio/amr';\r\n      const isLt = file.size / 1024 / 1024 < 2\r\n      if (!isType) {\r\n        this.$message.error('上传语音格式不对!')\r\n        return false;\r\n      }\r\n      if (!isLt) {\r\n        this.$message.error('上传语音大小不能超过 2M!')\r\n        return false;\r\n      }\r\n      this.loading = true\r\n      return true;\r\n    },\r\n    beforeVideoUpload(file){\r\n      const isType = file.type === 'video/mp4'\r\n      if (!isType) {\r\n        this.$message.error('上传视频格式不对!')\r\n        return false;\r\n      }\r\n      const isLt = file.size / 1024 / 1024 < 10\r\n      if (!isLt) {\r\n        this.$message.error('上传视频大小不能超过 10M!')\r\n        return false\r\n      }\r\n      this.addMaterialLoading = true\r\n      return  true\r\n    },\r\n    handleUploadSuccess(response, file, fileList) {\r\n      this.loading = false\r\n      this.addMaterialLoading = false\r\n      if (response.code !== 0) {\r\n        this.$message.error('上传出错：' + response.msg)\r\n        return false;\r\n      }\r\n\r\n      // 清空上传时的各种数据\r\n      this.dialogVideoVisible = false\r\n      this.fileList = []\r\n      this.uploadData.title = ''\r\n      this.uploadData.introduction = ''\r\n\r\n      // 加载数据\r\n      this.getList()\r\n    },\r\n    // 下载文件\r\n    handleDownload(row) {\r\n      window.open(row.url,'_blank')\r\n    },\r\n    // 提交 video 新建的表单\r\n    submitVideo() {\r\n      this.$refs['uploadForm'].validate((valid) => {\r\n        if (!valid) {\r\n          return false;\r\n        }\r\n        this.$refs.uploadVideo.submit()\r\n      })\r\n    },\r\n    handleAddVideo() {\r\n      this.resetVideo();\r\n      this.dialogVideoVisible = true\r\n    },\r\n    /** 取消按钮 */\r\n    cancelVideo() {\r\n      this.dialogVideoVisible = false;\r\n      this.resetVideo();\r\n    },\r\n    /** 表单重置 */\r\n    resetVideo() {\r\n      this.fileList = []\r\n      this.uploadData.title = ''\r\n      this.uploadData.introduction = ''\r\n      this.resetForm(\"uploadForm\");\r\n    },\r\n\r\n    // ======================== 其它操作 ========================\r\n    handleDelete(item) {\r\n      const id = item.id\r\n      this.$modal.confirm('此操作将永久删除该文件, 是否继续?').then(function() {\r\n        return deletePermanentMaterial(id);\r\n      }).then(() => {\r\n        this.getList();\r\n        this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => {});\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/*瀑布流样式*/\r\n.waterfall {\r\n  width: 100%;\r\n  column-gap:10px;\r\n  column-count: 5;\r\n  margin-top: 10px; /* 芋道源码：增加 10px，避免顶着上面 */\r\n}\r\n.waterfall-item {\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  break-inside: avoid;\r\n  border: 1px solid #eaeaea;\r\n}\r\n.material-img {\r\n  width: 100%;\r\n}\r\np {\r\n  line-height: 30px;\r\n}\r\n@media (min-width: 992px) and (max-width: 1300px) {\r\n  .waterfall {\r\n    column-count: 3;\r\n  }\r\n  p {\r\n    color:red;\r\n  }\r\n}\r\n@media (min-width: 768px) and (max-width: 991px) {\r\n  .waterfall {\r\n    column-count: 2;\r\n  }\r\n  p {\r\n    color: orange;\r\n  }\r\n}\r\n@media (max-width: 767px) {\r\n  .waterfall {\r\n    column-count: 1;\r\n  }\r\n}\r\n/*瀑布流样式*/\r\n</style>\r\n"]}]}