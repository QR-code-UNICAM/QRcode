{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mall\\trade\\order\\detail.vue?vue&type=style&index=0&id=613313ae&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\mall\\trade\\order\\detail.vue","mtime":1704630437979},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CjpkZWVwKC5lbC1kZXNjcmlwdGlvbnMpewogICY6bm90KDpudGgtY2hpbGQoMSkpIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgfQogIC5lbC1kZXNjcmlwdGlvbnNfX3RpdGxlewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAmOjpiZWZvcmV7CiAgICAgIGNvbnRlbnQ6ICcnOwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgICAgd2lkdGg6IDNweDsKICAgICAgaGVpZ2h0OiAyMHB4OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5RUZGOwogICAgfQogIH0KICAuZWwtZGVzY3JpcHRpb25zLWl0ZW1fX2NvbnRhaW5lcnsKICAgIG1hcmdpbjogMCAxMHB4OwogICAgLm5vLWNvbG9uewogICAgICBtYXJnaW46IDA7CiAgICAgICY6OmFmdGVyewogICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";AAwRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/views/mall/trade/order","sourcesContent":["<template>\r\n  <div class=\"app-container order-detail-page\">\r\n    <!-- 订单信息 -->\r\n    <el-descriptions title=\"订单信息\">\r\n      <el-descriptions-item label=\"订单号\">{{ order.no }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"配送方式\">物流配送</el-descriptions-item> <!-- TODO 芋艿：待实现 -->\r\n      <el-descriptions-item label=\"营销活动\">物流配送</el-descriptions-item> <!-- TODO 芋艿：待实现 -->\r\n      <el-descriptions-item label=\"订单类型\">\r\n        <dict-tag :type=\"DICT_TYPE.TRADE_ORDER_TYPE\" :value=\"order.type\" />\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label=\"收货人\">{{ order.receiverName }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"买家留言\">{{ order.userRemark }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"订单来源\">\r\n        <dict-tag :type=\"DICT_TYPE.TERMINAL\" :value=\"order.terminal\" />\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label=\"联系电话\">{{ order.receiverMobile }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"商家备注\">{{ order.remark }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"支付单号\">{{ order.payOrderId }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"付款方式\">\r\n        <dict-tag :type=\"DICT_TYPE.PAY_CHANNEL_CODE\" :value=\"order.payChannelCode\" />\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label=\"买家\">{{ order.user.nickname }}</el-descriptions-item> <!-- TODO 芋艿：待实现：跳转会员 -->\r\n      <el-descriptions-item label=\"收货地址\">\r\n        {{ order.receiverAreaName }} &nbsp; {{ order.receiverDetailAddress }} &nbsp;\r\n        <el-link v-clipboard:copy=\"order.receiverAreaName + ' ' + order.receiverDetailAddress\"\r\n                 v-clipboard:success=\"clipboardSuccess\" icon=\"el-icon-document-copy\" type=\"primary\"/>\r\n      </el-descriptions-item>\r\n    </el-descriptions>\r\n\r\n    <!-- 订单状态 -->\r\n    <el-descriptions title=\"订单状态\" :column=\"1\">\r\n      <el-descriptions-item label=\"订单状态\">\r\n        <dict-tag :type=\"DICT_TYPE.TRADE_ORDER_STATUS\" :value=\"order.status\" />\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label-class-name=\"no-colon\">\r\n        <el-button type=\"primary\" size=\"small\">调整价格</el-button>  <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">备注</el-button> <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">发货</el-button> <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">关闭订单</el-button>  <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">修改地址</el-button>  <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">打印电子面单</el-button>  <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">打印发货单</el-button>  <!-- TODO 芋艿：待实现 -->\r\n        <el-button type=\"primary\" size=\"small\">确认收货</el-button>  <!-- TODO 芋艿：待实现 -->\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label=\"提醒\" label-style=\"color: red\">\r\n        买家付款成功后，货款将直接进入您的商户号（微信、支付宝）<br />\r\n        请及时关注你发出的包裹状态，确保可以配送至买家手中 <br />\r\n        如果买家表示没收到货或货物有问题，请及时联系买家处理，友好协商\r\n      </el-descriptions-item>\r\n    </el-descriptions>\r\n\r\n    <!-- 物流信息 TODO -->\r\n\r\n    <!-- 商品信息 -->\r\n    <el-descriptions title=\"商品信息\" :column=\"6\">\r\n      <el-descriptions-item labelClassName=\"no-colon\">\r\n        <el-table :data=\"order.items\" border>\r\n          <el-table-column prop=\"spuName\" label=\"商品\" width=\"700\">\r\n            <template v-slot=\"{ row }\">\r\n              {{row.spuName}}\r\n              <el-tag size=\"medium\" v-for=\"property in row.properties\" :key=\"property.propertyId\">\r\n                {{property.propertyName}}：{{property.valueName}}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"originalUnitPrice\" label=\"单价(元)\" width=\"180\">\r\n            <template v-slot=\"{ row }\">\r\n              ￥{{ (row.originalUnitPrice / 100.0).toFixed(2) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"count\" label=\"数量\" width=\"180\"/>\r\n          <el-table-column prop=\"originalPrice\" label=\"小计（元）\" width=\"180\">\r\n            <template v-slot=\"{ row }\">\r\n              ￥{{ (row.originalPrice / 100.0).toFixed(2) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"afterSaleStatus\" label=\"退款状态\">\r\n            <template v-slot=\"{ row }\">\r\n              <dict-tag :type=\"DICT_TYPE.TRADE_ORDER_ITEM_AFTER_SALE_STATUS\" :value=\"row.afterSaleStatus\" />\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-descriptions-item>\r\n      <el-descriptions-item v-for=\"(item,index) in 5\" label-class-name=\"no-colon\" :key=\"item\" /> <!-- 占位 -->\r\n      <el-descriptions-item label=\"商品总额\">￥{{ (order.originalPrice / 100.0).toFixed(2) }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"运费金额\">￥{{ (order.deliveryPrice / 100.0).toFixed(2) }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"订单调价\">￥{{ (order.adjustPrice / 100.0).toFixed(2) }}</el-descriptions-item>\r\n      <el-descriptions-item label=\"商品优惠\" label-style=\"color: red\">\r\n        ￥{{ ((order.originalPrice - order.originalPrice) / 100.0).toFixed(2) }}\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label=\"订单优惠\" label-style=\"color: red\">\r\n        ￥{{ (order.discountPrice / 100.0).toFixed(2) }}\r\n      </el-descriptions-item>\r\n      <el-descriptions-item label=\"积分抵扣\" label-style=\"color: red\">\r\n        ￥{{ (order.pointPrice / 100.0).toFixed(2) }}\r\n      </el-descriptions-item>\r\n      <el-descriptions-item v-for=\"(item,index) in 5\" label-class-name=\"no-colon\" :key=\"item\" /> <!-- 占位 -->\r\n      <el-descriptions-item label=\"应付金额\">\r\n        ￥{{ (order.payPrice / 100.0).toFixed(2) }}\r\n      </el-descriptions-item>\r\n    </el-descriptions>\r\n\r\n    <template v-for=\"(group, index) in detailGroups\">\r\n      <el-descriptions v-bind=\"group.groupProps\" :key=\"`group_${index}`\" :title=\"group.title\">\r\n\r\n        <!-- 订单操作日志 -->\r\n        <el-descriptions-item  v-if=\"group.key === 'orderLog'\" labelClassName=\"no-colon\">\r\n          <el-timeline>\r\n            <el-timeline-item\r\n              v-for=\"(activity, index) in detailInfo[group.key]\"\r\n              :key=\"index\"\r\n              :timestamp=\"activity.timestamp\"\r\n            >\r\n              {{activity.content}}\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </el-descriptions-item>\r\n\r\n        <!-- 物流信息 -->\r\n        <el-descriptions-item v-if=\"group.key === 'expressInfo'\" labelClassName=\"no-colon\">\r\n          <el-tabs type=\"card\">\r\n            <!-- 循环包裹物流信息 -->\r\n            <el-tab-pane v-for=\"(pkgInfo, pInIdx) in detailInfo[group.key]\" :key=\"`pkgInfo_${pInIdx}`\" :label=\"pkgInfo.label\">\r\n              <!-- 包裹详情 -->\r\n              <el-descriptions>\r\n                <el-descriptions-item v-for=\"(pkgChild, pkgCIdx) in group.children\" v-bind=\"pkgChild.childProps\" :key=\"`pkgChild_${pkgCIdx}`\" :label=\"pkgChild.label\">\r\n                  <!-- 包裹商品列表 -->\r\n                  <template v-if=\"pkgChild.valueKey === 'goodsList' && pkgInfo[pkgChild.valueKey]\">\r\n                    <div v-for=\"(goodInfo, goodInfoIdx) in pkgInfo[pkgChild.valueKey]\" :key=\"`goodInfo_${goodInfoIdx}`\" style=\"display: flex;\">\r\n                      <el-image\r\n                        style=\"width: 100px;height: 100px;flex: none\"\r\n                        :src=\"goodInfo.imgUrl\">\r\n                      </el-image>\r\n                      <el-descriptions :column=\"1\">\r\n                        <el-descriptions-item labelClassName=\"no-colon\">{{goodInfo.name}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"数量\">{{goodInfo.count}}</el-descriptions-item>\r\n                      </el-descriptions>\r\n                    </div>\r\n                  </template>\r\n\r\n                  <!-- 包裹物流详情 -->\r\n                  <el-timeline v-else-if=\"pkgChild.valueKey==='wlxq'\">\r\n                    <el-timeline-item\r\n                      v-for=\"(activity, index) in pkgInfo[pkgChild.valueKey]\"\r\n                      :key=\"index\"\r\n                      :timestamp=\"activity.timestamp\"\r\n                    >\r\n                      {{activity.content}}\r\n                    </el-timeline-item>\r\n                  </el-timeline>\r\n\r\n                  <template v-else>\r\n                    {{pkgInfo[pkgChild.valueKey]}}\r\n                  </template>\r\n                </el-descriptions-item>\r\n              </el-descriptions>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderDetail } from \"@/api/mall/trade/order\";\r\n\r\nexport default {\r\n  name: \"TradeOrderDetail\",\r\n  data () {\r\n    return {\r\n      detailGroups: [\r\n        {\r\n          title: '物流信息',\r\n          key: 'expressInfo',\r\n          children: [\r\n            { label: '发货时间', valueKey: 'fhsj'},\r\n            { label: '物流公司', valueKey: 'wlgs'},\r\n            { label: '运单号', valueKey: 'ydh'},\r\n            { label: '物流状态', valueKey: 'wlzt', childProps: { span: 3 }},\r\n            { label: '物流详情', valueKey: 'wlxq'}\r\n          ]\r\n        },\r\n        {\r\n          title: '订单操作日志',\r\n          key: 'orderLog'\r\n        }\r\n      ],\r\n      detailInfo: {\r\n        expressInfo: [ // 物流信息\r\n          {\r\n            label: '包裹1',\r\n            name: 'bg1',\r\n            fhsj: '2022-11-03 16:50:45',\r\n            wlgs: '极兔',\r\n            ydh: '2132123',\r\n            wlzt: '不支持此快递公司',\r\n            wlxq:  [\r\n              {\r\n                content: '正在派送途中,请您准备签收(派件人:王涛,电话:13854563814)',\r\n                timestamp: '2018-04-15 15:00:16'\r\n              },\r\n              {\r\n                content: '快件到达 【烟台龙口东江村委营业点】',\r\n                timestamp: '2018-04-13 14:54:19'\r\n              },\r\n              {\r\n                content: '快件已发车',\r\n                timestamp: '2018-04-11 12:55:52'\r\n              },\r\n              {\r\n                content: '快件已发车',\r\n                timestamp: '2018-04-11 12:55:52'\r\n              },\r\n              {\r\n                content: '快件已发车',\r\n                timestamp: '2018-04-11 12:55:52'\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        orderLog: [ // 订单操作日志\r\n          {\r\n            content: '买家【乌鸦】关闭了订单',\r\n            timestamp: '2018-04-15 15:00:16'\r\n          },\r\n          {\r\n            content: '买家【乌鸦】下单了',\r\n            timestamp: '2018-04-15 15:00:16'\r\n          }\r\n        ],\r\n        goodsInfo: [] // 商品详情tableData\r\n      },\r\n      order: {\r\n        items: [],\r\n        user: {},\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    getOrderDetail(this.$route.query.id).then(res => {\r\n      this.order = res.data\r\n    })\r\n  },\r\n  methods: {\r\n    clipboardSuccess() {\r\n      this.$modal.msgSuccess(\"复制成功\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  :deep(.el-descriptions){\r\n    &:not(:nth-child(1)) {\r\n      margin-top: 20px;\r\n    }\r\n    .el-descriptions__title{\r\n      display: flex;\r\n      align-items: center;\r\n      &::before{\r\n        content: '';\r\n        display: inline-block;\r\n        margin-right: 10px;\r\n        width: 3px;\r\n        height: 20px;\r\n        background-color: #409EFF;\r\n      }\r\n    }\r\n    .el-descriptions-item__container{\r\n      margin: 0 10px;\r\n      .no-colon{\r\n        margin: 0;\r\n        &::after{\r\n          content: ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}