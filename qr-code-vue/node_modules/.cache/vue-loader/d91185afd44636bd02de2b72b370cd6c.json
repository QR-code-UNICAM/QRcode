{"remainingRequest":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\bpm\\taskAssignRule\\taskAssignRuleDialog.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\src\\views\\bpm\\taskAssignRule\\taskAssignRuleDialog.vue","mtime":1704630437851},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\89425\\IdeaProjects\\qr-code-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge0RJQ1RfVFlQRSwgZ2V0RGljdERhdGFzfSBmcm9tICJAL3V0aWxzL2RpY3QiOw0KaW1wb3J0IHtjcmVhdGVUYXNrQXNzaWduUnVsZSwgZ2V0VGFza0Fzc2lnblJ1bGVMaXN0LCB1cGRhdGVUYXNrQXNzaWduUnVsZX0gZnJvbSAiQC9hcGkvYnBtL3Rhc2tBc3NpZ25SdWxlIjsNCmltcG9ydCB7bGlzdFNpbXBsZVJvbGVzfSBmcm9tICJAL2FwaS9zeXN0ZW0vcm9sZSI7DQppbXBvcnQge2xpc3RTaW1wbGVEZXB0c30gZnJvbSAiQC9hcGkvc3lzdGVtL2RlcHQiOw0KDQppbXBvcnQgVHJlZXNlbGVjdCBmcm9tICJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCI7DQppbXBvcnQgIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzIjsNCmltcG9ydCB7bGlzdFNpbXBsZVBvc3RzfSBmcm9tICJAL2FwaS9zeXN0ZW0vcG9zdCI7DQppbXBvcnQge2xpc3RTaW1wbGVVc2Vyc30gZnJvbSAiQC9hcGkvc3lzdGVtL3VzZXIiOw0KaW1wb3J0IHtsaXN0U2ltcGxlVXNlckdyb3Vwc30gZnJvbSAiQC9hcGkvYnBtL3VzZXJHcm91cCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkJwbVRhc2tBc3NpZ25SdWxlIiwNCiAgY29tcG9uZW50czogew0KICAgIFRyZWVzZWxlY3QNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g5aaC5LiL5Y+C5pWw77yM5Y+v5Lyg6YCSDQogICAgICBtb2RlbElkOiB1bmRlZmluZWQsIC8vIOa1geeoi+aooeWei+eahOe8luWPt+OAguWmguaenCBtb2RlbElkIOmdnuepuu+8jOWImeeUqOS6jua1geeoi+aooeWei+eahOafpeeci+S4jumFjee9rg0KICAgICAgcHJvY2Vzc0RlZmluaXRpb25JZDogdW5kZWZpbmVkLCAvLyDmtYHnqIvlrprkuYnnmoTnvJblj7fjgILlpoLmnpwgcHJvY2Vzc0RlZmluaXRpb25JZCDpnZ7nqbrvvIzliJnnlKjkuo7mtYHnqIvlrprkuYnnmoTmn6XnnIvvvIzkuI3mlK/mjIHphY3nva4NCiAgICAgIHZpc2libGU6IGZhbHNlLA0KDQogICAgICAvLyDku7vliqHliIbphY3op4TliJnooajljZUNCiAgICAgIHJvdzogdW5kZWZpbmVkLCAvLyDpgInkuK3nmoTmtYHnqIvmqKHlnosNCiAgICAgIGxpc3Q6IFtdLCAvLyDpgInkuK3mtYHnqIvmqKHlnovnmoTku7vliqHliIbphY3op4TliJnku6wNCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvLyDliqDovb3kuK0NCiAgICAgIG9wZW46IGZhbHNlLCAvLyDmmK/lkKbmiZPlvIANCiAgICAgIGZvcm06IHt9LCAvLyDooajljZUNCiAgICAgIHJ1bGVzOiB7IC8vIOihqOWNleagoemqjOinhOWImQ0KICAgICAgICB0eXBlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuinhOWImeexu+Wei+S4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UiIH1dLA0KICAgICAgICByb2xlSWRzOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5oyH5a6a6KeS6Imy5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSIgfV0sDQogICAgICAgIGRlcHRJZHM6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmjIflrprpg6jpl6jkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9XSwNCiAgICAgICAgcG9zdElkczogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuaMh+WumuWyl+S9jeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UifV0sDQogICAgICAgIHVzZXJJZHM6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmjIflrprnlKjmiLfkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIn1dLA0KICAgICAgICB1c2VyR3JvdXBJZHM6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmjIflrprnlKjmiLfnu4TkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIn1dLA0KICAgICAgICBzY3JpcHRzOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5oyH5a6a6ISa5pys5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSJ9XSwNCiAgICAgIH0sDQoNCiAgICAgIC8vIOWQhOenjeS4i+aLieahhg0KICAgICAgcm9sZU9wdGlvbnM6IFtdLA0KICAgICAgZGVwdE9wdGlvbnM6IFtdLA0KICAgICAgZGVwdFRyZWVPcHRpb25zOiBbXSwNCiAgICAgIHBvc3RPcHRpb25zOiBbXSwNCiAgICAgIHVzZXJPcHRpb25zOiBbXSwNCiAgICAgIHVzZXJHcm91cE9wdGlvbnM6IFtdLA0KDQogICAgICAvLyDmlbDmja7lrZflhbgNCiAgICAgIG1vZGVsRm9ybVR5cGVEaWN0RGF0YXM6IGdldERpY3REYXRhcyhESUNUX1RZUEUuQlBNX01PREVMX0ZPUk1fVFlQRSksDQogICAgICB0YXNrQXNzaWduUnVsZVR5cGVEaWN0RGF0YXM6IGdldERpY3REYXRhcyhESUNUX1RZUEUuQlBNX1RBU0tfQVNTSUdOX1JVTEVfVFlQRSksDQogICAgICB0YXNrQXNzaWduU2NyaXB0RGljdERhdGFzOiBnZXREaWN0RGF0YXMoRElDVF9UWVBFLkJQTV9UQVNLX0FTU0lHTl9TQ1JJUFQpLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0TW9kZWwobW9kZWxJZCkgew0KICAgICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDsNCiAgICAgIHRoaXMucHJvY2Vzc0RlZmluaXRpb25JZCA9IHVuZGVmaW5lZDsNCg0KICAgICAgLy8g5Yid5aeL5YyW5omA5pyJ5LiL5ouJ5qGGDQogICAgICB0aGlzLmluaXQwKCk7DQogICAgfSwNCiAgICBpbml0UHJvY2Vzc0RlZmluaXRpb24ocHJvY2Vzc0RlZmluaXRpb25JZCkgew0KICAgICAgdGhpcy5tb2RlbElkID0gdW5kZWZpbmVkOw0KICAgICAgdGhpcy5wcm9jZXNzRGVmaW5pdGlvbklkID0gcHJvY2Vzc0RlZmluaXRpb25JZDsNCg0KICAgICAgLy8g5Yid5aeL5YyW5omA5pyJ5LiL5ouJ5qGGDQogICAgICB0aGlzLmluaXQwKCk7DQogICAgfSwNCiAgICAvKiog5Yid5aeL5YyWICovDQogICAgaW5pdDAoKSB7DQogICAgICAvLyDorr7nva7lj6/op4ENCiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7DQogICAgICAvLyDojrflvpfliJfooagNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KDQogICAgICAvLyDojrflvpfop5LoibLliJfooagNCiAgICAgIHRoaXMucm9sZU9wdGlvbnMgPSBbXTsNCiAgICAgIGxpc3RTaW1wbGVSb2xlcygpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnJvbGVPcHRpb25zLnB1c2goLi4ucmVzcG9uc2UuZGF0YSk7DQogICAgICB9KTsNCiAgICAgIC8vIOiOt+W+l+mDqOmXqOWIl+ihqA0KICAgICAgdGhpcy5kZXB0T3B0aW9ucyA9IFtdOw0KICAgICAgdGhpcy5kZXB0VHJlZU9wdGlvbnMgPSBbXTsNCiAgICAgIGxpc3RTaW1wbGVEZXB0cygpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmRlcHRPcHRpb25zLnB1c2goLi4ucmVzcG9uc2UuZGF0YSk7DQogICAgICAgIHRoaXMuZGVwdFRyZWVPcHRpb25zLnB1c2goLi4udGhpcy5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICJpZCIpKTsNCiAgICAgIH0pOw0KICAgICAgLy8g6I635b6X5bKX5L2N5YiX6KGoDQogICAgICB0aGlzLnBvc3RPcHRpb25zID0gW107DQogICAgICBsaXN0U2ltcGxlUG9zdHMoKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5wb3N0T3B0aW9ucy5wdXNoKC4uLnJlc3BvbnNlLmRhdGEpOw0KICAgICAgfSk7DQogICAgICAvLyDojrflvpfnlKjmiLfliJfooagNCiAgICAgIHRoaXMudXNlck9wdGlvbnMgPSBbXTsNCiAgICAgIGxpc3RTaW1wbGVVc2VycygpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnVzZXJPcHRpb25zLnB1c2goLi4ucmVzcG9uc2UuZGF0YSk7DQogICAgICB9KTsNCiAgICAgIC8vIOiOt+W+l+eUqOaIt+e7hOWIl+ihqA0KICAgICAgdGhpcy51c2VyR3JvdXBPcHRpb25zID0gW107DQogICAgICBsaXN0U2ltcGxlVXNlckdyb3VwcygpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnVzZXJHcm91cE9wdGlvbnMucHVzaCguLi5yZXNwb25zZS5kYXRhKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqIOiOt+W+l+S7u+WKoeWIhumFjeinhOWImeWIl+ihqCAqLw0KICAgIGdldExpc3QoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgZ2V0VGFza0Fzc2lnblJ1bGVMaXN0KHsNCiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkLA0KICAgICAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiB0aGlzLnByb2Nlc3NEZWZpbml0aW9uSWQsDQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGE7DQogICAgICB9KQ0KICAgIH0sDQogICAgLyoqIOWkhOeQhuS/ruaUueS7u+WKoeWIhumFjeinhOWImeeahOaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZVVwZGF0ZVRhc2tBc3NpZ25SdWxlKHJvdykgew0KICAgICAgLy8g5YWI6YeN572u5qCH6K+GDQogICAgICB0aGlzLnJlc2V0QXNzaWduUnVsZUZvcm0oKTsNCiAgICAgIC8vIOiuvue9ruihqOWNlQ0KICAgICAgdGhpcy5mb3JtID0gew0KICAgICAgICAuLi5yb3csDQogICAgICAgIG9wdGlvbnM6IFtdLA0KICAgICAgICByb2xlSWRzOiBbXSwNCiAgICAgICAgZGVwdElkczogW10sDQogICAgICAgIHBvc3RJZHM6IFtdLA0KICAgICAgICB1c2VySWRzOiBbXSwNCiAgICAgICAgdXNlckdyb3VwSWRzOiBbXSwNCiAgICAgICAgc2NyaXB0czogW10sDQogICAgICB9Ow0KICAgICAgLy8g5bCGIG9wdGlvbnMg6LWL5YC85Yiw5a+55bqU55qEIHJvbGVJZHMg562J6YCJ6aG5DQogICAgICBpZiAocm93LnR5cGUgPT09IDEwKSB7DQogICAgICAgIHRoaXMuZm9ybS5yb2xlSWRzLnB1c2goLi4ucm93Lm9wdGlvbnMpOw0KICAgICAgfSBlbHNlIGlmIChyb3cudHlwZSA9PT0gMjAgfHwgcm93LnR5cGUgPT09IDIxKSB7DQogICAgICAgIHRoaXMuZm9ybS5kZXB0SWRzLnB1c2goLi4ucm93Lm9wdGlvbnMpOw0KICAgICAgfSBlbHNlIGlmIChyb3cudHlwZSA9PT0gMjIpIHsNCiAgICAgICAgdGhpcy5mb3JtLnBvc3RJZHMucHVzaCguLi5yb3cub3B0aW9ucyk7DQogICAgICB9IGVsc2UgaWYgKHJvdy50eXBlID09PSAzMCB8fCByb3cudHlwZSA9PT0gMzEgfHwgcm93LnR5cGUgPT09IDMyKSB7DQogICAgICAgIHRoaXMuZm9ybS51c2VySWRzLnB1c2goLi4ucm93Lm9wdGlvbnMpOw0KICAgICAgfSBlbHNlIGlmIChyb3cudHlwZSA9PT0gNDApIHsNCiAgICAgICAgdGhpcy5mb3JtLnVzZXJHcm91cElkcy5wdXNoKC4uLnJvdy5vcHRpb25zKTsNCiAgICAgIH0gZWxzZSBpZiAocm93LnR5cGUgPT09IDUwKSB7DQogICAgICAgIHRoaXMuZm9ybS5zY3JpcHRzLnB1c2goLi4ucm93Lm9wdGlvbnMpOw0KICAgICAgfQ0KICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8qKiDmj5DkuqTku7vliqHliIbphY3op4TliJnnmoTooajljZUgKi8NCiAgICBzdWJtaXRBc3NpZ25SdWxlRm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbInRhc2tBc3NpZ25SdWxlRm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgLy8g5p6E5bu66KGo5Y2VDQogICAgICAgICAgbGV0IGZvcm0gPSB7DQogICAgICAgICAgICAuLi50aGlzLmZvcm0sDQogICAgICAgICAgICB0YXNrRGVmaW5pdGlvbk5hbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgICB9Ow0KICAgICAgICAgIC8vIOWwhiByb2xlSWRzIOetiemAiemhuei1i+WAvOWIsCBvcHRpb25zIOS4rQ0KICAgICAgICAgIGlmIChmb3JtLnR5cGUgPT09IDEwKSB7DQogICAgICAgICAgICBmb3JtLm9wdGlvbnMgPSBmb3JtLnJvbGVJZHM7DQogICAgICAgICAgfSBlbHNlIGlmIChmb3JtLnR5cGUgPT09IDIwIHx8IGZvcm0udHlwZSA9PT0gMjEpIHsNCiAgICAgICAgICAgIGZvcm0ub3B0aW9ucyA9IGZvcm0uZGVwdElkczsNCiAgICAgICAgICB9IGVsc2UgaWYgKGZvcm0udHlwZSA9PT0gMjIpIHsNCiAgICAgICAgICAgIGZvcm0ub3B0aW9ucyA9IGZvcm0ucG9zdElkczsNCiAgICAgICAgICB9IGVsc2UgaWYgKGZvcm0udHlwZSA9PT0gMzAgfHwgZm9ybS50eXBlID09PSAzMSB8fCBmb3JtLnR5cGUgPT09IDMyKSB7DQogICAgICAgICAgICBmb3JtLm9wdGlvbnMgPSBmb3JtLnVzZXJJZHM7DQogICAgICAgICAgfSBlbHNlIGlmIChmb3JtLnR5cGUgPT09IDQwKSB7DQogICAgICAgICAgICBmb3JtLm9wdGlvbnMgPSBmb3JtLnVzZXJHcm91cElkczsNCiAgICAgICAgICB9IGVsc2UgaWYgKGZvcm0udHlwZSA9PT0gNTApIHsNCiAgICAgICAgICAgIGZvcm0ub3B0aW9ucyA9IGZvcm0uc2NyaXB0czsNCiAgICAgICAgICB9DQogICAgICAgICAgZm9ybS5yb2xlSWRzID0gdW5kZWZpbmVkOw0KICAgICAgICAgIGZvcm0uZGVwdElkcyA9IHVuZGVmaW5lZDsNCiAgICAgICAgICBmb3JtLnBvc3RJZHMgPSB1bmRlZmluZWQ7DQogICAgICAgICAgZm9ybS51c2VySWRzID0gdW5kZWZpbmVkOw0KICAgICAgICAgIGZvcm0udXNlckdyb3VwSWRzID0gdW5kZWZpbmVkOw0KICAgICAgICAgIGZvcm0uc2NyaXB0cyA9IHVuZGVmaW5lZDsNCiAgICAgICAgICAvLyDmlrDlop4NCiAgICAgICAgICBpZiAoIWZvcm0uaWQpIHsNCiAgICAgICAgICAgIGZvcm0ubW9kZWxJZCA9IHRoaXMubW9kZWxJZDsgLy8g5qih5Z6L57yW5Y+3DQogICAgICAgICAgICBjcmVhdGVUYXNrQXNzaWduUnVsZShmb3JtKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8g5L+u5pS5DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZvcm0udGFza0RlZmluaXRpb25LZXkgPSB1bmRlZmluZWQ7IC8vIOaXoOazleS/ruaUuQ0KICAgICAgICAgICAgdXBkYXRlVGFza0Fzc2lnblJ1bGUoZm9ybSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOw0KICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqIOWPlua2iOS7u+WKoeWIhumFjeinhOWImeeahOihqOWNlSAqLw0KICAgIGNhbmNlbEFzc2lnblJ1bGVGb3JtKCkgew0KICAgICAgdGhpcy5vcGVuID0gZmFsc2U7DQogICAgICB0aGlzLnJlc2V0QXNzaWduUnVsZUZvcm0oKTsNCiAgICB9LA0KICAgIC8qKiDooajljZXph43nva4gKi8NCiAgICByZXNldEFzc2lnblJ1bGVGb3JtKCkgew0KICAgICAgdGhpcy5mb3JtID0ge307DQogICAgICB0aGlzLnJlc2V0Rm9ybSgidGFza0Fzc2lnblJ1bGVGb3JtIik7DQogICAgfSwNCiAgICBnZXRBc3NpZ25SdWxlT3B0aW9uTmFtZSh0eXBlLCBvcHRpb24pIHsNCiAgICAgIGlmICh0eXBlID09PSAxMCkgew0KICAgICAgICBmb3IgKGNvbnN0IHJvbGVPcHRpb24gb2YgdGhpcy5yb2xlT3B0aW9ucykgew0KICAgICAgICAgIGlmIChyb2xlT3B0aW9uLmlkID09PSBvcHRpb24pIHsNCiAgICAgICAgICAgIHJldHVybiByb2xlT3B0aW9uLm5hbWU7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIwIHx8IHR5cGUgPT09IDIxKSB7DQogICAgICAgIGZvciAoY29uc3QgZGVwdE9wdGlvbiBvZiB0aGlzLmRlcHRPcHRpb25zKSB7DQogICAgICAgICAgaWYgKGRlcHRPcHRpb24uaWQgPT09IG9wdGlvbikgew0KICAgICAgICAgICAgcmV0dXJuIGRlcHRPcHRpb24ubmFtZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMjIpIHsNCiAgICAgICAgZm9yIChjb25zdCBwb3N0T3B0aW9uIG9mIHRoaXMucG9zdE9wdGlvbnMpIHsNCiAgICAgICAgICBpZiAocG9zdE9wdGlvbi5pZCA9PT0gb3B0aW9uKSB7DQogICAgICAgICAgICByZXR1cm4gcG9zdE9wdGlvbi5uYW1lOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAzMCB8fCB0eXBlID09PSAzMSB8fCB0eXBlID09PSAzMikgew0KICAgICAgICBmb3IgKGNvbnN0IHVzZXJPcHRpb24gb2YgdGhpcy51c2VyT3B0aW9ucykgew0KICAgICAgICAgIGlmICh1c2VyT3B0aW9uLmlkID09PSBvcHRpb24pIHsNCiAgICAgICAgICAgIHJldHVybiB1c2VyT3B0aW9uLm5pY2tuYW1lOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0eXBlID09PSA0MCkgew0KICAgICAgICBmb3IgKGNvbnN0IHVzZXJHcm91cE9wdGlvbiBvZiB0aGlzLnVzZXJHcm91cE9wdGlvbnMpIHsNCiAgICAgICAgICBpZiAodXNlckdyb3VwT3B0aW9uLmlkID09PSBvcHRpb24pIHsNCiAgICAgICAgICAgIHJldHVybiB1c2VyR3JvdXBPcHRpb24ubmFtZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gNTApIHsNCiAgICAgICAgb3B0aW9uID0gb3B0aW9uICsgJyc7IC8vIOi9rOaNouaIkCBzdHJpbmcNCiAgICAgICAgZm9yIChjb25zdCBkaWN0RGF0YSBvZiB0aGlzLnRhc2tBc3NpZ25TY3JpcHREaWN0RGF0YXMpIHsNCiAgICAgICAgICBpZiAoZGljdERhdGEudmFsdWUgPT09IG9wdGlvbikgew0KICAgICAgICAgICAgcmV0dXJuIGRpY3REYXRhLmxhYmVsOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuICfmnKrnn6UoJyArIG9wdGlvbiArICcpJzsNCiAgICB9LA0KICAgIC8vIOagvOW8j+WMlumDqOmXqOeahOS4i+aLieahhg0KICAgIG5vcm1hbGl6ZXIobm9kZSkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaWQ6IG5vZGUuaWQsDQogICAgICAgIGxhYmVsOiBub2RlLm5hbWUsDQogICAgICAgIGNoaWxkcmVuOiBub2RlLmNoaWxkcmVuDQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["taskAssignRuleDialog.vue"],"names":[],"mappings":";AAiFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"taskAssignRuleDialog.vue","sourceRoot":"src/views/bpm/taskAssignRule","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 列表弹窗 -->\r\n    <el-dialog title=\"任务分配规则\" :visible.sync=\"visible\" width=\"800px\" append-to-body>\r\n      <el-table v-loading=\"loading\" :data=\"list\">\r\n        <el-table-column label=\"任务名\" align=\"center\" prop=\"taskDefinitionName\" width=\"120\" fixed />\r\n        <el-table-column label=\"任务标识\" align=\"center\" prop=\"taskDefinitionKey\" width=\"120\" show-tooltip-when-overflow />\r\n        <el-table-column label=\"规则类型\" align=\"center\" prop=\"type\" width=\"120\">\r\n          <template v-slot=\"scope\">\r\n            <dict-tag :type=\"DICT_TYPE.BPM_TASK_ASSIGN_RULE_TYPE\" :value=\"scope.row.type\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"规则范围\" align=\"center\" prop=\"options\" width=\"440px\">\r\n          <template v-slot=\"scope\">\r\n            <el-tag size=\"medium\" v-if=\"scope.row.options\" :key=\"option\" v-for=\"option in scope.row.options\">\r\n              {{ getAssignRuleOptionName(scope.row.type, option) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"modelId\" label=\"操作\" align=\"center\" width=\"80\" fixed=\"right\">\r\n          <template v-slot=\"scope\">\r\n            <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleUpdateTaskAssignRule(scope.row)\"\r\n                       v-hasPermi=\"['bpm:task-assign-rule:update']\">修改</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n    <!-- 添加/修改弹窗 -->\r\n    <el-dialog title=\"修改任务规则\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"taskAssignRuleForm\" :model=\"form\" :rules=\"rules\" label-width=\"110px\">\r\n        <el-form-item label=\"任务名称\" prop=\"taskDefinitionName\">\r\n          <el-input v-model=\"form.taskDefinitionName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"任务标识\" prop=\"taskDefinitionKey\">\r\n          <el-input v-model=\"form.taskDefinitionKey\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"规则类型\" prop=\"type\">\r\n          <el-select v-model=\"form.type\" clearable style=\"width: 100%\">\r\n            <el-option v-for=\"dict in taskAssignRuleTypeDictDatas\" :key=\"parseInt(dict.value)\" :label=\"dict.label\" :value=\"parseInt(dict.value)\"/>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.type === 10\" label=\"指定角色\" prop=\"roleIds\">\r\n          <el-select v-model=\"form.roleIds\" multiple clearable style=\"width: 100%\">\r\n            <el-option v-for=\"item in roleOptions\" :key=\"parseInt(item.id)\" :label=\"item.name\" :value=\"parseInt(item.id)\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.type === 20 || form.type === 21\" label=\"指定部门\" prop=\"deptIds\">\r\n          <treeselect v-model=\"form.deptIds\" :options=\"deptTreeOptions\" multiple flat :defaultExpandLevel=\"3\"\r\n                      placeholder=\"请选择指定部门\" :normalizer=\"normalizer\"/>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.type === 22\" label=\"指定岗位\" prop=\"postIds\">\r\n          <el-select v-model=\"form.postIds\" multiple clearable style=\"width: 100%\">\r\n            <el-option v-for=\"item in postOptions\" :key=\"parseInt(item.id)\" :label=\"item.name\" :value=\"parseInt(item.id)\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.type === 30 || form.type === 31 || form.type === 32\" label=\"指定用户\" prop=\"userIds\">\r\n          <el-select v-model=\"form.userIds\" multiple clearable style=\"width: 100%\">\r\n            <el-option v-for=\"item in userOptions\" :key=\"parseInt(item.id)\" :label=\"item.nickname\" :value=\"parseInt(item.id)\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.type === 40\" label=\"指定用户组\" prop=\"userGroupIds\">\r\n          <el-select v-model=\"form.userGroupIds\" multiple clearable style=\"width: 100%\">\r\n            <el-option v-for=\"item in userGroupOptions\" :key=\"parseInt(item.id)\" :label=\"item.name\" :value=\"parseInt(item.id)\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.type === 50\" label=\"指定脚本\" prop=\"scripts\">\r\n          <el-select v-model=\"form.scripts\" multiple clearable style=\"width: 100%\">\r\n            <el-option v-for=\"dict in taskAssignScriptDictDatas\" :key=\"parseInt(dict.value)\"\r\n                       :label=\"dict.label\" :value=\"parseInt(dict.value)\"/>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitAssignRuleForm\">确 定</el-button>\r\n        <el-button @click=\"cancelAssignRuleForm\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {DICT_TYPE, getDictDatas} from \"@/utils/dict\";\r\nimport {createTaskAssignRule, getTaskAssignRuleList, updateTaskAssignRule} from \"@/api/bpm/taskAssignRule\";\r\nimport {listSimpleRoles} from \"@/api/system/role\";\r\nimport {listSimpleDepts} from \"@/api/system/dept\";\r\n\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\nimport {listSimplePosts} from \"@/api/system/post\";\r\nimport {listSimpleUsers} from \"@/api/system/user\";\r\nimport {listSimpleUserGroups} from \"@/api/bpm/userGroup\";\r\n\r\nexport default {\r\n  name: \"BpmTaskAssignRule\",\r\n  components: {\r\n    Treeselect\r\n  },\r\n  data() {\r\n    return {\r\n      // 如下参数，可传递\r\n      modelId: undefined, // 流程模型的编号。如果 modelId 非空，则用于流程模型的查看与配置\r\n      processDefinitionId: undefined, // 流程定义的编号。如果 processDefinitionId 非空，则用于流程定义的查看，不支持配置\r\n      visible: false,\r\n\r\n      // 任务分配规则表单\r\n      row: undefined, // 选中的流程模型\r\n      list: [], // 选中流程模型的任务分配规则们\r\n      loading: false, // 加载中\r\n      open: false, // 是否打开\r\n      form: {}, // 表单\r\n      rules: { // 表单校验规则\r\n        type: [{ required: true, message: \"规则类型不能为空\", trigger: \"change\" }],\r\n        roleIds: [{required: true, message: \"指定角色不能为空\", trigger: \"change\" }],\r\n        deptIds: [{required: true, message: \"指定部门不能为空\", trigger: \"change\" }],\r\n        postIds: [{required: true, message: \"指定岗位不能为空\", trigger: \"change\"}],\r\n        userIds: [{required: true, message: \"指定用户不能为空\", trigger: \"change\"}],\r\n        userGroupIds: [{required: true, message: \"指定用户组不能为空\", trigger: \"change\"}],\r\n        scripts: [{required: true, message: \"指定脚本不能为空\", trigger: \"change\"}],\r\n      },\r\n\r\n      // 各种下拉框\r\n      roleOptions: [],\r\n      deptOptions: [],\r\n      deptTreeOptions: [],\r\n      postOptions: [],\r\n      userOptions: [],\r\n      userGroupOptions: [],\r\n\r\n      // 数据字典\r\n      modelFormTypeDictDatas: getDictDatas(DICT_TYPE.BPM_MODEL_FORM_TYPE),\r\n      taskAssignRuleTypeDictDatas: getDictDatas(DICT_TYPE.BPM_TASK_ASSIGN_RULE_TYPE),\r\n      taskAssignScriptDictDatas: getDictDatas(DICT_TYPE.BPM_TASK_ASSIGN_SCRIPT),\r\n    };\r\n  },\r\n  methods: {\r\n    initModel(modelId) {\r\n      this.modelId = modelId;\r\n      this.processDefinitionId = undefined;\r\n\r\n      // 初始化所有下拉框\r\n      this.init0();\r\n    },\r\n    initProcessDefinition(processDefinitionId) {\r\n      this.modelId = undefined;\r\n      this.processDefinitionId = processDefinitionId;\r\n\r\n      // 初始化所有下拉框\r\n      this.init0();\r\n    },\r\n    /** 初始化 */\r\n    init0() {\r\n      // 设置可见\r\n      this.visible = true;\r\n      // 获得列表\r\n      this.getList();\r\n\r\n      // 获得角色列表\r\n      this.roleOptions = [];\r\n      listSimpleRoles().then(response => {\r\n        this.roleOptions.push(...response.data);\r\n      });\r\n      // 获得部门列表\r\n      this.deptOptions = [];\r\n      this.deptTreeOptions = [];\r\n      listSimpleDepts().then(response => {\r\n        this.deptOptions.push(...response.data);\r\n        this.deptTreeOptions.push(...this.handleTree(response.data, \"id\"));\r\n      });\r\n      // 获得岗位列表\r\n      this.postOptions = [];\r\n      listSimplePosts().then(response => {\r\n        this.postOptions.push(...response.data);\r\n      });\r\n      // 获得用户列表\r\n      this.userOptions = [];\r\n      listSimpleUsers().then(response => {\r\n        this.userOptions.push(...response.data);\r\n      });\r\n      // 获得用户组列表\r\n      this.userGroupOptions = [];\r\n      listSimpleUserGroups().then(response => {\r\n        this.userGroupOptions.push(...response.data);\r\n      });\r\n    },\r\n    /** 获得任务分配规则列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      getTaskAssignRuleList({\r\n        modelId: this.modelId,\r\n        processDefinitionId: this.processDefinitionId,\r\n      }).then(response => {\r\n        this.loading = false;\r\n        this.list = response.data;\r\n      })\r\n    },\r\n    /** 处理修改任务分配规则的按钮操作 */\r\n    handleUpdateTaskAssignRule(row) {\r\n      // 先重置标识\r\n      this.resetAssignRuleForm();\r\n      // 设置表单\r\n      this.form = {\r\n        ...row,\r\n        options: [],\r\n        roleIds: [],\r\n        deptIds: [],\r\n        postIds: [],\r\n        userIds: [],\r\n        userGroupIds: [],\r\n        scripts: [],\r\n      };\r\n      // 将 options 赋值到对应的 roleIds 等选项\r\n      if (row.type === 10) {\r\n        this.form.roleIds.push(...row.options);\r\n      } else if (row.type === 20 || row.type === 21) {\r\n        this.form.deptIds.push(...row.options);\r\n      } else if (row.type === 22) {\r\n        this.form.postIds.push(...row.options);\r\n      } else if (row.type === 30 || row.type === 31 || row.type === 32) {\r\n        this.form.userIds.push(...row.options);\r\n      } else if (row.type === 40) {\r\n        this.form.userGroupIds.push(...row.options);\r\n      } else if (row.type === 50) {\r\n        this.form.scripts.push(...row.options);\r\n      }\r\n      this.open = true;\r\n    },\r\n    /** 提交任务分配规则的表单 */\r\n    submitAssignRuleForm() {\r\n      this.$refs[\"taskAssignRuleForm\"].validate(valid => {\r\n        if (valid) {\r\n          // 构建表单\r\n          let form = {\r\n            ...this.form,\r\n            taskDefinitionName: undefined,\r\n          };\r\n          // 将 roleIds 等选项赋值到 options 中\r\n          if (form.type === 10) {\r\n            form.options = form.roleIds;\r\n          } else if (form.type === 20 || form.type === 21) {\r\n            form.options = form.deptIds;\r\n          } else if (form.type === 22) {\r\n            form.options = form.postIds;\r\n          } else if (form.type === 30 || form.type === 31 || form.type === 32) {\r\n            form.options = form.userIds;\r\n          } else if (form.type === 40) {\r\n            form.options = form.userGroupIds;\r\n          } else if (form.type === 50) {\r\n            form.options = form.scripts;\r\n          }\r\n          form.roleIds = undefined;\r\n          form.deptIds = undefined;\r\n          form.postIds = undefined;\r\n          form.userIds = undefined;\r\n          form.userGroupIds = undefined;\r\n          form.scripts = undefined;\r\n          // 新增\r\n          if (!form.id) {\r\n            form.modelId = this.modelId; // 模型编号\r\n            createTaskAssignRule(form).then(response => {\r\n              this.$modal.msgSuccess(\"修改成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n            // 修改\r\n          } else {\r\n            form.taskDefinitionKey = undefined; // 无法修改\r\n            updateTaskAssignRule(form).then(response => {\r\n              this.$modal.msgSuccess(\"修改成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /** 取消任务分配规则的表单 */\r\n    cancelAssignRuleForm() {\r\n      this.open = false;\r\n      this.resetAssignRuleForm();\r\n    },\r\n    /** 表单重置 */\r\n    resetAssignRuleForm() {\r\n      this.form = {};\r\n      this.resetForm(\"taskAssignRuleForm\");\r\n    },\r\n    getAssignRuleOptionName(type, option) {\r\n      if (type === 10) {\r\n        for (const roleOption of this.roleOptions) {\r\n          if (roleOption.id === option) {\r\n            return roleOption.name;\r\n          }\r\n        }\r\n      } else if (type === 20 || type === 21) {\r\n        for (const deptOption of this.deptOptions) {\r\n          if (deptOption.id === option) {\r\n            return deptOption.name;\r\n          }\r\n        }\r\n      } else if (type === 22) {\r\n        for (const postOption of this.postOptions) {\r\n          if (postOption.id === option) {\r\n            return postOption.name;\r\n          }\r\n        }\r\n      } else if (type === 30 || type === 31 || type === 32) {\r\n        for (const userOption of this.userOptions) {\r\n          if (userOption.id === option) {\r\n            return userOption.nickname;\r\n          }\r\n        }\r\n      } else if (type === 40) {\r\n        for (const userGroupOption of this.userGroupOptions) {\r\n          if (userGroupOption.id === option) {\r\n            return userGroupOption.name;\r\n          }\r\n        }\r\n      } else if (type === 50) {\r\n        option = option + ''; // 转换成 string\r\n        for (const dictData of this.taskAssignScriptDictDatas) {\r\n          if (dictData.value === option) {\r\n            return dictData.label;\r\n          }\r\n        }\r\n      }\r\n      return '未知(' + option + ')';\r\n    },\r\n    // 格式化部门的下拉框\r\n    normalizer(node) {\r\n      return {\r\n        id: node.id,\r\n        label: node.name,\r\n        children: node.children\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}